"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[374],{4374:function(e,n,t){t.r(n);var a=t(4165),i=t(5861),r=t(2791),s=t(9434),u=t(3360),l=t(5247),o=(t(7057),t(7689)),c=t(6308),d=t(5705),m=t(184);n.default=function(){(0,s.v9)((function(e){return e.token.token}));document.title="\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f";(0,r.useRef)(null),(0,r.useRef)(null);var e=(0,o.s0)(),n=(0,s.I0)(),t=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(i,r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.I)(i||"",r||"");case 2:return t.next=4,n((0,c._)());case 4:e("/");case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return localStorage.getItem("token")?(0,m.jsx)("div",{className:"Login",children:(0,m.jsx)("div",{children:(0,m.jsx)("h2",{children:"\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"})})}):(0,m.jsx)("div",{className:"Login",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"\u0412\u0445\u043e\u0434"}),(0,m.jsx)(d.J9,{initialValues:{email:"",password:""},validate:function(e){var n={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(n.email="Invalid email address"):n.email="Required",n},onSubmit:function(e,n){n.setSubmitting;t(e.email,e.password)},children:function(e){var n=e.values,t=e.errors,a=e.touched,i=e.handleChange,r=e.handleBlur,s=e.handleSubmit,l=e.isSubmitting;return(0,m.jsxs)("form",{onSubmit:s,children:[(0,m.jsx)("input",{type:"email",name:"email",onChange:i,onBlur:r,value:n.email}),t.email&&a.email&&t.email,(0,m.jsx)("br",{}),(0,m.jsx)("input",{type:"password",name:"password",onChange:i,onBlur:r,value:n.password}),t.password&&a.password&&t.password,(0,m.jsx)(u.Z,{type:"submit",disabled:l,children:"\u0412\u0445\u043e\u0434"})]})}})]})})}},5247:function(e,n,t){t.d(n,{I:function(){return r},l:function(){return s}});var a=t(2388),i=t(2905);function r(e,n){return a.Z.post("".concat(i.gd,"/user/login"),{password:n,email:e}).then((function(e){localStorage.setItem("token",e.data.token)}))}function s(e,n,t,r){return a.Z.post("".concat(i.gd,"/user/registration"),{password:n,lastName:r,firstName:t,email:e})}},7057:function(){}}]);
//# sourceMappingURL=374.c2b4b761.chunk.js.map