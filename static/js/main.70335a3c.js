/*! For license information please see main.70335a3c.js.LICENSE.txt */
!function(){var e={2905:function(e,t,n){"use strict";n.d(t,{gd:function(){return i},o6:function(){return a}});var r=n(456),i="http://localhost:5001/api",a=(localStorage.getItem("token")&&(0,r.Z)(localStorage.getItem("token")||""),"localhost:5001")},7437:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var r=n(4165),i=n(5861),a=n(2388),o=n(456);localStorage.getItem("token")&&(0,o.Z)(localStorage.getItem("token")||"");function u(e){return s.apply(this,arguments)}function s(){return(s=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.post("http://localhost:5001/api/user/getone",{id:t});case 2:return n=e.sent,i=n.data.user,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9376:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ke}});var r=n(4165),i=n(5861),a=n(9439),o=n(2791),u=n(9434),s=n(4560),c=n(2905),l=n(3360),f=n(7689),h=n(3191),d=n(456),p=n(2388),v=n(184),y=function(e){e.users;var t=localStorage.getItem("token")?(0,d.Z)(localStorage.getItem("token")||""):null,n=(0,o.useState)(!1),s=(0,a.Z)(n,2),c=s[0],h=s[1],y=(0,u.v9)((function(e){return e.mainInfo.mainInfo}));function m(){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.get("http://localhost:5001/api/chat/getOne?secondUser=".concat(y.email,"&email=").concat((null===t||void 0===t?void 0:t.email)||""),{headers:{Authorization:"bearer ".concat(localStorage.getItem("token"))}});case 2:n=e.sent,h(n.data.message);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,o.useEffect)((function(){m()}),[y]);var b=(0,f.s0)();function k(){return(k=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.post("http://localhost:5001/api/chat/create",{secondEmail:null===y||void 0===y?void 0:y.email,email:(null===t||void 0===t?void 0:t.email)||""});case 2:n=e.sent,console.log(n.data.response.idRoom),b("/im/".concat(n.data.response.idRoom)),m();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,v.jsx)(v.Fragment,{children:c?(0,v.jsx)(l.Z,{onClick:function(){return k.apply(this,arguments)},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0447\u0430\u0442"}):""})},m=n(3692),g=(0,o.memo)((function(){var e=(0,u.v9)((function(e){return e.mainInfo.mainInfo})),t=(0,u.I0)(),n=(0,f.UO)(),p=(0,o.useState)(!1),g=(0,a.Z)(p,2),b=g[0],k=g[1],w=localStorage.getItem("token")?(0,d.Z)(localStorage.getItem("token")||""):localStorage.getItem("token");function x(){return E.apply(this,arguments)}function E(){return E=(0,i.Z)((0,r.Z)().mark((function e(){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token")?(0,d.Z)(localStorage.getItem("token")||""):localStorage.getItem("token"),e.next=3,(0,h.fU)(n.id||"",t.id||"");case 3:i=e.sent,k(null===i||void 0===i?void 0:i.message);case 5:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function _(){return(_=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,h.FU)(n.id||"",w.id||"").then((function(){x()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useLayoutEffect)((function(){t((0,s.Re)()),x()}),[]),(0,v.jsx)("div",{className:"Main__info",children:(0,v.jsx)("div",{className:"Info__fixed",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{src:"http://".concat(c.o6,"/").concat(null===e||void 0===e?void 0:e.img),alt:""}),(0,v.jsx)("p",{children:null===e||void 0===e?void 0:e.email}),b?(0,v.jsx)(l.Z,{onClick:function(){(0,h.j6)(n.id||"",w.id||"").then((function(){x()}))},children:"\u0412\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b"}):(0,v.jsx)(l.Z,{onClick:function(){return _.apply(this,arguments)},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}),(0,v.jsx)(y,{users:e.email}),(0,v.jsx)(m.Z,{})]})})})})),b=g,k=n(780),w=n(2571),x=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.post("".concat(c.gd,"/comment/create"),{text:i,userId:n,feedId:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),E=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.get("".concat(c.gd,"/comment/getall?id=").concat(t));case 2:return i=e.sent,e.abrupt("return",null===(n=i.data)||void 0===n?void 0:n.comment);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.id,n=(0,u.v9)((function(e){return e.limit.limit})),s=(0,o.useState)(""),c=(0,a.Z)(s,2),h=c[0],p=c[1],y=(0,o.useRef)(null),m=(0,u.I0)(),g=(0,f.UO)(),b=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var i,a,o,u,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(0,d.Z)(localStorage.getItem("token")||""),null===k||void 0===k||null===(i=k.current)||void 0===i||null===(a=i.textContent)||void 0===a||!a.length){e.next=7;break}return p(""),e.next=5,x(t,u.id,(null===k||void 0===k||null===(s=k.current)||void 0===s?void 0:s.innerHTML)||"");case 5:e.next=8;break;case 7:p("\u041e\u0448\u0438\u0431\u043a\u0430");case 8:m((0,w.asyncNewsAction)(g,n)),c={event:"newsAdd"},null===(o=y.current)||void 0===o||o.send(JSON.stringify(c));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=(0,o.useRef)(null);return(0,v.jsxs)("div",{className:"Comment__inp",children:[(0,v.jsxs)("div",{className:"Comment__input",children:[(0,v.jsx)("div",{contentEditable:"true",id:"text",ref:k,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043f\u0438\u0441\u0438"}),h]}),(0,v.jsx)(l.Z,{onClick:b,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},S=n(1087),I=function(e){var t=e.comment,n=(0,o.useState)(!1),u=(0,a.Z)(n,2),s=u[0],l=u[1],f=(0,o.useState)([]),h=(0,a.Z)(f,2),d=h[0],p=h[1],y=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(null===(n=t[0])||void 0===n?void 0:n.feedId);case 2:i=e.sent,p(i),l(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){d.length&&y()}),[t]),s?(0,v.jsx)("div",{children:null===d||void 0===d?void 0:d.map((function(e){return(0,v.jsxs)("div",{className:"Comment__unit",children:[(0,v.jsx)("div",{className:"Unit__Img",children:(0,v.jsx)("img",{src:"http://".concat(c.o6,"/").concat(e.user.img),alt:""})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"Unit__name",children:(0,v.jsx)(S.rU,{to:"/my/".concat(e.user.id),children:e.user.name})}),(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.text},className:"Unit__text"})]})]},e.id)}))}):(0,v.jsxs)("div",{children:[null===t||void 0===t?void 0:t.map((function(e){return(0,v.jsxs)("div",{className:"Comment__unit",children:[(0,v.jsx)("div",{className:"Unit__Img",children:(0,v.jsx)("img",{src:"http://".concat(c.o6,"/").concat(e.user.img),alt:""})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"Unit__name",children:(0,v.jsx)(S.rU,{to:"/my/".concat(e.user.id),children:e.user.name})}),(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.text},className:"Unit__text"})]})]},e.id)})),t.length>=2?(0,v.jsx)("p",{className:"Comment_ShowAll",onClick:y,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0451"}):""]})},T=function(e){var t=e.id,n=e.comment;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(I,{comment:n}),(0,v.jsx)(_,{id:t})]})},Z=n(1413),N=n(5987);var C=function(e){var t=(0,o.useRef)(e);return(0,o.useEffect)((function(){t.current=e}),[e]),t};function O(e){var t=C(e);return(0,o.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var A=function(e,t){var n=(0,o.useRef)(!0);(0,o.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)};function D(e){var t=function(e){var t=(0,o.useRef)(e);return t.current=e,t}(e);(0,o.useEffect)((function(){return function(){return t.current()}}),[])}var R=Math.pow(2,31)-1;function P(e,t,n){var r=n-Date.now();e.current=r<=R?setTimeout(t,r):setTimeout((function(){return P(e,t,n)}),R)}function L(){var e=function(){var e=(0,o.useRef)(!0),t=(0,o.useRef)((function(){return e.current}));return(0,o.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}(),t=(0,o.useRef)();return D((function(){return clearTimeout(t.current)})),(0,o.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=R?t.current=setTimeout(r,i):P(t,r,Date.now()+i))},clear:n}}),[])}var M="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||M?o.useLayoutEffect:o.useEffect,new WeakMap;var F=n(5341),j=["onKeyDown"];var U=o.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,j),o=(0,F.FT)(Object.assign({tagName:"a"},i)),u=(0,a.Z)(o,1)[0],s=O((function(e){u.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,v.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,v.jsx)("a",Object.assign({ref:t},i,u,{onKeyDown:s}))}));U.displayName="Anchor";var V=U,q=n(1694),B=n.n(q),z=n(7462),G=n(3366);n(2176);function Q(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function K(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function W(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,u=a[Q(r)],s=a[r],c=(0,G.Z)(a,[Q(r),r].map(K)),l=t[r],f=function(e,t,n){var r=(0,o.useRef)(void 0!==e),i=(0,o.useState)(t),a=i[0],u=i[1],s=void 0!==e,c=r.current;return r.current=s,!s&&c&&a!==t&&u(t),[s?e:a,(0,o.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),u(e)}),[n])]}(s,u,e[l]),h=f[0],d=f[1];return(0,z.Z)({},c,((i={})[r]=h,i[l]=d,i))}),e)}function H(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Y(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function $(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}H.__suppressDeprecationWarning=!0,Y.__suppressDeprecationWarning=!0,$.__suppressDeprecationWarning=!0;var J=/-(.)/g;var X=n(162),ee=["className","bsPrefix","as"],te=function(e){return e[0].toUpperCase()+function(e){return e.replace(J,(function(e,t){return t.toUpperCase()}))}(e).slice(1)};var ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,r=void 0===n?te(e):n,i=t.Component,a=t.defaultProps,u=o.forwardRef((function(t,n){var r=t.className,a=t.bsPrefix,o=t.as,u=void 0===o?i||"div":o,s=(0,N.Z)(t,ee),c=(0,X.vE)(a,e);return(0,v.jsx)(u,(0,Z.Z)({ref:n,className:B()(r,c)},s))}));return u.defaultProps=a,u.displayName=r,u}("carousel-caption"),re=["as","bsPrefix","className"],ie=o.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=(0,N.Z)(e,re),u=B()(a,(0,X.vE)(i,"carousel-item"));return(0,v.jsx)(r,(0,Z.Z)((0,Z.Z)({ref:t},o),{},{className:u}))}));ie.displayName="CarouselItem";var ae=ie;function oe(e,t){var n=0;return o.Children.map(e,(function(e){return o.isValidElement(e)?t(e,n++):e}))}function ue(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var se=/([A-Z])/g;var ce=/^ms-/;function le(e){return function(e){return e.replace(se,"-$1").toLowerCase()}(e).replace(ce,"-ms-")}var fe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var he=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(le(t))||function(e,t){return ue(e).getComputedStyle(e,t)}(e).getPropertyValue(le(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!fe.test(e))}(i)?n+=le(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(le(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},de=!("undefined"===typeof window||!window.document||!window.document.createElement),pe=!1,ve=!1;try{var ye={get passive(){return pe=!0},get once(){return ve=pe=!0}};de&&(window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,!0))}catch(We){}var me=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ve){var i=r.once,a=r.capture,o=n;!ve&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,pe?r:a)}e.addEventListener(t,n,r)};var ge=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var be=function(e,t,n,r){return me(e,t,n,r),function(){ge(e,t,n,r)}};function ke(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=be(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function we(e,t,n,r){null==n&&(n=function(e){var t=he(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=ke(e,n,r),a=be(e,"transitionend",t);return function(){i(),a()}}function xe(e,t){var n=he(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Ee(e,t){var n=xe(e,"transitionDuration"),r=xe(e,"transitionDelay"),i=we(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var _e=n(7726),Se=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Ie=function(e,t){return(0,o.useMemo)((function(){return function(e,t){var n=Se(e),r=Se(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])},Te=n(4164);var Ze=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Ne=o.forwardRef((function(e,t){var n=e.onEnter,r=e.onEntering,i=e.onEntered,a=e.onExit,u=e.onExiting,s=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,h=(0,N.Z)(e,Ze),d=(0,o.useRef)(null),p=Ie(d,f),y=function(e){var t;p((t=e)&&"setState"in t?Te.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},g=(0,o.useCallback)(m(n),[n]),b=(0,o.useCallback)(m(r),[r]),k=(0,o.useCallback)(m(i),[i]),w=(0,o.useCallback)(m(a),[a]),x=(0,o.useCallback)(m(u),[u]),E=(0,o.useCallback)(m(s),[s]),_=(0,o.useCallback)(m(c),[c]);return(0,v.jsx)(_e.ZP,(0,Z.Z)((0,Z.Z)({ref:t},h),{},{onEnter:g,onEntered:k,onEntering:b,onExit:w,onExited:E,onExiting:x,addEndListener:_,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,(0,Z.Z)((0,Z.Z)({},t),{},{ref:y}))}:o.cloneElement(l,{ref:y})}))})),Ce=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],Oe={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,v.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,v.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var Ae=o.forwardRef((function(e,t){var n=W(e,{activeIndex:"onSelect"}),r=n.as,i=void 0===r?"div":r,u=n.bsPrefix,s=n.slide,c=n.fade,l=n.controls,f=n.indicators,h=n.indicatorLabels,d=n.activeIndex,p=n.onSelect,y=n.onSlide,m=n.onSlid,g=n.interval,b=n.keyboard,k=n.onKeyDown,w=n.pause,x=n.onMouseOver,E=n.onMouseOut,_=n.wrap,S=n.touch,I=n.onTouchStart,T=n.onTouchMove,D=n.onTouchEnd,R=n.prevIcon,P=n.prevLabel,M=n.nextIcon,F=n.nextLabel,j=n.variant,U=n.className,q=n.children,z=(0,N.Z)(n,Ce),G=(0,X.vE)(u,"carousel"),Q=(0,X.SC)(),K=(0,o.useRef)(null),H=(0,o.useState)("next"),Y=(0,a.Z)(H,2),$=Y[0],J=Y[1],ee=(0,o.useState)(!1),te=(0,a.Z)(ee,2),ne=te[0],re=te[1],ie=(0,o.useState)(!1),ae=(0,a.Z)(ie,2),ue=ae[0],se=ae[1],ce=(0,o.useState)(d||0),le=(0,a.Z)(ce,2),fe=le[0],he=le[1];(0,o.useEffect)((function(){ue||d===fe||(K.current?J(K.current):J((d||0)>fe?"next":"prev"),s&&se(!0),he(d||0))}),[d,ue,fe,s]),(0,o.useEffect)((function(){K.current&&(K.current=null)}));var de,pe=0;!function(e,t){var n=0;o.Children.forEach(e,(function(e){o.isValidElement(e)&&t(e,n++)}))}(q,(function(e,t){++pe,t===d&&(de=e.props.interval)}));var ve=C(de),ye=(0,o.useCallback)((function(e){if(!ue){var t=fe-1;if(t<0){if(!_)return;t=pe-1}K.current="prev",null==p||p(t,e)}}),[ue,fe,p,_,pe]),me=O((function(e){if(!ue){var t=fe+1;if(t>=pe){if(!_)return;t=0}K.current="next",null==p||p(t,e)}})),ge=(0,o.useRef)();(0,o.useImperativeHandle)(t,(function(){return{element:ge.current,prev:ye,next:me}}));var be=O((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ge.current)&&(Q?ye():me())})),ke="next"===$?"start":"end";A((function(){s||(null==y||y(fe,ke),null==m||m(fe,ke))}),[fe]);var we="".concat(G,"-item-").concat($),xe="".concat(G,"-item-").concat(ke),_e=(0,o.useCallback)((function(e){!function(e){e.offsetHeight}(e),null==y||y(fe,ke)}),[y,fe,ke]),Se=(0,o.useCallback)((function(){se(!1),null==m||m(fe,ke)}),[m,fe,ke]),Ie=(0,o.useCallback)((function(e){if(b&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(Q?me(e):ye(e));case"ArrowRight":return e.preventDefault(),void(Q?ye(e):me(e))}null==k||k(e)}),[b,k,ye,me,Q]),Te=(0,o.useCallback)((function(e){"hover"===w&&re(!0),null==x||x(e)}),[w,x]),Ze=(0,o.useCallback)((function(e){re(!1),null==E||E(e)}),[E]),Oe=(0,o.useRef)(0),Ae=(0,o.useRef)(0),De=L(),Re=(0,o.useCallback)((function(e){Oe.current=e.touches[0].clientX,Ae.current=0,"hover"===w&&re(!0),null==I||I(e)}),[w,I]),Pe=(0,o.useCallback)((function(e){e.touches&&e.touches.length>1?Ae.current=0:Ae.current=e.touches[0].clientX-Oe.current,null==T||T(e)}),[T]),Le=(0,o.useCallback)((function(e){if(S){var t=Ae.current;Math.abs(t)>40&&(t>0?ye(e):me(e))}"hover"===w&&De.set((function(){re(!1)}),g||void 0),null==D||D(e)}),[S,w,ye,me,De,g,D]),Me=null!=g&&!ne&&!ue,Fe=(0,o.useRef)();(0,o.useEffect)((function(){var e,t;if(Me){var n=Q?ye:me;return Fe.current=window.setInterval(document.visibilityState?be:n,null!=(e=null!=(t=ve.current)?t:g)?e:void 0),function(){null!==Fe.current&&clearInterval(Fe.current)}}}),[Me,ye,me,ve,g,be,Q]);var je=(0,o.useMemo)((function(){return f&&Array.from({length:pe},(function(e,t){return function(e){null==p||p(t,e)}}))}),[f,pe,p]);return(0,v.jsxs)(i,(0,Z.Z)((0,Z.Z)({ref:ge},z),{},{onKeyDown:Ie,onMouseOver:Te,onMouseOut:Ze,onTouchStart:Re,onTouchMove:Pe,onTouchEnd:Le,className:B()(U,G,s&&"slide",c&&"".concat(G,"-fade"),j&&"".concat(G,"-").concat(j)),children:[f&&(0,v.jsx)("div",{className:"".concat(G,"-indicators"),children:oe(q,(function(e,t){return(0,v.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=h&&h.length?h[t]:"Slide ".concat(t+1),className:t===fe?"active":void 0,onClick:je?je[t]:void 0,"aria-current":t===fe},t)}))}),(0,v.jsx)("div",{className:"".concat(G,"-inner"),children:oe(q,(function(e,t){var n=t===fe;return s?(0,v.jsx)(Ne,{in:n,onEnter:n?_e:void 0,onEntered:n?Se:void 0,addEndListener:Ee,children:function(t,r){return o.cloneElement(e,(0,Z.Z)((0,Z.Z)({},r),{},{className:B()(e.props.className,n&&"entered"!==t&&we,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&xe)}))}}):o.cloneElement(e,{className:B()(e.props.className,n&&"active")})}))}),l&&(0,v.jsxs)(v.Fragment,{children:[(_||0!==d)&&(0,v.jsxs)(V,{className:"".concat(G,"-control-prev"),onClick:ye,children:[R,P&&(0,v.jsx)("span",{className:"visually-hidden",children:P})]}),(_||d!==pe-1)&&(0,v.jsxs)(V,{className:"".concat(G,"-control-next"),onClick:me,children:[M,F&&(0,v.jsx)("span",{className:"visually-hidden",children:F})]})]})]}))}));Ae.displayName="Carousel",Ae.defaultProps=Oe;var De=Object.assign(Ae,{Caption:ne,Item:ae}),Re=function(e){var t,n,r,i,a=e.img,o=["img","jpg","png","jfif"];return 0===a.length?(0,v.jsx)(v.Fragment,{}):1===a.length?(0,v.jsx)(v.Fragment,{children:o.includes(null===(t=a[0])||void 0===t?void 0:t.fileName.split(".")[1])?(0,v.jsx)("img",{src:"http://".concat(c.o6,"/").concat(null===(n=a[0])||void 0===n?void 0:n.fileName),alt:""}):(0,v.jsx)("video",{width:"320",height:"240",controls:!0,src:"http://".concat(c.o6,"/").concat(null===(r=a[0])||void 0===r?void 0:r.fileName),children:(0,v.jsx)("source",{src:"http://".concat(c.o6,"/").concat(null===(i=a[0])||void 0===i?void 0:i.fileName),type:"video/mp4"})})}):(0,v.jsx)("div",{children:(0,v.jsx)(De,{style:{zIndex:0,position:"relative"},fade:!0,interval:null,children:null===a||void 0===a?void 0:a.map((function(e){return(0,v.jsx)(De.Item,{children:o.includes(null===e||void 0===e?void 0:e.fileName.split(".")[1])?(0,v.jsx)("img",{src:"http://".concat(c.o6,"/").concat(null===e||void 0===e?void 0:e.fileName),alt:""}):(0,v.jsx)("video",{controls:!0,src:"http://".concat(c.o6,"/").concat(null===e||void 0===e?void 0:e.fileName)})},e.id)}))})})},Pe=n(9348),Le=n(6578),Me=n(4376),Fe=n(3187),je=n(189),Ue=function(e){var t,n,r,i=e.postId,s=e.userId,c=e.countComment,f=(0,Le.a)(je.XE,{variables:{input:{postId:i,userId:s}},pollInterval:1e4}),h=f.data,d=(f.loading,f.error,f.refetch),p=(0,Le.a)(je.Et,{variables:{input:{postId:i}}}),y=p.data,m=(p.loading,p.error,p.refetch),g=(0,o.useState)(!1),b=(0,a.Z)(g,2),k=(b[0],b[1]),x=(0,u.I0)(),E=(0,Me.D)(Fe.$h),_=(0,a.Z)(E,1)[0],S=(0,Me.D)(Fe.p6),I=(0,a.Z)(S,1)[0];return null!==h&&void 0!==h&&null!==(t=h.getOneLike)&&void 0!==t&&t.id?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(l.Z,{variant:"outline-danger",onClick:function(){I({variables:{input:{userId:s,postId:i}}}).then((function(){d(),m()})),x((0,w.asyncNewsAction)())},title:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",size:"sm",children:[(0,v.jsx)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsxs)("g",{fill:"none","fill-rule":"evenodd",children:[(0,v.jsx)("path",{d:"M0 0h24v24H0z"}),(0,v.jsx)("path",{d:"M16 4a5.95 5.95 0 0 0-3.89 1.7l-.12.11-.12-.11A5.96 5.96 0 0 0 7.73 4 5.73 5.73 0 0 0 2 9.72c0 3.08 1.13 4.55 6.18 8.54l2.69 2.1c.66.52 1.6.52 2.26 0l2.36-1.84.94-.74c4.53-3.64 5.57-5.1 5.57-8.06A5.73 5.73 0 0 0 16.27 4zm.27 1.8a3.93 3.93 0 0 1 3.93 3.92v.3c-.08 2.15-1.07 3.33-5.51 6.84l-2.67 2.08a.04.04 0 0 1-.04 0L9.6 17.1l-.87-.7C4.6 13.1 3.8 11.98 3.8 9.73A3.93 3.93 0 0 1 7.73 5.8c1.34 0 2.51.62 3.57 1.92a.9.9 0 0 0 1.4-.01c1.04-1.3 2.2-1.91 3.57-1.91z",fill:"currentColor","fill-rule":"nonzero","data-darkreader-inline-fill":""})]})}),null===y||void 0===y||null===(r=y.getAllLike)||void 0===r?void 0:r.count]}),(0,v.jsxs)(l.Z,{size:"sm",variant:"outline-primary",children:[(0,v.jsx)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsxs)("g",{fill:"none","fill-rule":"evenodd",children:[(0,v.jsx)("path",{d:"M0 0h24v24H0z"}),(0,v.jsx)("path",{d:"M16.9 4H7.1c-1.15 0-1.73.11-2.35.44-.56.3-1 .75-1.31 1.31C3.11 6.37 3 6.95 3 8.1v5.8c0 1.15.11 1.73.44 2.35.3.56.75 1 1.31 1.31l.15.07c.51.25 1.04.35 1.95.37h.25v2.21c0 .44.17.85.47 1.16l.12.1c.64.55 1.6.52 2.21-.08L13.37 18h3.53c1.15 0 1.73-.11 2.35-.44.56-.3 1-.75 1.31-1.31.33-.62.44-1.2.44-2.35V8.1c0-1.15-.11-1.73-.44-2.35a3.17 3.17 0 0 0-1.31-1.31A4.51 4.51 0 0 0 16.9 4zM6.9 5.8h9.99c.88 0 1.18.06 1.5.23.25.13.44.32.57.57.17.32.23.62.23 1.5v6.16c-.02.61-.09.87-.23 1.14-.13.25-.32.44-.57.57-.32.17-.62.23-1.5.23h-4.02a.9.9 0 0 0-.51.26l-3.47 3.4V17.1c0-.5-.4-.9-.9-.9H6.74a2.3 2.3 0 0 1-1.14-.23 1.37 1.37 0 0 1-.57-.57c-.17-.32-.23-.62-.23-1.5V7.74c.02-.61.09-.87.23-1.14.13-.25.32-.44.57-.57.3-.16.58-.22 1.31-.23z",fill:"currentColor","fill-rule":"nonzero"})]})}),c]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(l.Z,{variant:"outline-primary",onClick:function(){_({variables:{input:{userId:s,postId:i}}}).then((function(){d(),m()})),k(!0)},title:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",size:"sm",children:[(0,v.jsx)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsxs)("g",{fill:"none","fill-rule":"evenodd",children:[(0,v.jsx)("path",{d:"M0 0h24v24H0z"}),(0,v.jsx)("path",{d:"M16 4a5.95 5.95 0 0 0-3.89 1.7l-.12.11-.12-.11A5.96 5.96 0 0 0 7.73 4 5.73 5.73 0 0 0 2 9.72c0 3.08 1.13 4.55 6.18 8.54l2.69 2.1c.66.52 1.6.52 2.26 0l2.36-1.84.94-.74c4.53-3.64 5.57-5.1 5.57-8.06A5.73 5.73 0 0 0 16.27 4zm.27 1.8a3.93 3.93 0 0 1 3.93 3.92v.3c-.08 2.15-1.07 3.33-5.51 6.84l-2.67 2.08a.04.04 0 0 1-.04 0L9.6 17.1l-.87-.7C4.6 13.1 3.8 11.98 3.8 9.73A3.93 3.93 0 0 1 7.73 5.8c1.34 0 2.51.62 3.57 1.92a.9.9 0 0 0 1.4-.01c1.04-1.3 2.2-1.91 3.57-1.91z",fill:"currentColor","fill-rule":"nonzero","data-darkreader-inline-fill":""})]})}),null===y||void 0===y||null===(n=y.getAllLike)||void 0===n?void 0:n.count]}),(0,v.jsxs)(l.Z,{variant:"outline-primary",size:"sm",children:[(0,v.jsx)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsxs)("g",{fill:"none","fill-rule":"evenodd",children:[(0,v.jsx)("path",{d:"M0 0h24v24H0z"}),(0,v.jsx)("path",{d:"M16.9 4H7.1c-1.15 0-1.73.11-2.35.44-.56.3-1 .75-1.31 1.31C3.11 6.37 3 6.95 3 8.1v5.8c0 1.15.11 1.73.44 2.35.3.56.75 1 1.31 1.31l.15.07c.51.25 1.04.35 1.95.37h.25v2.21c0 .44.17.85.47 1.16l.12.1c.64.55 1.6.52 2.21-.08L13.37 18h3.53c1.15 0 1.73-.11 2.35-.44.56-.3 1-.75 1.31-1.31.33-.62.44-1.2.44-2.35V8.1c0-1.15-.11-1.73-.44-2.35a3.17 3.17 0 0 0-1.31-1.31A4.51 4.51 0 0 0 16.9 4zM6.9 5.8h9.99c.88 0 1.18.06 1.5.23.25.13.44.32.57.57.17.32.23.62.23 1.5v6.16c-.02.61-.09.87-.23 1.14-.13.25-.32.44-.57.57-.32.17-.62.23-1.5.23h-4.02a.9.9 0 0 0-.51.26l-3.47 3.4V17.1c0-.5-.4-.9-.9-.9H6.74a2.3 2.3 0 0 1-1.14-.23 1.37 1.37 0 0 1-.57-.57c-.17-.32-.23-.62-.23-1.5V7.74c.02-.61.09-.87.23-1.14.13-.25.32-.44.57-.57.3-.16.58-.22 1.31-.23z",fill:"currentColor","fill-rule":"nonzero"})]})}),c]})]})},Ve=function(e){var t,n,r,i,s=e.news,l=e.key,f=(0,Pe.YD)({threshold:0}),h=f.ref,d=f.inView,p=((0,u.v9)((function(e){return e.news.likes||[]})),(0,u.v9)((function(e){return e.news.comment}))),y=(0,o.useState)(0),m=(0,a.Z)(y,2),g=m[0],b=m[1];return(0,o.useEffect)((function(){d&&b(1)}),[d]),(0,v.jsx)("div",{ref:h,className:"NewsBlock",children:g?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"NewsBlock__text",children:[(0,v.jsxs)("div",{className:"Text__user",children:[(0,v.jsx)(S.rU,{to:"/my/".concat(null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.id),children:(0,v.jsx)("img",{src:"http://".concat(c.o6,"/").concat(null===s||void 0===s||null===(n=s.user)||void 0===n?void 0:n.img),alt:""})}),(0,v.jsx)(S.rU,{to:"/my/".concat(null===s||void 0===s||null===(r=s.user)||void 0===r?void 0:r.id),children:(0,v.jsx)("h3",{children:null===s||void 0===s||null===(i=s.user)||void 0===i?void 0:i.name})})]}),(0,v.jsx)("div",{className:"Text__text",children:null===s||void 0===s?void 0:s.text})]}),(0,v.jsx)("div",{className:"NewsBlock__content",children:(0,v.jsx)("div",{children:(0,v.jsx)(Re,{img:s.imgs})})}),(0,v.jsxs)("div",{className:"NewsBlock__likes",children:[(0,v.jsx)("div",{className:"NewsBlock__count",children:(0,v.jsx)(Ue,{userId:s.userId,postId:s.id,countComment:null===p||void 0===p?void 0:p.map((function(e){return(null===s||void 0===s?void 0:s.id)==(null===e||void 0===e?void 0:e.feedId)?null===e||void 0===e?void 0:e.count:(0,v.jsx)(v.Fragment,{})}))})}),(0,v.jsx)(T,{comment:s.comments,id:s.id})]})]}):(0,v.jsx)("div",{style:{width:"500px",height:"500px",background:"none"}})},l)},qe=n(4353),Be=function(){var e=(0,u.v9)((function(e){return e.news.news})),t=(0,u.v9)((function(e){return e.limit.limit})),n=(0,Pe.YD)({threshold:0}),r=n.ref,i=n.inView,a=(0,f.UO)(),s=(0,u.I0)();return(0,o.useEffect)((function(){s((0,qe.sq)(10))}),[a]),(0,o.useEffect)((function(){!i||(null===e||void 0===e?void 0:e.count)<t||(s((0,qe.sq)(t+10)),s((0,w.asyncNewsAction)(a,t)))}),[i]),(0,v.jsx)("div",{className:"News__Ref",ref:r,children:(0,v.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0438"})})},ze=function(){var e,t=(0,u.I0)(),n=(0,f.UO)(),r=((0,f.TH)(),(0,u.v9)((function(e){return e.news.news})));return(0,o.useEffect)((function(){console.log(n),t((0,w.asyncNewsAction)(n,10))}),[n]),(0,v.jsxs)(v.Fragment,{children:[null===r||void 0===r||null===(e=r.rows)||void 0===e?void 0:e.map((function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(Ve,{news:e},e.id)})})),(0,v.jsx)(Be,{})]})},Ge=function(){var e=(0,u.I0)(),t=(0,o.useState)(),n=(0,a.Z)(t,2),r=n[0],i=n[1],s=(0,o.useRef)(null),c=(0,o.useState)(0),l=(0,a.Z)(c,2),f=l[0],h=l[1];(0,o.useEffect)((function(){!function(){var e=localStorage.getItem("token")?(0,d.Z)(localStorage.getItem("token")||""):null;s.current=new WebSocket("ws://localhost:5001/news"),s.current.onopen=function(){var t,n={event:"connectionNews",username:null===e||void 0===e?void 0:e.email};console.log("connect"),null===(t=s.current)||void 0===t||t.send(JSON.stringify(n)),setInterval((function(){}),15e3)},s.current.onmessage=function(){console.log("message"),i(!0),h((function(e){return e+1}))},s.current.onerror=function(){console.log("\u043e\u0448\u0438\u0431\u043a\u0430")},s.current.close=function(){console.log("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e")}}()}),[]);return(0,v.jsx)(v.Fragment,{children:r?(0,v.jsx)("div",{className:"News__Update",onClick:function(){e((0,w.asyncNewsAction)()),i(!1)},children:(0,v.jsxs)("div",{children:["\u041d\u043e\u0432\u044b\u0445 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 ",f]})}):""})},Qe=(0,o.memo)((function(e){var t=e.params,n=localStorage.getItem("token")?(0,d.Z)(localStorage.getItem("token")||""):localStorage.getItem("token");return document.title="\u041d\u043e\u0432\u043e\u0441\u0442\u0438",(null===t||void 0===t?void 0:t.id)!=(null===n||void 0===n?void 0:n.id)&&null!==t&&void 0!==t&&t.id?(0,v.jsxs)("div",{className:"Main",children:[(0,v.jsx)(b,{}),(0,v.jsx)("div",{className:"Main__block",children:(0,v.jsx)("div",{children:(0,v.jsx)(ze,{params:t})})})]}):t?(0,v.jsxs)("div",{className:"Main",children:[(0,v.jsx)(k.Z,{}),(0,v.jsx)("div",{className:"Main__block",children:(0,v.jsx)("div",{children:(0,v.jsx)(ze,{params:t})})})]}):(0,v.jsxs)("div",{className:"Main",children:[(0,v.jsx)(k.Z,{}),(0,v.jsx)("div",{className:"Main__block",children:(0,v.jsxs)("div",{children:[(0,v.jsx)(Ge,{}),(0,v.jsx)(ze,{})]})})]})})),Ke=Qe},3256:function(e,t,n){"use strict";n.r(t),n.d(t,{fetchNews:function(){return u},fetchNewsUnit:function(){return c}});var r=n(4165),i=n(5861),a=n(2905),o=n(2388);function u(e){return s.apply(this,arguments)}function s(){return(s=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,u,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(null===t||void 0===t||null===(n=t.payload[0])||void 0===n?void 0:n.id),null===t||void 0===t||null===(i=t.payload[0])||void 0===i||!i.id){e.next=6;break}return e.next=4,o.Z.get("".concat(a.gd,"/feed/getall?id=").concat(null===t||void 0===t||null===(u=t.payload[0])||void 0===u?void 0:u.id,"&limit=").concat((null===t||void 0===t?void 0:t.payload[1])||""));case 4:return s=e.sent,e.abrupt("return",s.data);case 6:return e.next=8,o.Z.get("".concat(a.gd,"/feed/getall?limit=").concat((null===t||void 0===t?void 0:t.payload[1])||(null===t||void 0===t?void 0:t.payload[0])));case 8:return c=e.sent,e.abrupt("return",c.data);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat(a.gd,"/feed/getall?id=").concat(t,"&limit=").concat(n));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7926:function(e,t,n){"use strict";n.d(t,{Lx:function(){return u},QQ:function(){return i},Qh:function(){return s},wZ:function(){return o}});var r=n(1413),i="ASYNC_ADD_CHAT",a={chats:[]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;return"ADD_CHATS"===t.type?(0,r.Z)((0,r.Z)({},e),{},{chats:t.chat}):e},u=function(e){return{type:"ADD_CHATS",chat:e}},s=function(e){return{type:i}}},7765:function(e,t,n){"use strict";n.d(t,{$C:function(){return a},$b:function(){return o},_3:function(){return i}});var r="ADD_FEED",i="ASYNC_ADD_FEED",a=function(e){return{type:r,feed:e}},o=function(e){return{type:i,formData:e}}},4353:function(e,t,n){"use strict";n.d(t,{o_:function(){return o},sq:function(){return u}});var r=n(1413),i={limit:10},a="EDIT_LIMIT",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return t.type===a?(0,r.Z)((0,r.Z)({},e),{},{limit:t.limit}):e},u=function(e){return{type:a,limit:e}}},4560:function(e,t,n){"use strict";n.d(t,{Re:function(){return s},YV:function(){return u},nF:function(){return o}});var r=n(1413),i={mainInfo:{}},a="ADD",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return t.type===a?(0,r.Z)((0,r.Z)({},e),{},{mainInfo:t.mainInfo}):e},u=function(e){return{type:a,mainInfo:e}},s=function(){return{type:"ASYNC_ADD"}}},2571:function(e,t,n){"use strict";n.r(t),n.d(t,{ADD_NEWS:function(){return a},ASYNC_ADD_NEWS:function(){return o},asyncNewsAction:function(){return c},newsAction:function(){return s},newsReducer:function(){return u}});var r=n(1413),i={news:[],likes:[],comment:[]},a="ADD_NEWS",o="ASYNC_ADD_NEWS",u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return t.type===a?(0,r.Z)((0,r.Z)({},e),{},{news:t.news.feed,likes:t.news.likes,comment:t.news.comment}):e},s=function(e){return{type:a,news:e}},c=function(e,t){return{type:o,payload:[e,t]}}},4044:function(e,t,n){"use strict";n.d(t,{Fj:function(){return f},Md:function(){return d},SR:function(){return s},ZI:function(){return l},Zx:function(){return o},cb:function(){return h},pQ:function(){return c}});var r=n(1413),i={sub:[],ur:[]},a="ADD_SUB",o="ASYNC_ADD_SUB",u="ADD_UR",s="ASYNC_ADD_UR",c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:return(0,r.Z)((0,r.Z)({},e),{},{sub:t.sub.data.subs});case u:return console.log(t.sub.data.subss[0]),(0,r.Z)((0,r.Z)({},e),{},{ur:t.sub.data.subss[0]});default:return e}},l=function(e){return{type:a,sub:e}},f=function(e){return{type:u,sub:e}},h=function(e){return{type:o,sub:e}},d=function(e){return{type:s,sub:e}}},6308:function(e,t,n){"use strict";n.d(t,{T:function(){return o},_:function(){return u}});var r=n(1413),i=n(456),a={token:localStorage.getItem("token"),date:Date.now()},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;return"EDIT_TOKEN"===t.type?(0,r.Z)((0,r.Z)({},e),{},{token:t.token,date:Date.now()}):e},u=function(){return{type:"EDIT_TOKEN",token:(0,i.Z)(localStorage.getItem("token")),date:Date.now()}}},5422:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(9439),i=n(2791),a=n(3360),o=n(7462),u=n(3366),s=n(4578);function c(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=n(7726),f=n(8852),h=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=c(n.className,r):n.setAttribute("class",c(n.className&&n.className.baseVal||"",r)));var n,r}))},d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,s.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&(0,f.Q)(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&h(e,r),i&&h(e,i),a&&h(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,u.Z)(e,["classNames"]));return i.createElement(l.ZP,(0,o.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(i.Component);d.defaultProps={classNames:""},d.propTypes={};var p=d,v=n(184),y=function(e){var t=e.children,n=e.nameButton,o=e.callback,u=(0,i.useState)(!1),s=(0,r.Z)(u,2),c=s[0],l=s[1],f=(0,i.useRef)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.Z,{"data-testid":"toggle-btn",className:"ModalWindow__button",onClick:function(){l(!0),o&&o()},children:n}),(0,v.jsx)(p,{nodeRef:f,in:c,timeout:500,classNames:"my-node",unmountOnExit:!0,onEnter:function(){return l(!0)},onExited:function(){return l(!1)},children:(0,v.jsxs)("div",{"data-testid":"modalTest",className:"ModalWindow",ref:f,children:[(0,v.jsx)("div",{"data-testid":"modalHidden",className:"ModalWindow__window",onClick:function(){return l(!1)}}),(0,v.jsx)("div",{className:"ModalWindow__children",children:t})]})})]})}},3692:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(4165),i=n(5861),a=n(5422),o=n(2905),u=n(9434),s=n(7689),c=n(1087),l=n(4044),f=n(184),h=function(e){var t=e.bol,n=(0,s.UO)(),h=(0,u.I0)(),d=(0,u.v9)((function(e){return e.sub.sub})),p=(0,u.v9)((function(e){return e.sub.ur})),v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((0,l.cb)(n.id||0));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((0,l.Md)((null===n||void 0===n?void 0:n.id)||0));case 2:console.log(p);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?(0,f.jsx)(a.Z,{callback:function(){return y()},"data-testid":"toggle-btn",nameButton:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",children:null===p||void 0===p?void 0:p.map((function(e){return(0,f.jsx)(c.rU,{to:"/my/".concat(e["user.id"]),children:(0,f.jsxs)("div",{"data-testid":"subTest",className:"AllSubs",children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:"http://"+o.o6+"/"+e["user.img"]})}),(0,f.jsx)("div",{children:e["user.name"]})]})})}))}):(0,f.jsx)(a.Z,{callback:function(){return v()},"data-testid":"toggle-btn",nameButton:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438",children:null===d||void 0===d?void 0:d.map((function(e){return(0,f.jsx)(c.rU,{to:"/my/".concat(e.user.id),children:(0,f.jsxs)("div",{"data-testid":"subTest",className:"AllSubs",children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:"http://"+o.o6+"/"+e.user.img})}),(0,f.jsx)("div",{children:e.user.name})]})})}))})}},3191:function(e,t,n){"use strict";n.d(t,{FU:function(){return u},fU:function(){return c},j6:function(){return f},jM:function(){return d},wz:function(){return v}});var r=n(4165),i=n(5861),a=n(2388),o=n(2905);function u(e,t){return s.apply(this,arguments)}function s(){return(s=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.post("".concat(o.gd,"/sub/create"),{subscribeId:t,userId:n},{headers:{Authorization:"bearer ".concat(localStorage.getItem("token"))}});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("".concat(o.gd,"/sub/getOne?subscribeId=").concat(t,"&userId=").concat(n),{headers:{Authorization:"bearer ".concat(localStorage.getItem("token"))}});case 2:return i=e.sent,console.log(i),e.abrupt("return",null===i||void 0===i?void 0:i.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.post("".concat(o.gd,"/sub/delete"),{subscribeId:t,userId:n},{headers:{Authorization:"bearer ".concat(localStorage.getItem("token"))}});case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("".concat(o.gd,"/sub/getall?subscribeId=").concat(t),{headers:{Authorization:"bearer ".concat(localStorage.getItem("token"))}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("".concat(o.gd,"/sub/getallreverse?userId=").concat(t),{headers:{Authorization:"bearer ".concat(localStorage.getItem("token"))}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},780:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(9439),i=n(456),a=n(4165),o=n(5861),u=n(5422),s=n(2791),c=n(3360),l=n(9434),f=n(7765),h=n(2571),d=n(7689),p=n(184),v=function(){var e=(0,l.I0)(),t=(0,i.Z)(localStorage.getItem("token")||""),n=(0,s.useRef)(null),r=(0,s.useRef)(null),v=new FormData,y=(0,d.UO)(),m=function(){var i=(0,o.Z)((0,a.Z)().mark((function i(){var o,u,s,c,l,d,p,m;return(0,a.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(console.log(null===r||void 0===r||null===(o=r.current)||void 0===o?void 0:o.files),v.append("email",(null===t||void 0===t?void 0:t.id)||""),null!==r&&void 0!==r&&null!==(u=r.current)&&void 0!==u&&u.files.length)for(l=0;l<(null===r||void 0===r||null===(d=r.current)||void 0===d?void 0:d.files.length);l++)v.append("imgs",null===r||void 0===r||null===(p=r.current)||void 0===p?void 0:p.files[l]);if(v.append("text",(null===n||void 0===n||null===(s=n.current)||void 0===s?void 0:s.textContent)||""),e((0,f.$b)(v)),v.delete("email"),v.delete("imgs"),v.delete("text"),!y.id){i.next=13;break}return i.next=11,e((0,h.asyncNewsAction)(y));case 11:i.next=15;break;case 13:return i.next=15,e((0,h.asyncNewsAction)());case 15:m={event:"newsAdd"},null===(c=g.current)||void 0===c||c.send(JSON.stringify(m));case 17:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),g=(0,s.useRef)(null);return(0,s.useEffect)((function(){!function(){var e=localStorage.getItem("token")?(0,i.Z)(localStorage.getItem("token")||""):null;g.current=new WebSocket("ws://localhost:5001/news"),g.current.onopen=function(){var t,n={event:"connectionNews",username:null===e||void 0===e?void 0:e.email};console.log("connect"),null===(t=g.current)||void 0===t||t.send(JSON.stringify(n)),setInterval((function(){}),15e3)},g.current.onerror=function(){console.log("\u043e\u0448\u0438\u0431\u043a\u0430")},g.current.close=function(){console.log("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e")}}()}),[]),(0,p.jsx)(u.Z,{nameButton:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c",children:(0,p.jsxs)("div",{className:"Feed",children:[(0,p.jsx)("label",{htmlFor:"text",children:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043f\u0438\u0441\u0438"}),(0,p.jsx)("div",{className:"Feed__contentEditable",contentEditable:"true",onInput:function(){var e;return console.log(null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.textContent)},id:"text",ref:n,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043f\u0438\u0441\u0438"}),(0,p.jsx)("label",{htmlFor:"file",children:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b"}),(0,p.jsx)("input",{multiple:!0,ref:r,type:"file",id:"file",accept:".jpg, .png, .jfif, .mp4"}),(0,p.jsx)(c.Z,{onClick:function(){return m()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})},y=n(4560),m=n(2905),g=n(2388),b=n(7437),k=(0,s.memo)((function(){var e=(0,l.I0)(),t=(0,l.v9)((function(e){return e.token.token})),n=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t.id),n.next=3,(0,b.O)(t.id||"0");case 3:r=n.sent,e((0,y.YV)(r)),console.log(t);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),i=(0,s.useState)(""),f=(0,r.Z)(i,2),h=f[0],d=f[1],v=(0,s.useState)(!1),m=(0,r.Z)(v,2),k=m[0],w=m[1],x=new FormData,E=(0,s.useRef)(null),_=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.append("email",(null===t||void 0===t?void 0:t.email)||""),x.append("img",(null===E||void 0===E||null===(r=E.current)||void 0===r?void 0:r.files[0])||""),w(!0),(0,g.Z)({method:"post",url:"http://localhost:5001/api/settinguser/create",data:x,headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"multipart/form-data;"}}).then((function(){n(),x.delete("img"),x.delete("email"),w(!1)})).catch((function(){d("\u041e\u0448\u0438\u0431\u043a\u0430")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(u.Z,{nameButton:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",children:(0,p.jsxs)("div",{className:"ModalForEdit",children:[(0,p.jsx)("input",{accept:".jpg",ref:E,type:"file"}),(0,p.jsx)(c.Z,{disabled:k,onClick:_,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),h]})})})),w=k,x=n(7926),E=(0,s.memo)((function(e){var t=e.visible,n=(0,l.v9)((function(e){return e.token.token})),i=(0,s.useState)([]),u=(0,r.Z)(i,2),c=u[0],f=u[1];function h(){return(h=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.get("http://localhost:5001/api/user/getall");case 2:t=e.sent,f(t.data.user);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.post("http://localhost:5001/api/chat/create",{secondEmail:t,email:null===n||void 0===n?void 0:n.email});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=(0,l.I0)();return(0,s.useMemo)((function(){v((0,x.Qh)())}),[]),(0,s.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[]),t?(0,p.jsxs)("div",{className:"VisibleMenu",children:[c.map((function(e){return(0,p.jsx)(p.Fragment,{children:(null===e||void 0===e?void 0:e.email)!==(null===n||void 0===n?void 0:n.email)?(0,p.jsx)("div",{"data-testid":"visble",onClick:function(){return function(e){return d.apply(this,arguments)}(e.email)},className:"VisibleMenu__unit",children:e.email},e.id):""})})),"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"]}):(0,p.jsx)(p.Fragment,{})})),_=E,S=n(3692),I=(0,s.memo)((function(){var e=(0,s.useState)(!1),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=localStorage.getItem("token")?(0,i.Z)(localStorage.getItem("token")||""):null,u=(0,l.I0)();return(0,p.jsx)("div",{className:"Main__info",children:(0,p.jsx)("div",{className:"Info__fixed",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{src:"http://".concat(m.o6,"/").concat(null===o||void 0===o?void 0:o.img),alt:""}),(0,p.jsx)("p",{children:null===o||void 0===o?void 0:o.name}),(0,p.jsx)(c.Z,{onClick:function(){return a((function(e){return!e}))},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0447\u0430\u0442"}),(0,p.jsx)(_,{visible:n}),(0,p.jsx)(w,{callback:function(){u((0,y.Re)())}}),(0,p.jsx)(v,{}),(0,p.jsx)(S.Z,{}),(0,p.jsx)(S.Z,{bol:!0})]})})})}))},3187:function(e,t,n){"use strict";n.d(t,{$h:function(){return l},AX:function(){return c},p6:function(){return f}});var r,i,a,o,u=n(168),s=n(7743),c=((0,s.Ps)(r||(r=(0,u.Z)(["\n\n    mutation createUser($input: UserInput){\n        createUser(input: $input){\n            id, email\n        }\n    }\n\n"]))),(0,s.Ps)(i||(i=(0,u.Z)(["\n    mutation updateUser($input: UserInput){\n        updateUser(input: $input){\n                id\n            }\n        }\n    "])))),l=(0,s.Ps)(a||(a=(0,u.Z)(["\n    mutation createLike($input: LikeInput){\n        createLike(input: $input){\n            id\n        }\n    }\n"]))),f=(0,s.Ps)(o||(o=(0,u.Z)(["\n    mutation deleteOneLike($input: LikeInput){\n        deleteOneLike(input: $input){\n            id\n        }\n    }\n"])))},189:function(e,t,n){"use strict";n.d(t,{A2:function(){return c},Et:function(){return h},LZ:function(){return l},XE:function(){return f}});var r,i,a,o,u=n(168),s=n(7743),c=(0,s.Ps)(r||(r=(0,u.Z)(["\n    query{\n        getAllUser{\n            id, email\n        }\n        \n    }\n"]))),l=(0,s.Ps)(i||(i=(0,u.Z)(["\n    query getOneUser($id: ID){\n        getOneUser(id: $id){\n            id, email\n        }\n    }\n"]))),f=(0,s.Ps)(a||(a=(0,u.Z)(["\n    query getOneLike($input: LikeInput){\n        getOneLike(input: $input){\n            id, userId, postId\n        }\n    }\n"]))),h=(0,s.Ps)(o||(o=(0,u.Z)(["\n    query getAllLike($input: LikeInput){\n        getAllLike(input: $input){\n            count\n        }\n    }\n"])))},9545:function(e,t,n){"use strict";n.d(t,{$:function(){return ne},A:function(){return A},B:function(){return m},C:function(){return R},D:function(){return k},E:function(){return c},F:function(){return L},G:function(){return B},J:function(){return M},K:function(){return W},L:function(){return ie},M:function(){return ue},N:function(){return te},O:function(){return pe},P:function(){return O},Q:function(){return ce},R:function(){return D},S:function(){return j},T:function(){return C},U:function(){return Z},V:function(){return X},W:function(){return G},X:function(){return H},Y:function(){return Y},Z:function(){return $},_:function(){return J},a:function(){return P},a0:function(){return re},a1:function(){return ae},a2:function(){return oe},a3:function(){return se},a4:function(){return le},a5:function(){return fe},a6:function(){return he},a7:function(){return de},b:function(){return F},d:function(){return U},e:function(){return N},f:function(){return V},g:function(){return q},h:function(){return z},i:function(){return g},j:function(){return S},k:function(){return u},l:function(){return _},m:function(){return b},o:function(){return d},p:function(){return l},q:function(){return y},r:function(){return h},s:function(){return E},t:function(){return s},u:function(){return f},v:function(){return I},y:function(){return x},z:function(){return w}});var r=n(7408),i=n(7462),a=n(5609);var o=function(e,t){var n;void 0===t&&(t=!0);var i=new Promise((function(r){n=setTimeout(r,Math.min(2147483647,e),t)}));return i[r.n1]=function(){clearTimeout(n)},i},u=function(e){return function(){return e}}(!0),s=function(){};var c=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var l=function(e,t){(0,i.Z)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},f=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function h(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function d(e){var t=!1;return function(){t||(t=!0,e())}}var p=function(e){throw e},v=function(e){return{value:e,done:!0}};function y(e,t,n){void 0===t&&(t=p),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:v,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function m(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var g=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},b=function(e){return Array.apply(null,new Array(e))},k=function(e){return function(t){return e(Object.defineProperty(t,r.Nm,{value:!0}))}},w=function(e){return e===r.EO},x=function(e){return e===r.Wd},E=function(e){return w(e)||x(e)};function _(e,t){var n=Object.keys(e),r=n.length;var i,o=0,u=(0,a.IX)(e)?b(r):{},c={};return n.forEach((function(e){var n=function(n,a){i||(a||E(n)?(t.cancel(),t(n,a)):(u[e]=n,++o===r&&(i=!0,t(u))))};n.cancel=s,c[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return c[e].cancel()})))},c}function S(e){return{name:e.name||"anonymous",location:I(e)}}function I(e){return e[r.b_]}function T(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},u=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},s=function(){for(var e=[];r;)e.push(u());return e};return{isEmpty:function(){return 0==r},put:function(u){var c;if(r<e)o(u);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=u,a=i=(i+1)%e;break;case 4:c=2*e,n=s(),r=n.length,i=n.length,a=0,n.length=c,e=c,o(u)}},take:u,flush:s}}var Z=function(e){return T(e,3)},N=function(e){return T(e,4)},C="TAKE",O="PUT",A="ALL",D="RACE",R="CALL",P="CPS",L="FORK",M="JOIN",F="CANCEL",j="SELECT",U="ACTION_CHANNEL",V="CANCELLED",q="FLUSH",B="GET_CONTEXT",z="SET_CONTEXT",G=Object.freeze({__proto__:null,TAKE:C,PUT:O,ALL:A,RACE:D,CALL:R,CPS:P,FORK:L,JOIN:M,CANCEL:F,SELECT:j,ACTION_CHANNEL:U,CANCELLED:V,FLUSH:q,GET_CONTEXT:B,SET_CONTEXT:z}),Q=function(e,t){var n;return(n={})[r.IO]=!0,n.combinator=!1,n.type=e,n.payload=t,n},K=function(e){return Q(L,(0,i.Z)({},e.payload,{detached:!0}))};function W(e,t){return void 0===e&&(e="*"),(0,a.uj)(e)?((0,a.d5)(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Q(C,{pattern:e})):(0,a.Om)(e)&&(0,a.d5)(t)&&(0,a.uj)(t)?Q(C,{channel:e,pattern:t}):(0,a.CE)(e)?((0,a.d5)(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Q(C,{channel:e})):void 0}var H=function(){var e=W.apply(void 0,arguments);return e.payload.maybe=!0,e};function Y(e,t){return(0,a.sR)(t)&&(t=e,e=void 0),Q(O,{channel:e,action:t})}var $=function(){var e=Y.apply(void 0,arguments);return e.payload.resolve=!0,e};function J(e){var t=Q(A,e);return t.combinator=!0,t}function X(e){var t=Q(D,e);return t.combinator=!0,t}function ee(e,t){var n,r=null;return(0,a.Yl)(e)?n=e:((0,a.IX)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&(0,a.Z_)(n)&&(0,a.Yl)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q(R,ee(e,n))}function ne(e,t,n){void 0===n&&(n=[]);return Q(R,ee([e,t],n))}function re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q(P,ee(e,n))}function ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q(L,ee(e,n))}function ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K(ie.apply(void 0,[e].concat(n)))}function oe(e){return Q(M,e)}function ue(e){return void 0===e&&(e=r.sC),Q(F,e)}function se(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q(j,{selector:e,args:n})}function ce(e,t){return Q(U,{pattern:e,buffer:t})}function le(){return Q(V,{})}function fe(e){return Q(q,e)}function he(e){return Q(B,e)}function de(e){return Q(z,e)}var pe=te.bind(null,o)},5609:function(e,t,n){"use strict";n.d(t,{CE:function(){return h},IX:function(){return s},MC:function(){return c},NA:function(){return p},Om:function(){return v},Yl:function(){return o},Z_:function(){return u},d5:function(){return a},eR:function(){return d},hZ:function(){return l},sR:function(){return i},uj:function(){return f}});var r=n(7408),i=function(e){return null===e||void 0===e},a=function(e){return null!==e&&void 0!==e},o=function(e){return"function"===typeof e},u=function(e){return"string"===typeof e},s=Array.isArray,c=function(e){return e&&o(e.then)},l=function(e){return e&&o(e.next)&&o(e.throw)},f=function e(t){return t&&(u(t)||p(t)||o(t)||s(t)&&t.every(e))},h=function(e){return e&&o(e.take)&&o(e.close)},d=function(e){return o(e)&&e.hasOwnProperty("toString")},p=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},v=function(e){return h(e)&&e[r.AS]}},7408:function(e,t,n){"use strict";n.d(t,{AS:function(){return s},Cs:function(){return f},EO:function(){return d},IO:function(){return o},Nm:function(){return c},Wd:function(){return h},b_:function(){return p},n1:function(){return i},sC:function(){return l},sZ:function(){return a},uq:function(){return u}});var r=function(e){return"@@redux-saga/"+e},i=r("CANCEL_PROMISE"),a=r("CHANNEL_END"),o=r("IO"),u=r("MATCH"),s=r("MULTICAST"),c=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),f=r("TASK"),h=r("TASK_CANCEL"),d=r("TERMINATE"),p=r("LOCATION")},3924:function(e,t,n){"use strict";n.d(t,{X3:function(){return G},aU:function(){return d},Zq:function(){return j},lX:function(){return b},Ep:function(){return E},kG:function(){return k},WK:function(){return K},RQ:function(){return V},fp:function(){return T},cP:function(){return _},pC:function(){return U},Zn:function(){return L}});var r=n(3144),i=n(5671),a=n(136),o=n(7277),u=n(8664),s=n(9439),c=n(3878),l=n(9199),f=n(181),h=n(5267);var d,p=n(7762),v=n(3433);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(d||(d={}));var m,g="popstate";function b(e){return void 0===e&&(e={}),I((function(e,t){var n=e.location;return x("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:E(t)}),null,e)}function k(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e){return{usr:e.state,key:e.key}}function x(e,t,n,r){return void 0===n&&(n=null),y({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function E(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function _(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function S(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:E(e);return k(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function I(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=d.Pop,f=null;function h(){l=d.Pop,f&&f({action:l,location:p.location})}var p={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(g,h),f=e,function(){o.removeEventListener(g,h),f=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=S("string"===typeof e?e:E(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=d.Push;var r=x(p.location,e,t);n&&n(r,e);var i=w(r),a=p.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:p.location})},replace:function(e,t){l=d.Replace;var r=x(p.location,e,t);n&&n(r,e);var i=w(r),a=p.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:p.location})},go:function(e){return c.go(e)}};return p}function T(e,t,n){void 0===n&&(n="/");var r=L(("string"===typeof t?_(t):t).pathname||"/",n);if(null==r)return null;var i=Z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=D(i[o],P(r));return a}function Z(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(k(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=V([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(k(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),Z(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:A(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=(0,p.Z)(N(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function N(e){var t=e.split("/");if(0===t.length)return[];var n,r=(n=t,(0,c.Z)(n)||(0,l.Z)(n)||(0,f.Z)(n)||(0,h.Z)()),i=r[0],a=r.slice(1),o=i.endsWith("?"),u=i.replace(/\?$/,"");if(0===a.length)return o?[u,""]:[u];var s=N(a.join("/")),d=[];return d.push.apply(d,(0,v.Z)(s.map((function(e){return""===e?u:[u,e].join("/")})))),o&&d.push.apply(d,(0,v.Z)(s)),d.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));var C=/^:\w+$/,O=function(e){return"*"===e};function A(e,t){var n=e.split("/"),r=n.length;return n.some(O)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(C.test(t)?3:""===t?1:10)}),r)}function D(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=R({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:V([i,l.pathname]),pathnameBase:q(V([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=V([i,l.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);M("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,s.Z)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],c=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return M(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function P(e){try{return decodeURI(e)}catch(t){return M(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function F(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function U(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=_(e):(k(!(i=y({},e)).pathname||!i.pathname.includes("?"),F("?","pathname","search",i)),k(!i.pathname||!i.pathname.includes("#"),F("#","pathname","hash",i)),k(!i.search||!i.search.includes("#"),F("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?_(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:B(a),hash:z(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var V=function(e){return e.join("/").replace(/\/\/+/g,"/")},q=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},B=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},z=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},G=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n)}((0,u.Z)(Error));var Q=(0,r.Z)((function e(t,n,r,a){(0,i.Z)(this,e),void 0===a&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function K(e){return e instanceof Q}var W=["post","put","patch","delete"],H=(new Set(W),["get"].concat(W));new Set(H),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement},5341:function(e,t,n){"use strict";n.d(t,{FT:function(){return u}});var r=n(9439),i=n(2791),a=n(184),o=["as","disabled"];function u(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var s=i.forwardRef((function(e,t){var n=e.as,i=e.disabled,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),c=u(Object.assign({tagName:n,disabled:i},s)),l=(0,r.Z)(c,2),f=l[0],h=l[1].tagName;return(0,a.jsx)(h,Object.assign({},s,f,{ref:t}))}));s.displayName="Button"},5970:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=Object.prototype,i=r.toString,a=r.hasOwnProperty,o=Function.prototype.toString,u=new Map;function s(e,t){try{return c(e,t)}finally{u.clear()}}function c(e,t){if(e===t)return!0;var n=i.call(e);if(n!==i.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(d(e,t))return!0;var r=l(e),u=l(t),s=r.length;if(s!==u.length)return!1;for(var f=0;f<s;++f)if(!a.call(t,r[f]))return!1;for(f=0;f<s;++f){var p=r[f];if(!c(e[p],t[p]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e===+t;case"[object RegExp]":case"[object String]":return e=="".concat(t);case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(d(e,t))return!0;for(var v=e.entries(),y="[object Map]"===n;;){var m=v.next();if(m.done)break;var g=m.value,b=g[0],k=g[1];if(!t.has(b))return!1;if(y&&!c(k,t.get(b)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var w=e.byteLength;if(w===t.byteLength)for(;w--&&e[w]===t[w];);return-1===w;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var x=o.call(e);return x===o.call(t)&&!function(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(x,h)}return!1}function l(e){return Object.keys(e).filter(f,e)}function f(e){return void 0!==this[e]}var h="{ [native code] }";function d(e,t){var n=u.get(e);if(n){if(n.has(t))return!0}else u.set(e,n=new Set);return n.add(t),!1}},7472:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7743:function(e,t,n){"use strict";n.d(t,{Ps:function(){return oe}});var r=n(9388),i=n(5671),a=n(3144),o=n(7762),u=n(7326),s=n(136),c=n(7277),l=n(8664);function f(e){return"object"==typeof e&&null!==e}function h(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}var d=/\r\n|[\n\r]/g;function p(e,t){var n,r=0,i=1,a=(0,o.Z)(e.body.matchAll(d));try{for(a.s();!(n=a.n()).done;){var u=n.value;if("number"===typeof u.index||h(!1),u.index>=t)break;r=u.index+u[0].length,i+=1}}catch(s){a.e(s)}finally{a.f()}return{line:i,column:t+1-r}}var v=n(9439),y=n(3433);function m(e){return g(e.source,p(e.source,e.start))}function g(e,t){var n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,a=e.locationOffset.line-1,o=t.line+a,u=1===t.line?n:0,s=t.column+u,c="".concat(e.name,":").concat(o,":").concat(s,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var h=Math.floor(s/80),d=s%80,p=[],v=0;v<f.length;v+=80)p.push(f.slice(v,v+80));return c+b([["".concat(o," |"),p[0]]].concat((0,y.Z)(p.slice(1,h+1).map((function(e){return["|",e]}))),[["|","^".padStart(d)],["|",p[h+1]]]))}return c+b([["".concat(o-1," |"),l[i-1]],["".concat(o," |"),f],["|","^".padStart(s)],["".concat(o+1," |"),l[i+1]]])}function b(e){var t=e.filter((function(e){var t=(0,v.Z)(e,2);t[0];return void 0!==t[1]})),n=Math.max.apply(Math,(0,y.Z)(t.map((function(e){return(0,v.Z)(e,1)[0].length}))));return t.map((function(e){var t=(0,v.Z)(e,2),r=t[0],i=t[1];return r.padStart(n)+(i?" "+i:"")})).join("\n")}function k(e){var t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}var w=function(e,t){(0,s.Z)(r,e);var n=(0,c.Z)(r);function r(e){var t,a,o,s;(0,i.Z)(this,r);for(var c=arguments.length,l=new Array(c>1?c-1:0),h=1;h<c;h++)l[h-1]=arguments[h];var d=k(l),v=d.nodes,y=d.source,m=d.positions,g=d.path,b=d.originalError,w=d.extensions;(t=n.call(this,e)).name="GraphQLError",t.path=null!==g&&void 0!==g?g:void 0,t.originalError=null!==b&&void 0!==b?b:void 0,t.nodes=x(Array.isArray(v)?v:v?[v]:void 0);var E=x(null===(a=t.nodes)||void 0===a?void 0:a.map((function(e){return e.loc})).filter((function(e){return null!=e})));t.source=null!==y&&void 0!==y?y:null===E||void 0===E||null===(o=E[0])||void 0===o?void 0:o.source,t.positions=null!==m&&void 0!==m?m:null===E||void 0===E?void 0:E.map((function(e){return e.start})),t.locations=m&&y?m.map((function(e){return p(y,e)})):null===E||void 0===E?void 0:E.map((function(e){return p(e.source,e.start)}));var _=f(null===b||void 0===b?void 0:b.extensions)?null===b||void 0===b?void 0:b.extensions:void 0;return t.extensions=null!==(s=null!==w&&void 0!==w?w:_)&&void 0!==s?s:Object.create(null),Object.defineProperties((0,u.Z)(t),{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==b&&void 0!==b&&b.stack?Object.defineProperty((0,u.Z)(t),"stack",{value:b.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace((0,u.Z)(t),r):Object.defineProperty((0,u.Z)(t),"stack",{value:Error().stack,writable:!0,configurable:!0}),t}return(0,a.Z)(r,[{key:t,get:function(){return"GraphQLError"}},{key:"toString",value:function(){var e=this.message;if(this.nodes){var t,n=(0,o.Z)(this.nodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.loc&&(e+="\n\n"+m(r.loc))}}catch(s){n.e(s)}finally{n.f()}}else if(this.source&&this.locations){var i,a=(0,o.Z)(this.locations);try{for(a.s();!(i=a.n()).done;){var u=i.value;e+="\n\n"+g(this.source,u)}}catch(s){a.e(s)}finally{a.f()}}return e}},{key:"toJSON",value:function(){var e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}]),r}((0,l.Z)(Error),Symbol.toStringTag);function x(e){return void 0===e||0===e.length?void 0:e}function E(e,t,n){return new w("Syntax Error: ".concat(n),{source:e,positions:[t]})}var _,S=n(365);!function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(_||(_={}));var I,T=n(3208),Z=n(7810),N=n(610);!function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(I||(I={}));var C=function(e){function t(e){(0,i.Z)(this,t);var n=new S.WU(I.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}return(0,a.Z)(t,[{key:e,get:function(){return"Lexer"}},{key:"advance",value:function(){return this.lastToken=this.token,this.token=this.lookahead()}},{key:"lookahead",value:function(){var e=this.token;if(e.kind!==I.EOF)do{if(e.next)e=e.next;else{var t=M(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===I.COMMENT);return e}}]),t}(Symbol.toStringTag);function O(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function A(e,t){return D(e.charCodeAt(t))&&R(e.charCodeAt(t+1))}function D(e){return e>=55296&&e<=56319}function R(e){return e>=56320&&e<=57343}function P(e,t){var n=e.source.body.codePointAt(t);if(void 0===n)return I.EOF;if(n>=32&&n<=126){var r=String.fromCodePoint(n);return'"'===r?"'\"'":'"'.concat(r,'"')}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function L(e,t,n,r,i){var a=e.line,o=1+n-e.lineStart;return new S.WU(t,n,r,a,o,i)}function M(e,t){for(var n=e.source.body,r=n.length,i=t;i<r;){var a=n.charCodeAt(i);switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return F(e,i);case 33:return L(e,I.BANG,i,i+1);case 36:return L(e,I.DOLLAR,i,i+1);case 38:return L(e,I.AMP,i,i+1);case 40:return L(e,I.PAREN_L,i,i+1);case 41:return L(e,I.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return L(e,I.SPREAD,i,i+3);break;case 58:return L(e,I.COLON,i,i+1);case 61:return L(e,I.EQUALS,i,i+1);case 64:return L(e,I.AT,i,i+1);case 91:return L(e,I.BRACKET_L,i,i+1);case 93:return L(e,I.BRACKET_R,i,i+1);case 123:return L(e,I.BRACE_L,i,i+1);case 124:return L(e,I.PIPE,i,i+1);case 125:return L(e,I.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?K(e,i):V(e,i)}if((0,N.X1)(a)||45===a)return j(e,i,a);if((0,N.LQ)(a))return W(e,i);throw E(e.source,i,39===a?"Unexpected single quote character ('), did you mean to use a double quote (\")?":O(a)||A(n,i)?"Unexpected character: ".concat(P(e,i),"."):"Invalid character: ".concat(P(e,i),"."))}return L(e,I.EOF,r,r)}function F(e,t){for(var n=e.source.body,r=n.length,i=t+1;i<r;){var a=n.charCodeAt(i);if(10===a||13===a)break;if(O(a))++i;else{if(!A(n,i))break;i+=2}}return L(e,I.COMMENT,t,i,n.slice(t+1,i))}function j(e,t,n){var r=e.source.body,i=t,a=n,o=!1;if(45===a&&(a=r.charCodeAt(++i)),48===a){if(a=r.charCodeAt(++i),(0,N.X1)(a))throw E(e.source,i,"Invalid number, unexpected digit after 0: ".concat(P(e,i),"."))}else i=U(e,i,a),a=r.charCodeAt(i);if(46===a&&(o=!0,a=r.charCodeAt(++i),i=U(e,i,a),a=r.charCodeAt(i)),69!==a&&101!==a||(o=!0,43!==(a=r.charCodeAt(++i))&&45!==a||(a=r.charCodeAt(++i)),i=U(e,i,a),a=r.charCodeAt(i)),46===a||(0,N.LQ)(a))throw E(e.source,i,"Invalid number, expected digit but got: ".concat(P(e,i),"."));return L(e,o?I.FLOAT:I.INT,t,i,r.slice(t,i))}function U(e,t,n){if(!(0,N.X1)(n))throw E(e.source,t,"Invalid number, expected digit but got: ".concat(P(e,t),"."));for(var r=e.source.body,i=t+1;(0,N.X1)(r.charCodeAt(i));)++i;return i}function V(e,t){for(var n=e.source.body,r=n.length,i=t+1,a=i,o="";i<r;){var u=n.charCodeAt(i);if(34===u)return o+=n.slice(a,i),L(e,I.STRING,t,i+1,o);if(92!==u){if(10===u||13===u)break;if(O(u))++i;else{if(!A(n,i))throw E(e.source,i,"Invalid character within String: ".concat(P(e,i),"."));i+=2}}else{o+=n.slice(a,i);var s=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?q(e,i):B(e,i):Q(e,i);o+=s.value,a=i+=s.size}}throw E(e.source,i,"Unterminated string.")}function q(e,t){for(var n=e.source.body,r=0,i=3;i<12;){var a=n.charCodeAt(t+i++);if(125===a){if(i<5||!O(r))break;return{value:String.fromCodePoint(r),size:i}}if((r=r<<4|G(a))<0)break}throw E(e.source,t,'Invalid Unicode escape sequence: "'.concat(n.slice(t,t+i),'".'))}function B(e,t){var n=e.source.body,r=z(n,t+2);if(O(r))return{value:String.fromCodePoint(r),size:6};if(D(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){var i=z(n,t+8);if(R(i))return{value:String.fromCodePoint(r,i),size:12}}throw E(e.source,t,'Invalid Unicode escape sequence: "'.concat(n.slice(t,t+6),'".'))}function z(e,t){return G(e.charCodeAt(t))<<12|G(e.charCodeAt(t+1))<<8|G(e.charCodeAt(t+2))<<4|G(e.charCodeAt(t+3))}function G(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Q(e,t){var n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw E(e.source,t,'Invalid character escape sequence: "'.concat(n.slice(t,t+2),'".'))}function K(e,t){for(var n=e.source.body,r=n.length,i=e.lineStart,a=t+3,o=a,u="",s=[];a<r;){var c=n.charCodeAt(a);if(34===c&&34===n.charCodeAt(a+1)&&34===n.charCodeAt(a+2)){u+=n.slice(o,a),s.push(u);var l=L(e,I.BLOCK_STRING,t,a+3,(0,Z.wv)(s).join("\n"));return e.line+=s.length-1,e.lineStart=i,l}if(92!==c||34!==n.charCodeAt(a+1)||34!==n.charCodeAt(a+2)||34!==n.charCodeAt(a+3))if(10!==c&&13!==c)if(O(c))++a;else{if(!A(n,a))throw E(e.source,a,"Invalid character within String: ".concat(P(e,a),"."));a+=2}else u+=n.slice(o,a),s.push(u),13===c&&10===n.charCodeAt(a+1)?a+=2:++a,u="",o=a,i=a;else u+=n.slice(o,a),o=a+1,a+=4}throw E(e.source,a,"Unterminated string.")}function W(e,t){for(var n=e.source.body,r=n.length,i=t+1;i<r;){var a=n.charCodeAt(i);if(!(0,N.HQ)(a))break;++i}return L(e,I.NAME,t,i,n.slice(t,i))}var H=n(5551);var Y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,e);var r=(0,H.T)(t)?t:new H.H(t);this._lexer=new C(r),this._options=n,this._tokenCounter=0}return(0,a.Z)(e,[{key:"parseName",value:function(){var e=this.expectToken(I.NAME);return this.node(e,{kind:T.h.NAME,value:e.value})}},{key:"parseDocument",value:function(){return this.node(this._lexer.token,{kind:T.h.DOCUMENT,definitions:this.many(I.SOF,this.parseDefinition,I.EOF)})}},{key:"parseDefinition",value:function(){if(this.peek(I.BRACE_L))return this.parseOperationDefinition();var e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===I.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw E(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}},{key:"parseOperationDefinition",value:function(){var e=this._lexer.token;if(this.peek(I.BRACE_L))return this.node(e,{kind:T.h.OPERATION_DEFINITION,operation:S.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});var t,n=this.parseOperationType();return this.peek(I.NAME)&&(t=this.parseName()),this.node(e,{kind:T.h.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseOperationType",value:function(){var e=this.expectToken(I.NAME);switch(e.value){case"query":return S.ku.QUERY;case"mutation":return S.ku.MUTATION;case"subscription":return S.ku.SUBSCRIPTION}throw this.unexpected(e)}},{key:"parseVariableDefinitions",value:function(){return this.optionalMany(I.PAREN_L,this.parseVariableDefinition,I.PAREN_R)}},{key:"parseVariableDefinition",value:function(){return this.node(this._lexer.token,{kind:T.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(I.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(I.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}},{key:"parseVariable",value:function(){var e=this._lexer.token;return this.expectToken(I.DOLLAR),this.node(e,{kind:T.h.VARIABLE,name:this.parseName()})}},{key:"parseSelectionSet",value:function(){return this.node(this._lexer.token,{kind:T.h.SELECTION_SET,selections:this.many(I.BRACE_L,this.parseSelection,I.BRACE_R)})}},{key:"parseSelection",value:function(){return this.peek(I.SPREAD)?this.parseFragment():this.parseField()}},{key:"parseField",value:function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(I.COLON)?(e=r,t=this.parseName()):t=r,this.node(n,{kind:T.h.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(I.BRACE_L)?this.parseSelectionSet():void 0})}},{key:"parseArguments",value:function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(I.PAREN_L,t,I.PAREN_R)}},{key:"parseArgument",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._lexer.token,n=this.parseName();return this.expectToken(I.COLON),this.node(t,{kind:T.h.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}},{key:"parseConstArgument",value:function(){return this.parseArgument(!0)}},{key:"parseFragment",value:function(){var e=this._lexer.token;this.expectToken(I.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(I.NAME)?this.node(e,{kind:T.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:T.h.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseFragmentDefinition",value:function(){var e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:T.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:T.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseFragmentName",value:function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}},{key:"parseValueLiteral",value:function(e){var t=this._lexer.token;switch(t.kind){case I.BRACKET_L:return this.parseList(e);case I.BRACE_L:return this.parseObject(e);case I.INT:return this.advanceLexer(),this.node(t,{kind:T.h.INT,value:t.value});case I.FLOAT:return this.advanceLexer(),this.node(t,{kind:T.h.FLOAT,value:t.value});case I.STRING:case I.BLOCK_STRING:return this.parseStringLiteral();case I.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:T.h.BOOLEAN,value:!0});case"false":return this.node(t,{kind:T.h.BOOLEAN,value:!1});case"null":return this.node(t,{kind:T.h.NULL});default:return this.node(t,{kind:T.h.ENUM,value:t.value})}case I.DOLLAR:if(e){if(this.expectToken(I.DOLLAR),this._lexer.token.kind===I.NAME){var n=this._lexer.token.value;throw E(this._lexer.source,t.start,'Unexpected variable "$'.concat(n,'" in constant value.'))}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}},{key:"parseConstValueLiteral",value:function(){return this.parseValueLiteral(!0)}},{key:"parseStringLiteral",value:function(){var e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:T.h.STRING,value:e.value,block:e.kind===I.BLOCK_STRING})}},{key:"parseList",value:function(e){var t=this;return this.node(this._lexer.token,{kind:T.h.LIST,values:this.any(I.BRACKET_L,(function(){return t.parseValueLiteral(e)}),I.BRACKET_R)})}},{key:"parseObject",value:function(e){var t=this;return this.node(this._lexer.token,{kind:T.h.OBJECT,fields:this.any(I.BRACE_L,(function(){return t.parseObjectField(e)}),I.BRACE_R)})}},{key:"parseObjectField",value:function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(I.COLON),this.node(t,{kind:T.h.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}},{key:"parseDirectives",value:function(e){for(var t=[];this.peek(I.AT);)t.push(this.parseDirective(e));return t}},{key:"parseConstDirectives",value:function(){return this.parseDirectives(!0)}},{key:"parseDirective",value:function(e){var t=this._lexer.token;return this.expectToken(I.AT),this.node(t,{kind:T.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}},{key:"parseTypeReference",value:function(){var e,t=this._lexer.token;if(this.expectOptionalToken(I.BRACKET_L)){var n=this.parseTypeReference();this.expectToken(I.BRACKET_R),e=this.node(t,{kind:T.h.LIST_TYPE,type:n})}else e=this.parseNamedType();return this.expectOptionalToken(I.BANG)?this.node(t,{kind:T.h.NON_NULL_TYPE,type:e}):e}},{key:"parseNamedType",value:function(){return this.node(this._lexer.token,{kind:T.h.NAMED_TYPE,name:this.parseName()})}},{key:"peekDescription",value:function(){return this.peek(I.STRING)||this.peek(I.BLOCK_STRING)}},{key:"parseDescription",value:function(){if(this.peekDescription())return this.parseStringLiteral()}},{key:"parseSchemaDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseConstDirectives(),r=this.many(I.BRACE_L,this.parseOperationTypeDefinition,I.BRACE_R);return this.node(e,{kind:T.h.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}},{key:"parseOperationTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(I.COLON);var n=this.parseNamedType();return this.node(e,{kind:T.h.OPERATION_TYPE_DEFINITION,operation:t,type:n})}},{key:"parseScalarTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:T.h.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}},{key:"parseObjectTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:T.h.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:a})}},{key:"parseImplementsInterfaces",value:function(){return this.expectOptionalKeyword("implements")?this.delimitedMany(I.AMP,this.parseNamedType):[]}},{key:"parseFieldsDefinition",value:function(){return this.optionalMany(I.BRACE_L,this.parseFieldDefinition,I.BRACE_R)}},{key:"parseFieldDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(I.COLON);var i=this.parseTypeReference(),a=this.parseConstDirectives();return this.node(e,{kind:T.h.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:a})}},{key:"parseArgumentDefs",value:function(){return this.optionalMany(I.PAREN_L,this.parseInputValueDef,I.PAREN_R)}},{key:"parseInputValueDef",value:function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(I.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(I.EQUALS)&&(r=this.parseConstValueLiteral());var a=this.parseConstDirectives();return this.node(e,{kind:T.h.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:a})}},{key:"parseInterfaceTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:T.h.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:a})}},{key:"parseUnionTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:T.h.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}},{key:"parseUnionMemberTypes",value:function(){return this.expectOptionalToken(I.EQUALS)?this.delimitedMany(I.PIPE,this.parseNamedType):[]}},{key:"parseEnumTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:T.h.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}},{key:"parseEnumValuesDefinition",value:function(){return this.optionalMany(I.BRACE_L,this.parseEnumValueDefinition,I.BRACE_R)}},{key:"parseEnumValueDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:T.h.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}},{key:"parseEnumValueName",value:function(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw E(this._lexer.source,this._lexer.token.start,"".concat($(this._lexer.token)," is reserved and cannot be used for an enum value."));return this.parseName()}},{key:"parseInputObjectTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:T.h.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}},{key:"parseInputFieldsDefinition",value:function(){return this.optionalMany(I.BRACE_L,this.parseInputValueDef,I.BRACE_R)}},{key:"parseTypeSystemExtension",value:function(){var e=this._lexer.lookahead();if(e.kind===I.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}},{key:"parseSchemaExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseConstDirectives(),n=this.optionalMany(I.BRACE_L,this.parseOperationTypeDefinition,I.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:T.h.SCHEMA_EXTENSION,directives:t,operationTypes:n})}},{key:"parseScalarTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:T.h.SCALAR_TYPE_EXTENSION,name:t,directives:n})}},{key:"parseObjectTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:T.h.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}},{key:"parseInterfaceTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:T.h.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}},{key:"parseUnionTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:T.h.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}},{key:"parseEnumTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:T.h.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}},{key:"parseInputObjectTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:T.h.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}},{key:"parseDirectiveDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(I.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var a=this.parseDirectiveLocations();return this.node(e,{kind:T.h.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:a})}},{key:"parseDirectiveLocations",value:function(){return this.delimitedMany(I.PIPE,this.parseDirectiveLocation)}},{key:"parseDirectiveLocation",value:function(){var e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(_,t.value))return t;throw this.unexpected(e)}},{key:"node",value:function(e,t){return!0!==this._options.noLocation&&(t.loc=new S.Ye(e,this._lexer.lastToken,this._lexer.source)),t}},{key:"peek",value:function(e){return this._lexer.token.kind===e}},{key:"expectToken",value:function(e){var t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw E(this._lexer.source,t.start,"Expected ".concat(J(e),", found ").concat($(t),"."))}},{key:"expectOptionalToken",value:function(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}},{key:"expectKeyword",value:function(e){var t=this._lexer.token;if(t.kind!==I.NAME||t.value!==e)throw E(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat($(t),"."));this.advanceLexer()}},{key:"expectOptionalKeyword",value:function(e){var t=this._lexer.token;return t.kind===I.NAME&&t.value===e&&(this.advanceLexer(),!0)}},{key:"unexpected",value:function(e){var t=null!==e&&void 0!==e?e:this._lexer.token;return E(this._lexer.source,t.start,"Unexpected ".concat($(t),"."))}},{key:"any",value:function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r}},{key:"optionalMany",value:function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]}},{key:"many",value:function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}},{key:"delimitedMany",value:function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}},{key:"advanceLexer",value:function(){var e=this._options.maxTokens,t=this._lexer.advance();if(void 0!==e&&t.kind!==I.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw E(this._lexer.source,t.start,"Document contains more that ".concat(e," tokens. Parsing aborted."))}}]),e}();function $(e){var t=e.value;return J(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function J(e){return function(e){return e===I.BANG||e===I.DOLLAR||e===I.AMP||e===I.PAREN_L||e===I.PAREN_R||e===I.SPREAD||e===I.COLON||e===I.EQUALS||e===I.AT||e===I.BRACKET_L||e===I.BRACKET_R||e===I.BRACE_L||e===I.PIPE||e===I.BRACE_R}(e)?'"'.concat(e,'"'):e}var X=new Map,ee=new Map,te=!0,ne=!1;function re(e){return e.replace(/[\s,]+/g," ").trim()}function ie(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,i=re((o=e.loc).source.body.substring(o.start,o.end)),a=ee.get(r);a&&!a.has(i)?te&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):a||ee.set(r,a=new Set),a.add(i),t.has(i)||(t.add(i),n.push(e))}else n.push(e);var o})),(0,r.pi)((0,r.pi)({},e),{definitions:n})}function ae(e){var t=re(e);if(!X.has(t)){var n=function(e,t){return new Y(e,t).parseDocument()}(e,{experimentalFragmentVariables:ne,allowLegacyFragmentVariables:ne});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");X.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"===typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(ie(n)))}return X.get(t)}function oe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"===typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),ae(r)}var ue,se=oe,ce=function(){X.clear(),ee.clear()},le=function(){te=!1},fe=function(){ne=!0},he=function(){ne=!1};(ue=oe||(oe={})).gql=se,ue.resetCaches=ce,ue.disableFragmentWarnings=le,ue.enableExperimentalFragmentVariables=fe,ue.disableExperimentalFragmentVariables=he,oe.default=oe},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},456:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,a=0,o=0,u="";i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?u+=String.fromCharCode(255&n>>(-2*a&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return u};function a(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(i(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return i(t)}}function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(a(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}}},3360:function(e,t,n){"use strict";var r=n(1413),i=n(9439),a=n(5987),o=n(1694),u=n.n(o),s=n(2791),c=n(5341),l=n(162),f=n(184),h=["as","bsPrefix","variant","size","active","className"],d=s.forwardRef((function(e,t){var n=e.as,o=e.bsPrefix,s=e.variant,d=e.size,p=e.active,v=e.className,y=(0,a.Z)(e,h),m=(0,l.vE)(o,"btn"),g=(0,c.FT)((0,r.Z)({tagName:n},y)),b=(0,i.Z)(g,2),k=b[0],w=b[1].tagName;return(0,f.jsx)(w,(0,r.Z)((0,r.Z)((0,r.Z)({},k),y),{},{ref:t,className:u()(v,m,p&&"active",s&&"".concat(m,"-").concat(s),d&&"".concat(m,"-").concat(d),y.href&&y.disabled&&"disabled")}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=d},162:function(e,t,n){"use strict";n.d(t,{SC:function(){return u},vE:function(){return o}});var r=n(2791),i=(n(184),["xxl","xl","lg","md","sm","xs"]),a=r.createContext({prefixes:{},breakpoints:i,minBreakpoint:"xs"});a.Consumer,a.Provider;function o(e,t){var n=(0,r.useContext)(a).prefixes;return e||n[t]||t}function u(){return"rtl"===(0,r.useContext)(a).dir}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case Z:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function H(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Se(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ze(e,t){return e(t)}function Ne(){}var Ce=!1;function Oe(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Ze(e,t,n)}finally{Ce=!1,(null!==Ee||null!==_e)&&(Ne(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Pe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,je=null,Ue={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,a,o,u,s){Le=!1,Me=null,Pe.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(qe(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ze(i),e;if(o===r)return ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,He=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,St,It=!1,Tt=[],Zt=null,Nt=null,Ct=null,Ot=new Map,At=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){It=!1,null!==Zt&&Ft(Zt)&&(Zt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ct&&Ft(Ct)&&(Ct=null),Ot.forEach(jt),At.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Zt&&Vt(Zt,e),null!==Nt&&Vt(Nt,e),null!==Ct&&Vt(Ct,e),Ot.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Bt=k.ReactCurrentBatchConfig,zt=!0;function Gt(e,t,n,r){var i=bt,a=Bt.transition;Bt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Bt.transition=a}}function Qt(e,t,n,r){var i=bt,a=Bt.transition;Bt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Bt.transition=a}}function Kt(e,t,n,r){if(zt){var i=Ht(e,t,n,r);if(null===i)zr(e,t,r,Wt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Zt=Lt(Zt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Ct=Lt(Ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Ht(e,t,n,r))&&zr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Wt=null;function Ht(e,t,n,r){if(Wt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),yn=an(M({},fn,{relatedTarget:0})),mn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return _n}var In=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Zn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Cn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(On),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Pn,Mn=l&&(!Rn||Pn&&8<Pn&&11>=Pn),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Kn=null;function Wn(e){Fr(e,0)}function Hn(e){if(K(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Jn=Xn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Kn=Qn=null)}function nr(e){if("value"===e.propertyName&&Hn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Oe(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Kn)}function ar(e,t){if("click"===e)return Hn(t)}function or(e,t){if("input"===e||"change"===e)return Hn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==W(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Qr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Sr("animationend"),Tr=Sr("animationiteration"),Zr=Sr("animationstart"),Nr=Sr("transitionend"),Cr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Cr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Ar(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ar(Ir,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Zr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Tr:case Zr:s=mn;break;case Nr:s=Cn;break;case"scroll":s=hn;break;case"wheel":s=An;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Zn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ae(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Zn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(zn(u))if($n)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Gn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?ki(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,qn=!0)),0<(m=Qr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Xt=Jt=$t=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ae(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Ae(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Si(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ii(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Zi=_i(Ti),Ni=_i(!1),Ci=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ni),Si(Zi)}function Ri(e,t,n){if(Zi.current!==Ti)throw Error(a(168));Ii(Zi,t),Ii(Ni,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ci=Zi.current,Ii(Zi,e),Ii(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Zi),Ii(Zi,e)):Si(Ni),Ii(Ni,n)}var Fi=null,ji=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Xe,qi),i}finally{bt=t,Ui=!1}}return null}var Bi=[],zi=0,Gi=null,Qi=0,Ki=[],Wi=0,Hi=null,Yi=1,$i="";function Ji(e,t){Bi[zi++]=Qi,Bi[zi++]=Gi,Gi=e,Qi=t}function Xi(e,t,n){Ki[Wi++]=Yi,Ki[Wi++]=$i,Ki[Wi++]=Hi,Hi=e;var r=Yi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Yi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Xi(e,1,0))}function ta(e){for(;e===Gi;)Gi=Bi[--zi],Bi[zi]=null,Qi=Bi[--zi],Bi[zi]=null;for(;e===Hi;)Hi=Ki[--Wi],Ki[Wi]=null,$i=Ki[--Wi],Ki[Wi]=null,Yi=Ki[--Wi],Ki[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Hi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=_i(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ma.current;Si(ma),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Za(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ca=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Zs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Pa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Ca=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Ca=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),Pa(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ba(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ai(t)?Ci:Zi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function za(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ai(t)?Ci:Zi.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Qa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Qa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Qa(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function y(i,u,s,c){var l=P(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Qa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Pc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Qa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case A:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(P(o))return y(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=Ha(!0),$a=Ha(!1),Ja={},Xa=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Xa,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Xa),Ii(Xa,t)}function io(){Si(Xa),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Xa.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Xa,n))}function oo(e){eo.current===e&&(Si(Xa),Si(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Zo(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Ao(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,zo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Po(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Vo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Bo(e,t){return Vo(8390656,8,e,t)}function zo(e,t){return qo(2048,8,e,t)}function Go(e,t){return qo(4,2,e,t)}function Qo(e,t){return qo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ko.bind(null,t,e),n)}function Ho(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Xo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Za(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Za(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Fo,useDebugValue:Ho,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Xo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Po.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:zo,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Qo,useMemo:$o,useReducer:No,useRef:Uo,useState:function(){return No(Zo)},useDebugValue:Ho,useDeferredValue:function(e){return Jo(To(),yo.memoizedState,e)},useTransition:function(){return[No(Zo)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ao,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:zo,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Qo,useMemo:$o,useReducer:Co,useRef:Uo,useState:function(){return Co(Zo)},useDebugValue:Ho,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Co(Zo)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ao,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ac(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return zu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,zu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ds,As),As|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ds,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ds,As),As|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ds,As),As|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ai(n)?Ci:Zi.current;return a=Oi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zu(e,t,i))}function Zu(e,t,n,r,i){if(Ai(n)){var a=!0;Li(t)}else a=!1;if(_a(t,i),null===t.stateNode)Bu(e,t),Ba(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Ai(n)?Ci:Zi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&za(t,o,r,c),Ca=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Ca?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Ca||qa(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Ai(n)?Ci:Zi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&za(t,o,r,s),Ca=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Ca?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Ca||qa(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),zu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Cu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Au,Du,Ru,Pu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Pc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Pu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Pc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Pu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Wi++]=Yi,Ki[Wi++]=$i,Ki[Wi++]=Hi,Yi=e.id,$i=e.overflow,Hi=t),t=Fu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Pc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ku(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qu(t),null;case 1:case 17:return Ai(t.type)&&Di(),Qu(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Zi),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Qu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Qu(t),null}if(e=no(Xa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)jr(Pr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":Q(r),X(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Au(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)jr(Pr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=H(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":Q(e),X(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Xa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Qu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Qu(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Qu(t),null;case 10:return xa(t.type._context),Qu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Qu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>qs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Qu(t),null}else 2*$e()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Qu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&As)&&(Qu(t),6&t.subtreeFlags&&(t.flags|=8192)):Qu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Wu(e,t){switch(ta(t),t.tag){case 1:return Ai(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Zi),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Au=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xa.current);var a,o=null;switch(n){case"input":i=H(e,i),r=H(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Hu=!1,Yu=!1,$u="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Xu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Xu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Xu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $u),t.forEach((function(t){var r=Zc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){_c(e,e.return,y)}try{ns(5,e,e.return)}catch(y){_c(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Xu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Xu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){_c(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){_c(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){_c(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){_c(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=$e())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Xu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){_c(r,n,y)}}break;case 5:Xu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){_c(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){_c(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Hu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Hu;var c=Yu;if(Hu=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,Hu=u,Yu=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){_c(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{is(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,_s=Math.ceil,Ss=k.ReactCurrentDispatcher,Is=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Zs=0,Ns=null,Cs=null,Os=0,As=0,Ds=_i(0),Rs=0,Ps=null,Ls=0,Ms=0,Fs=0,js=null,Us=null,Vs=0,qs=1/0,Bs=null,zs=!1,Gs=null,Qs=null,Ks=!1,Ws=null,Hs=0,Ys=0,$s=null,Js=-1,Xs=0;function ec(){return 0!==(6&Zs)?$e():-1!==Js?Js:Js=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Zs)&&0!==Os?Os&-Os:null!==va.transition?(0===Xs&&(Xs=vt()),Xs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,$s=null,Error(a(185));mt(e,n,r),0!==(2&Zs)&&e===Ns||(e===Ns&&(0===(2&Zs)&&(Ms|=n),4===Rs&&uc(e,Os)),rc(e,r),1===n&&0===Zs&&0===(1&t.mode)&&(qs=$e()+500,ji&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){ji=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),oi((function(){0===(6&Zs)&&qi()})),n=null;else{switch(kt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Xs=0,0!==(6&Zs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Zs;Zs|=2;var o=pc();for(Ns===e&&Os===t||(Bs=null,qs=$e()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Zs=i,null!==Cs?t=0:(Ns=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ps,hc(e,0),uc(e,r),rc(e,$e()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ps,hc(e,0),uc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,Bs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Vs+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,Bs),t);break}wc(e,Us,Bs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,Bs),r);break}wc(e,Us,Bs);break;default:throw Error(a(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Zs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ps,hc(e,0),uc(e,t),rc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,Bs),rc(e,$e()),null}function cc(e,t){var n=Zs;Zs|=1;try{return e(t)}finally{0===(Zs=n)&&(qs=$e()+500,ji&&qi())}}function lc(e){null!==Ws&&0===Ws.tag&&0===(6&Zs)&&xc();var t=Zs;Zs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Zs=t))&&qi()}}function fc(){As=Ds.current,Si(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ni),Si(Zi),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,Cs=e=Dc(e.current,null),Os=As=t,Rs=0,Ps=null,Fs=Ms=Ls=0,Us=js=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Cs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,bo=!1,ko=0,Is.current=null,null===n||null===n.return){Rs=1,Ps=t,Cs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Qs||!Qs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Cs===n&&null!==n&&(Cs=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ns||0===(268435455&Ls)&&0===(268435455&Ms)||uc(Ns,Os)}function yc(e,t){var n=Zs;Zs|=2;var r=pc();for(Ns===e&&Os===t||(Bs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Zs=n,Ss.current=r,null!==Cs)throw Error(a(261));return Ns=null,Os=0,Rs}function mc(){for(;null!==Cs;)bc(Cs)}function gc(){for(;null!==Cs&&!He();)bc(Cs)}function bc(e){var t=Es(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?kc(e):Cs=t,Is.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ku(n,t,As)))return void(Cs=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Cs=n);if(null===e)return Rs=6,void(Cs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cs=t);Cs=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Ws);if(0!==(6&Zs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Cs=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Zs;Zs|=4,Is.current=null,function(e,t){if(ei=zt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Zs=s,bt=u,Ts.transition=o}else e.current=n;if(Ks&&(Ks=!1,Ws=e,Hs=i),o=e.pendingLanes,0===o&&(Qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(zs)throw zs=!1,e=Gs,Gs=null,e;0!==(1&Hs)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===$s?Ys++:(Ys=0,$s=e):Ys=0,qi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==Ws){var e=kt(Hs),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Hs=0,0!==(6&Zs))throw Error(a(331));var i=Zs;for(Zs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Zs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>$e()-Vs?hc(e,0):Fs|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Zc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ke(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Cc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Ac(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Pc(n.children,i,o,t);case _:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case C:return(e=Oc(19,n,t,i)).elementType=C,e.lanes=o,e;case D:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case Z:u=11;break e;case O:u=14;break e;case A:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Pi(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function zc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),Pa(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Cu(t),da();break;case 5:ao(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ii(uo,1&uo.current),null!==(e=zu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return zu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bu(e,t),e=t.pendingProps;var i=Oi(t,Zi.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Z)return 11;if(e===O)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Zu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Zu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Cu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Aa(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=zu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=zu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Eu(e,t,r,i=ya(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Bu(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,_a(t,n),Ba(t,r,i),Ga(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){zc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=Hc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zc(e,t,null,null)},Yc.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){zc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,$e()),0===(6&Zs)&&(qs=$e()+500,qi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},_t=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ze=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Hc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},9434:function(e,t,n){"use strict";n.d(t,{zt:function(){return b},I0:function(){return S},v9:function(){return v}});var r=n(7248),i=n(327),a=n(4164);var o=function(e){e()},u=function(){return o},s=n(2791),c=(0,s.createContext)(null);function l(){return(0,s.useContext)(c)}var f=function(){throw new Error("uSES not initialized!")},h=f,d=function(e,t){return e===t};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?l:function(){return(0,s.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var r=t(),i=r.store,a=r.subscription,o=r.getServerState,u=h(a.addNestedSub,i.getState,o||i.getState,e,n);return(0,s.useDebugValue)(u),u}}var v=p();n(2110),n(6900);var y={notify:function(){},get:function(){return[]}};function m(e,t){var n,r=y;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=u(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=y)},getListeners:function(){return r}};return o}var g=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?s.useLayoutEffect:s.useEffect;var b=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,a=(0,s.useMemo)((function(){var e=m(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}}),[t,i]),o=(0,s.useMemo)((function(){return t.getState()}),[t]);g((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,o]);var u=n||c;return s.createElement(u.Provider,{value:a},r)};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?l:function(){return(0,s.useContext)(e)};return function(){return t().store}}var w=k();function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?w:k(e);return function(){return t().dispatch}}var E,_,S=x();E=i.useSyncExternalStoreWithSelector,h=E,function(e){e}(r.useSyncExternalStore),_=a.unstable_batchedUpdates,o=_},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},1087:function(e,t,n){"use strict";n.d(t,{OL:function(){return d},VK:function(){return f},rU:function(){return h}});var r=n(9439),i=n(2791),a=n(7689),o=n(3924);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var c=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],l=["aria-current","caseSensitive","className","end","style","to","children"];function f(e){var t=e.basename,n=e.children,u=e.window,s=i.useRef();null==s.current&&(s.current=(0,o.lX)({window:u,v5Compat:!0}));var c=s.current,l=i.useState({action:c.action,location:c.location}),f=(0,r.Z)(l,2),h=f[0],d=f[1];return i.useLayoutEffect((function(){return c.listen(d)}),[c]),i.createElement(a.F0,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}var h=i.forwardRef((function(e,t){var n=e.onClick,r=e.relative,l=e.reloadDocument,f=e.replace,h=e.state,d=e.target,p=e.to,v=e.preventScrollReset,y=s(e,c),m=(0,a.oQ)(p,{relative:r}),g=function(e,t){var n=void 0===t?{}:t,r=n.target,u=n.replace,s=n.state,c=n.preventScrollReset,l=n.relative,f=(0,a.s0)(),h=(0,a.TH)(),d=(0,a.WU)(e,{relative:l});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==u?u:(0,o.Ep)(h)===(0,o.Ep)(d);f(e,{replace:n,state:s,preventScrollReset:c,relative:l})}}),[h,f,d,u,s,r,e,c,l])}(p,{replace:f,state:h,target:d,preventScrollReset:v,relative:r});return i.createElement("a",u({},y,{href:m,onClick:l?n:function(e){n&&n(e),e.defaultPrevented||g(e)},ref:t,target:d}))}));var d=i.forwardRef((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.caseSensitive,c=void 0!==o&&o,f=e.className,d=void 0===f?"":f,p=e.end,v=void 0!==p&&p,y=e.style,m=e.to,g=e.children,b=s(e,l),k=(0,a.WU)(m,{relative:b.relative}),w=(0,a.TH)(),x=i.useContext(a.FR),E=i.useContext(a.Us).navigator,_=E.encodeLocation?E.encodeLocation(k).pathname:k.pathname,S=w.pathname,I=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;c||(S=S.toLowerCase(),I=I?I.toLowerCase():null,_=_.toLowerCase());var T,Z=S===_||!v&&S.startsWith(_)&&"/"===S.charAt(_.length),N=null!=I&&(I===_||!v&&I.startsWith(_)&&"/"===I.charAt(_.length)),C=Z?r:void 0;T="function"===typeof d?d({isActive:Z,isPending:N}):[d,Z?"active":null,N?"pending":null].filter(Boolean).join(" ");var O="function"===typeof y?y({isActive:Z,isPending:N}):y;return i.createElement(h,u({},b,{"aria-current":C,className:T,ref:t,style:O,to:m}),"function"===typeof g?g({isActive:Z,isPending:N}):g)}));var p,v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(p||(p={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(v||(v={}))},7689:function(e,t,n){"use strict";var r;n.d(t,{AW:function(){return q},F0:function(){return B},FR:function(){return w},TH:function(){return N},UO:function(){return O},Us:function(){return E},WU:function(){return A},Z5:function(){return z},oQ:function(){return T},s0:function(){return C}});var i=n(3433),a=n(5671),o=n(3144),u=n(136),s=n(7277),c=n(9439),l=n(3924),f=n(2791);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var d="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},p=f.useState,v=f.useEffect,y=f.useLayoutEffect,m=f.useDebugValue;function g(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!d(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,(r||(r=n.t(f,2))).useSyncExternalStore;var b=f.createContext(null);var k=f.createContext(null);var w=f.createContext(null);var x=f.createContext(null);var E=f.createContext(null);var _=f.createContext(null);var S=f.createContext({outlet:null,matches:[]});var I=f.createContext(null);function T(e,t){var n=(void 0===t?{}:t).relative;Z()||(0,l.kG)(!1);var r=f.useContext(E),i=r.basename,a=r.navigator,o=A(e,{relative:n}),u=o.hash,s=o.pathname,c=o.search,h=s;return"/"!==i&&(h="/"===s?i:(0,l.RQ)([i,s])),a.createHref({pathname:h,search:c,hash:u})}function Z(){return null!=f.useContext(_)}function N(){return Z()||(0,l.kG)(!1),f.useContext(_).location}function C(){Z()||(0,l.kG)(!1);var e=f.useContext(E),t=e.basename,n=e.navigator,r=f.useContext(S).matches,i=N().pathname,a=JSON.stringify((0,l.Zq)(r).map((function(e){return e.pathnameBase}))),o=f.useRef(!1);return f.useEffect((function(){o.current=!0})),f.useCallback((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=(0,l.pC)(e,JSON.parse(a),i,"path"===r.relative);"/"!==t&&(u.pathname="/"===u.pathname?t:(0,l.RQ)([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state,r)}else n.go(e)}),[t,n,a,i])}function O(){var e=f.useContext(S).matches,t=e[e.length-1];return t?t.params:{}}function A(e,t){var n=(void 0===t?{}:t).relative,r=f.useContext(S).matches,i=N().pathname,a=JSON.stringify((0,l.Zq)(r).map((function(e){return e.pathnameBase})));return f.useMemo((function(){return(0,l.pC)(e,JSON.parse(a),i,"path"===n)}),[e,a,i,n])}function D(){var e=function(){var e,t=f.useContext(I),n=j(P.UseRouteError),r=U(P.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,l.WK)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unhandled Thrown Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:i},n):null,f.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",f.createElement("code",{style:a},"errorElement")," props on\xa0",f.createElement("code",{style:a},"<Route>")))}var R,P,L=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return(0,o.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?f.createElement(S.Provider,{value:this.props.routeContext},f.createElement(I.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(f.Component);function M(e){var t=e.routeContext,n=e.match,r=e.children,i=f.useContext(b);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),f.createElement(S.Provider,{value:t},r)}function F(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var a=r.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));a>=0||(0,l.kG)(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((function(e,a,o){var u=a.route.id?null==i?void 0:i[a.route.id]:null,s=n?a.route.errorElement||f.createElement(D,null):null,c=t.concat(r.slice(0,o+1)),l=function(){return f.createElement(M,{match:a,routeContext:{outlet:e,matches:c}},u?s:void 0!==a.route.element?a.route.element:e)};return n&&(a.route.errorElement||0===o)?f.createElement(L,{location:n.location,component:s,error:u,children:l(),routeContext:{outlet:null,matches:c}}):l()}),null)}function j(e){var t=f.useContext(w);return t||(0,l.kG)(!1),t}function U(e){var t=function(e){var t=f.useContext(S);return t||(0,l.kG)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||(0,l.kG)(!1),n.route.id}!function(e){e.UseRevalidator="useRevalidator"}(R||(R={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(P||(P={}));var V;function q(e){(0,l.kG)(!1)}function B(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?l.aU.Pop:o,s=e.navigator,c=e.static,h=void 0!==c&&c;Z()&&(0,l.kG)(!1);var d=n.replace(/^\/*/,"/"),p=f.useMemo((function(){return{basename:d,navigator:s,static:h}}),[d,s,h]);"string"===typeof a&&(a=(0,l.cP)(a));var v=a,y=v.pathname,m=void 0===y?"/":y,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,x=v.state,S=void 0===x?null:x,I=v.key,T=void 0===I?"default":I,N=f.useMemo((function(){var e=(0,l.Zn)(m,d);return null==e?null:{pathname:e,search:b,hash:w,state:S,key:T}}),[d,m,b,w,S,T]);return null==N?null:f.createElement(E.Provider,{value:p},f.createElement(_.Provider,{children:i,value:{location:N,navigationType:u}}))}function z(e){var t=e.children,n=e.location,r=f.useContext(k);return function(e,t){Z()||(0,l.kG)(!1);var n,r=f.useContext(E).navigator,i=f.useContext(w),a=f.useContext(S).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,N());if(t){var d,p="string"===typeof t?(0,l.cP)(t):t;"/"===s||(null==(d=p.pathname)?void 0:d.startsWith(s))||(0,l.kG)(!1),n=p}else n=c;var v=n.pathname||"/",y="/"===s?v:v.slice(s.length)||"/",m=(0,l.fp)(e,{pathname:y}),g=F(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:(0,l.RQ)([s,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:(0,l.RQ)([s,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),a,i||void 0);return t&&g?f.createElement(_.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:l.aU.Pop}},g):g}(r&&!t?r.router.routes:Q(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(V||(V={}));var G=new Promise((function(){}));f.Component;function Q(e,t){void 0===t&&(t=[]);var n=[];return f.Children.forEach(e,(function(e,r){if(f.isValidElement(e))if(e.type!==f.Fragment){e.type!==q&&(0,l.kG)(!1),e.props.index&&e.props.children&&(0,l.kG)(!1);var a=[].concat((0,i.Z)(t),[r]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Q(e.props.children,a)),n.push(o)}else n.push.apply(n,Q(e.props.children,t))})),n}},7726:function(e,t,n){"use strict";n.d(t,{ZP:function(){return m}});var r=n(3366),i=n(4578),a=n(2791),o=n(4164),u=!1,s=a.createContext(null),c=n(8852),l="unmounted",f="exited",h="entering",d="entered",p="exiting",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=f,r.appearStatus=h):i=d:i=t.unmountOnExit||t.mountOnEnter?l:f,r.state={status:i},r.nextCallback=null,r}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:f}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==d&&(t=h):n!==h&&n!==d||(t=p)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===h){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this);n&&(0,c.Q)(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:l})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[o.findDOMNode(this),r],a=i[0],s=i[1],c=this.getTimeouts(),l=r?c.appear:c.enter;!e&&!n||u?this.safeSetState({status:d},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:h},(function(){t.props.onEntering(a,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:d},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.findDOMNode(this);t&&!u?(this.props.onExit(r),this.safeSetState({status:p},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:f},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:f},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],u=i[1];this.props.addEndListener(a,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(s.Provider,{value:null},"function"===typeof n?n(e,i):a.cloneElement(a.Children.only(n),i))},t}(a.Component);function y(){}v.contextType=s,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},v.UNMOUNTED=l,v.EXITED=f,v.ENTERING=h,v.ENTERED=d,v.EXITING=p;var m=v},8852:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var r=function(e){return e.scrollTop}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=b.prototype=new g;k.constructor=b,v(k,m.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function Z(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+Z(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+Z(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+Z(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},5484:function(e,t,n){"use strict";var r=n(7781).qC;"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__},7780:function(e,t,n){"use strict";n.r(t),n.d(t,{actionChannel:function(){return i.Q},all:function(){return i._},apply:function(){return i.$},call:function(){return i.N},cancel:function(){return i.M},cancelled:function(){return i.a4},cps:function(){return i.a0},debounce:function(){return k},delay:function(){return i.O},effectTypes:function(){return i.W},flush:function(){return i.a5},fork:function(){return i.L},getContext:function(){return i.a6},join:function(){return i.a2},put:function(){return i.Y},putResolve:function(){return i.Z},race:function(){return i.V},retry:function(){return b},select:function(){return i.a3},setContext:function(){return i.a7},spawn:function(){return i.a1},take:function(){return i.K},takeEvery:function(){return v},takeLatest:function(){return y},takeLeading:function(){return m},takeMaybe:function(){return i.X},throttle:function(){return g}});var r=n(5609),i=n(9545),a=function(e){return{done:!0,value:e}},o={};function u(e){return(0,r.CE)(e)?"channel":(0,r.eR)(e)?String(e):(0,r.Yl)(e)?e.name:String(e)}function s(e,t,n){var r,u,s,c=t;function l(t,n){if(c===o)return a(t);if(n&&!u)throw c=o,n;r&&r(t);var i=n?e[u](n):e[c]();return c=i.nextState,s=i.effect,r=i.stateUpdater,u=i.errorState,c===o?a(t):s}return(0,i.q)(l,(function(e){return l(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o,c={done:!1,value:(0,i.K)(e)},l=function(e){return{done:!1,value:i.L.apply(void 0,[t].concat(r,[e]))}},f=function(e){return o=e};return s({q1:function(){return{nextState:"q2",effect:c,stateUpdater:f}},q2:function(){return{nextState:"q1",effect:l(o)}}},"q1","takeEvery("+u(e)+", "+t.name+")")}function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o,c,l={done:!1,value:(0,i.K)(e)},f=function(e){return{done:!1,value:i.L.apply(void 0,[t].concat(r,[e]))}},h=function(e){return{done:!1,value:(0,i.M)(e)}},d=function(e){return o=e},p=function(e){return c=e};return s({q1:function(){return{nextState:"q2",effect:l,stateUpdater:p}},q2:function(){return o?{nextState:"q3",effect:h(o)}:{nextState:"q1",effect:f(c),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:f(c),stateUpdater:d}}},"q1","takeLatest("+u(e)+", "+t.name+")")}function f(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o,c={done:!1,value:(0,i.K)(e)},l=function(e){return{done:!1,value:i.N.apply(void 0,[t].concat(r,[e]))}},f=function(e){return o=e};return s({q1:function(){return{nextState:"q2",effect:c,stateUpdater:f}},q2:function(){return{nextState:"q1",effect:l(o)}}},"q1","takeLeading("+u(e)+", "+t.name+")")}function h(e,t,n){for(var a=arguments.length,o=new Array(a>3?a-3:0),c=3;c<a;c++)o[c-3]=arguments[c];var l,f,h=function(){return{done:!1,value:(0,i.K)(f)}},d=function(e){return{done:!1,value:i.L.apply(void 0,[n].concat(o,[e]))}},p={done:!1,value:(0,i.O)(e)},v=function(e){return l=e},y=function(e){return f=e},m=!(0,r.CE)(t);return m||y(t),s({q1:function(){return{nextState:"q2",effect:{done:!1,value:(0,i.Q)(t,(0,i.U)(1))},stateUpdater:y}},q2:function(){return{nextState:"q3",effect:h(),stateUpdater:v}},q3:function(){return{nextState:"q4",effect:d(l)}},q4:function(){return{nextState:"q2",effect:p}}},m?"q1":"q2","throttle("+u(t)+", "+n.name+")")}function d(e,t,n){for(var r=e,a=arguments.length,u=new Array(a>3?a-3:0),c=3;c<a;c++)u[c-3]=arguments[c];var l={done:!1,value:i.N.apply(void 0,[n].concat(u))},f={done:!1,value:(0,i.O)(t)};return s({q1:function(){return{nextState:"q2",effect:l,errorState:"q10"}},q2:function(){return{nextState:o}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:f}}},"q1","retry("+n.name+")")}function p(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];var c,l,f={done:!1,value:(0,i.K)(t)},h={done:!1,value:(0,i.V)({action:(0,i.K)(t),debounce:(0,i.O)(e)})},d=function(e){return{done:!1,value:i.L.apply(void 0,[n].concat(a,[e]))}},p=function(e){return{done:!1,value:e}},v=function(e){return c=e},y=function(e){return l=e};return s({q1:function(){return{nextState:"q2",effect:f,stateUpdater:v}},q2:function(){return{nextState:"q3",effect:h,stateUpdater:y}},q3:function(){return l.debounce?{nextState:"q1",effect:d(c)}:{nextState:"q2",effect:p(l.action),stateUpdater:v}}},"q1","debounce("+u(t)+", "+n.name+")")}function v(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return i.L.apply(void 0,[c,e,t].concat(r))}function y(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return i.L.apply(void 0,[l,e,t].concat(r))}function m(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return i.L.apply(void 0,[f,e,t].concat(r))}function g(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return i.L.apply(void 0,[h,e,t,n].concat(a))}function b(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return i.N.apply(void 0,[d,e,t,n].concat(a))}function k(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return i.L.apply(void 0,[p,e,t,n].concat(a))}},7781:function(e,t,n){"use strict";n.d(t,{MT:function(){return c},UY:function(){return l},md:function(){return h},qC:function(){return f}});var r=n(1413);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"===typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(i(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(i(1));return n(c)(e,t)}if("function"!==typeof e)throw new Error(i(2));var o=e,l=t,f=[],h=f,d=!1;function p(){h===f&&(h=f.slice())}function v(){if(d)throw new Error(i(3));return l}function y(e){if("function"!==typeof e)throw new Error(i(4));if(d)throw new Error(i(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(i(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),f=null}}}function m(e){if(!s(e))throw new Error(i(7));if("undefined"===typeof e.type)throw new Error(i(8));if(d)throw new Error(i(9));try{d=!0,l=o(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error(i(10));o=e,m({type:u.REPLACE})}function b(){var e,t=y;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return m({type:u.INIT}),(r={dispatch:m,subscribe:y,getState:v,replaceReducer:g})[a]=b,r}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"===typeof e[a]&&(n[a]=e[a])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:u.INIT}))throw new Error(i(12));if("undefined"===typeof n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(c){o=c}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,a={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){t&&t.type;throw new Error(i(14))}a[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(e).length)?a:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(i(15))},o={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},u=t.map((function(e){return e(o)}));return a=f.apply(void 0,u)(n.dispatch),(0,r.Z)((0,r.Z)({},n),{},{dispatch:a})}}}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,k(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,S=null,I=-1,T=5,Z=-1;function N(){return!(t.unstable_now()-Z<T)}function C(){if(null!==S){var e=t.unstable_now();Z=e;var n=!0;try{n=S(!0,e)}finally{n?E():(_=!1,S=null)}}else _=!1}if("function"===typeof b)E=function(){b(C)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=C,E=function(){A.postMessage(null)}}else E=function(){m(C,0)};function D(e){S=e,_||(_=!0,E())}function R(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9388:function(e,t,n){"use strict";n.d(t,{Jh:function(){return s},ZT:function(){return i},_T:function(){return o},ev:function(){return c},mG:function(){return u},pi:function(){return a}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(s){u=[6,s],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5647:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611),i=n(8814);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&(0,r.Z)(a,n.prototype),a},a.apply(null,arguments)}},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),i=n(8814),a=n(1002),o=n(7326);function u(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function s(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),u=new T(r||[]);return a(o,"_invoke",{value:E(e,n,u)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(Z([])));b&&b!==t&&n.call(b,u)&&(m=b);var k=y.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(a,o,u,s){var c=h(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function Z(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,a(k,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),l(k,c,"Generator"),l(k,u,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=Z,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:Z(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},168:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8664:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),i=n(9611);var a=n(5647);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return(0,a.Z)(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},o(e)}},8055:function(e,t,n){"use strict";var r;function i(e){return!!e&&e<7}n.d(t,{I:function(){return r},O:function(){return i}}),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(r||(r={}))},9484:function(e,t,n){"use strict";n.d(t,{M:function(){return a},c:function(){return o}});var r=n(9388),i=(n(3855),n(5598));function a(e){return e.hasOwnProperty("graphQLErrors")}var o=function(e){function t(n){var r=n.graphQLErrors,a=n.clientErrors,o=n.networkError,u=n.errorMessage,s=n.extraInfo,c=e.call(this,u)||this;return c.name="ApolloError",c.graphQLErrors=r||[],c.clientErrors=a||[],c.networkError=o||null,c.message=u||function(e){var t="";return((0,i.O)(e.graphQLErrors)||(0,i.O)(e.clientErrors))&&(e.graphQLErrors||[]).concat(e.clientErrors||[]).forEach((function(e){var n=e?e.message:"Error message not found.";t+="".concat(n,"\n")})),e.networkError&&(t+="".concat(e.networkError.message,"\n")),t=t.replace(/\n$/,"")}(c),c.extraInfo=s,c.__proto__=t.prototype,c}return(0,r.ZT)(t,e),t}(Error)},9819:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(2791),i=n(1064).aS?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function a(){var e=r.createContext[i];return e||(Object.defineProperty(r.createContext,i,{value:e=r.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}},5046:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(3855),i=n(2791),a=n(9819);function o(e){var t=(0,i.useContext)((0,a.K)()),n=e||t.client;return __DEV__?(0,r.kG)(!!n,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):(0,r.kG)(!!n,31),n}},4376:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});var r=n(9388),i=n(2791),a=n(3124),o=n(5970),u=n(2364),s=n(9484),c=n(5046);function l(e,t){var n=(0,c.x)(null===t||void 0===t?void 0:t.client);(0,u.Vp)(e,u.n_.Mutation);var l=(0,i.useState)({called:!1,loading:!1,client:n}),f=l[0],h=l[1],d=(0,i.useRef)({result:f,mutationId:0,isMounted:!0,client:n,mutation:e,options:t});Object.assign(d.current,{client:n,options:t,mutation:e});var p=(0,i.useCallback)((function(e){void 0===e&&(e={});var t=d.current,n=t.client,i=t.options,u=t.mutation,c=(0,r.pi)((0,r.pi)({},i),{mutation:u});d.current.result.loading||c.ignoreResults||!d.current.isMounted||h(d.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:n});var l=++d.current.mutationId,f=(0,a.J)(c,e);return n.mutate(f).then((function(t){var r,i=t.data,a=t.errors,u=a&&a.length>0?new s.c({graphQLErrors:a}):void 0;if(l===d.current.mutationId&&!f.ignoreResults){var c={called:!0,loading:!1,data:i,error:u,client:n};d.current.isMounted&&!(0,o.D)(d.current.result,c)&&h(d.current.result=c)}var p=e.onCompleted||(null===(r=d.current.options)||void 0===r?void 0:r.onCompleted);return null===p||void 0===p||p(t.data,f),t})).catch((function(t){var r;if(l===d.current.mutationId&&d.current.isMounted){var i={loading:!1,error:t,data:void 0,called:!0,client:n};(0,o.D)(d.current.result,i)||h(d.current.result=i)}var a=e.onError||(null===(r=d.current.options)||void 0===r?void 0:r.onError);if(a)return a(t,f),{data:void 0,errors:t};throw t}))}),[]),v=(0,i.useCallback)((function(){d.current.isMounted&&h({called:!1,loading:!1,client:n})}),[]);return(0,i.useEffect)((function(){return d.current.isMounted=!0,function(){d.current.isMounted=!1}}),[]),[p,(0,r.pi)({reset:v},f)]}},6578:function(e,t,n){"use strict";n.d(t,{a:function(){return x}});var r=n(9388),i=n(3855),a=n(2791),o=n.t(a,2),u=n(1064),s=!1,c=o.useSyncExternalStore||function(e,t,n){var r=t();__DEV__&&!s&&r!==t()&&(s=!0,__DEV__&&i.kG.error("The result of getSnapshot should be cached to avoid an infinite loop"));var o=a.useState({inst:{value:r,getSnapshot:t}}),c=o[0].inst,f=o[1];return u.JC?a.useLayoutEffect((function(){Object.assign(c,{value:r,getSnapshot:t}),l(c)&&f({inst:c})}),[e,r,t]):Object.assign(c,{value:r,getSnapshot:t}),a.useEffect((function(){return l(c)&&f({inst:c}),e((function(){l(c)&&f({inst:c})}))}),[e]),r};function l(e){var t=e.value,n=e.getSnapshot;try{return t!==n()}catch(r){return!0}}var f=n(5970),h=n(3124),d=n(9819),p=n(9484),v=n(8055),y=n(2364),m=n(5046),g=n(616),b=n(3200),k=n(5598),w=Object.prototype.hasOwnProperty;function x(e,t){return void 0===t&&(t=Object.create(null)),function(e,t){var n=(0,a.useRef)();n.current&&e===n.current.client&&t===n.current.query||(n.current=new E(e,t,n.current));var r=n.current,i=(0,a.useState)(0),o=(i[0],i[1]);return r.forceUpdate=function(){o((function(e){return e+1}))},r}((0,m.x)(t.client),e).useQuery(t)}var E=function(){function e(e,t,n){this.client=e,this.query=t,this.asyncResolveFns=new Set,this.optionsToIgnoreOnce=new(u.sy?WeakSet:Set),this.ssrDisabledResult=(0,g.J)({loading:!0,data:void 0,error:void 0,networkStatus:v.I.loading}),this.skipStandbyResult=(0,g.J)({loading:!1,data:void 0,error:void 0,networkStatus:v.I.ready}),this.toQueryResultCache=new(u.mr?WeakMap:Map),(0,y.Vp)(t,y.n_.Query);var r=n&&n.result,i=r&&r.data;i&&(this.previousData=i)}return e.prototype.forceUpdate=function(){__DEV__&&i.kG.warn("Calling default no-op implementation of InternalState#forceUpdate")},e.prototype.asyncUpdate=function(e){var t=this;return new Promise((function(n,r){var i=t.watchQueryOptions;t.asyncResolveFns.add(n),t.optionsToIgnoreOnce.add(i),e.addEventListener("abort",(function a(){t.asyncResolveFns.delete(n),t.optionsToIgnoreOnce.delete(i),e.removeEventListener("abort",a),r(e.reason)})),t.forceUpdate()}))},e.prototype.useQuery=function(e){var t=this;this.renderPromises=(0,a.useContext)((0,d.K)()).renderPromises,this.useOptions(e);var n=this.useObservableQuery(),r=c((0,a.useCallback)((function(){if(t.renderPromises)return function(){};var e=function(){var e=t.result,r=n.getCurrentResult();e&&e.loading===r.loading&&e.networkStatus===r.networkStatus&&(0,f.D)(e.data,r.data)||t.setResult(r)},r=n.subscribe(e,(function i(a){var o=n.last;r.unsubscribe();try{n.resetLastResults(),r=n.subscribe(e,i)}finally{n.last=o}if(!w.call(a,"graphQLErrors"))throw a;var u=t.result;(!u||u&&u.loading||!(0,f.D)(a,u.error))&&t.setResult({data:u&&u.data,error:a,loading:!1,networkStatus:v.I.error})}));return function(){return r.unsubscribe()}}),[n,this.renderPromises,this.client.disableNetworkFetches]),(function(){return t.getCurrentResult()}),(function(){return t.getCurrentResult()}));this.unsafeHandlePartialRefetch(r);var i=this.toQueryResult(r);return!i.loading&&this.asyncResolveFns.size&&(this.asyncResolveFns.forEach((function(e){return e(i)})),this.asyncResolveFns.clear()),i},e.prototype.useOptions=function(t){var n,r=this.createWatchQueryOptions(this.queryHookOptions=t),i=this.watchQueryOptions;!this.optionsToIgnoreOnce.has(i)&&(0,f.D)(r,i)||(this.watchQueryOptions=r,i&&this.observable&&(this.optionsToIgnoreOnce.delete(i),this.observable.reobserve(this.getObsQueryOptions()),this.previousData=(null===(n=this.result)||void 0===n?void 0:n.data)||this.previousData,this.result=void 0)),this.onCompleted=t.onCompleted||e.prototype.onCompleted,this.onError=t.onError||e.prototype.onError,!this.renderPromises&&!this.client.disableNetworkFetches||!1!==this.queryHookOptions.ssr||this.queryHookOptions.skip?this.queryHookOptions.skip||"standby"===this.watchQueryOptions.fetchPolicy?this.result=this.skipStandbyResult:this.result!==this.ssrDisabledResult&&this.result!==this.skipStandbyResult||(this.result=void 0):this.result=this.ssrDisabledResult},e.prototype.getObsQueryOptions=function(){var e=[],t=this.client.defaultOptions.watchQuery;return t&&e.push(t),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push((0,b.o)(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(h.J)},e.prototype.createWatchQueryOptions=function(e){var t;void 0===e&&(e={});var n=e.skip,i=(e.ssr,e.onCompleted,e.onError,e.defaultOptions,(0,r._T)(e,["skip","ssr","onCompleted","onError","defaultOptions"])),a=Object.assign(i,{query:this.query});if(!this.renderPromises||"network-only"!==a.fetchPolicy&&"cache-and-network"!==a.fetchPolicy||(a.fetchPolicy="cache-first"),a.variables||(a.variables={}),n){var o=a.fetchPolicy,u=void 0===o?this.getDefaultFetchPolicy():o,s=a.initialFetchPolicy,c=void 0===s?u:s;Object.assign(a,{initialFetchPolicy:c,fetchPolicy:"standby"})}else a.fetchPolicy||(a.fetchPolicy=(null===(t=this.observable)||void 0===t?void 0:t.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return a},e.prototype.getDefaultFetchPolicy=function(){var e,t;return(null===(e=this.queryHookOptions.defaultOptions)||void 0===e?void 0:e.fetchPolicy)||(null===(t=this.client.defaultOptions.watchQuery)||void 0===t?void 0:t.fetchPolicy)||"cache-first"},e.prototype.onCompleted=function(e){},e.prototype.onError=function(e){},e.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=(0,a.useMemo)((function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}}),[e]);var t=!(!1===this.queryHookOptions.ssr||this.queryHookOptions.skip);return this.renderPromises&&t&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},e.prototype.setResult=function(e){var t=this.result;t&&t.data&&(this.previousData=t.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},e.prototype.handleErrorOrCompleted=function(e){var t=this;if(!e.loading){var n=this.toApolloError(e);Promise.resolve().then((function(){n?t.onError(n):e.data&&t.onCompleted(e.data)})).catch((function(e){__DEV__&&i.kG.warn(e)}))}},e.prototype.toApolloError=function(e){return(0,k.O)(e.errors)?new p.c({graphQLErrors:e.errors}):e.error},e.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},e.prototype.toQueryResult=function(e){var t=this.toQueryResultCache.get(e);if(t)return t;var n=e.data,i=(e.partial,(0,r._T)(e,["data","partial"]));return this.toQueryResultCache.set(e,t=(0,r.pi)((0,r.pi)((0,r.pi)({data:n},i),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!t.error&&(0,k.O)(e.errors)&&(t.error=new p.c({graphQLErrors:e.errors})),t},e.prototype.unsafeHandlePartialRefetch=function(e){!e.partial||!this.queryHookOptions.partialRefetch||e.loading||e.data&&0!==Object.keys(e.data).length||"cache-only"===this.observable.options.fetchPolicy||(Object.assign(e,{loading:!0,networkStatus:v.I.refetch}),this.observable.refetch())},e}()},2364:function(e,t,n){"use strict";n.d(t,{Vp:function(){return u},n_:function(){return r}});var r,i=n(3855);!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(r||(r={}));var a=new Map;function o(e){var t;switch(e){case r.Query:t="Query";break;case r.Mutation:t="Mutation";break;case r.Subscription:t="Subscription"}return t}function u(e,t){var n=function(e){var t,n,o=a.get(e);if(o)return o;__DEV__?(0,i.kG)(!!e&&!!e.kind,"Argument of ".concat(e," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):(0,i.kG)(!!e&&!!e.kind,32);for(var u=[],s=[],c=[],l=[],f=0,h=e.definitions;f<h.length;f++){var d=h[f];if("FragmentDefinition"!==d.kind){if("OperationDefinition"===d.kind)switch(d.operation){case"query":s.push(d);break;case"mutation":c.push(d);break;case"subscription":l.push(d)}}else u.push(d)}__DEV__?(0,i.kG)(!u.length||s.length||c.length||l.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):(0,i.kG)(!u.length||s.length||c.length||l.length,33),__DEV__?(0,i.kG)(s.length+c.length+l.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(e," had ").concat(s.length," queries, ").concat(l.length," ")+"subscriptions and ".concat(c.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):(0,i.kG)(s.length+c.length+l.length<=1,34),n=s.length?r.Query:r.Mutation,s.length||c.length||(n=r.Subscription);var p=s.length?s:c.length?c:l;__DEV__?(0,i.kG)(1===p.length,"react-apollo only supports one definition per HOC. ".concat(e," had ")+"".concat(p.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):(0,i.kG)(1===p.length,35);var v=p[0];t=v.variableDefinitions||[];var y={name:v.name&&"Name"===v.name.kind?v.name.value:"data",type:n,variables:t};return a.set(e,y),y}(e),u=o(t),s=o(n.type);__DEV__?(0,i.kG)(n.type===t,"Running a ".concat(u," requires a graphql ")+"".concat(u,", but a ").concat(s," was used instead.")):(0,i.kG)(n.type===t,36)}},5598:function(e,t,n){"use strict";function r(e){return Array.isArray(e)&&e.length>0}n.d(t,{O:function(){return r}})},1064:function(e,t,n){"use strict";n.d(t,{DN:function(){return u},JC:function(){return l},aS:function(){return o},mr:function(){return i},sy:function(){return a}});var r=n(3855),i="function"===typeof WeakMap&&"ReactNative"!==(0,r.wY)((function(){return navigator.product})),a="function"===typeof WeakSet,o="function"===typeof Symbol&&"function"===typeof Symbol.for,u=o&&Symbol.asyncIterator,s="function"===typeof(0,r.wY)((function(){return window.document.createElement})),c=(0,r.wY)((function(){return navigator.userAgent.indexOf("jsdom")>=0}))||!1,l=s&&!c},3200:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}n.d(t,{o:function(){return r}})},616:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});n(3855);var r=n(2127);function i(e){var t=new Set([e]);return t.forEach((function(e){(0,r.s)(e)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(n){(0,r.s)(e[n])&&t.add(e[n])}))})),e}function a(e){return __DEV__&&i(e),e}},3124:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var r=n(9388),i=n(3200);function a(e,t){return(0,i.o)(e,t,t.variables&&{variables:(0,r.pi)((0,r.pi)({},e&&e.variables),t.variables)})}},2127:function(e,t,n){"use strict";function r(e){return null!==e&&"object"===typeof e}n.d(t,{s:function(){return r}})},3855:function(e,t,n){"use strict";n.d(t,{ej:function(){return u},kG:function(){return s},wY:function(){return h}});var r=n(9388),i="Invariant Violation",a=Object.setPrototypeOf,o=void 0===a?function(e,t){return e.__proto__=t,e}:a,u=function(e){function t(n){void 0===n&&(n=i);var r=e.call(this,"number"===typeof n?i+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=i,o(r,t.prototype),r}return(0,r.ZT)(t,e),t}(Error);function s(e,t){if(!e)throw new u(t)}var c=["debug","log","warn","error","silent"],l=c.indexOf("log");function f(e){return function(){if(c.indexOf(e)>=l){var t=console[e]||console.log;return t.apply(console,arguments)}}}!function(e){e.debug=f("debug"),e.log=f("log"),e.warn=f("warn"),e.error=f("error")}(s||(s={}));function h(e){try{return e()}catch(a){}}var d=h((function(){return globalThis}))||h((function(){return window}))||h((function(){return self}))||h((function(){return global}))||h((function(){return h.constructor("return this")()})),p="__",v=[p,p].join("DEV");var y=function(){try{return Boolean(__DEV__)}catch(a){return Object.defineProperty(d,v,{value:"production"!==h((function(){return"production"})),enumerable:!1,configurable:!0,writable:!0}),d[v]}}();function m(e){try{return e()}catch(t){}}var g=m((function(){return globalThis}))||m((function(){return window}))||m((function(){return self}))||m((function(){return global}))||m((function(){return m.constructor("return this")()})),b=!1;function k(){b&&(delete g.process,b=!1)}!g||m((function(){return"production"}))||m((function(){return process}))||(Object.defineProperty(g,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),b=!0),n(5551).H,k(),__DEV__?s("boolean"===typeof y,y):s("boolean"===typeof y,38)},2388:function(e,t,n){"use strict";function r(e,t){return function(){return e.apply(t,arguments)}}n.d(t,{Z:function(){return Ve}});var i,a=Object.prototype.toString,o=Object.getPrototypeOf,u=(i=Object.create(null),function(e){var t=a.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())}),s=function(e){return e=e.toLowerCase(),function(t){return u(t)===e}},c=function(e){return function(t){return typeof t===e}},l=Array.isArray,f=c("undefined");var h=s("ArrayBuffer");var d=c("string"),p=c("function"),v=c("number"),y=function(e){return null!==e&&"object"===typeof e},m=function(e){if("object"!==u(e))return!1;var t=o(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},g=s("Date"),b=s("File"),k=s("Blob"),w=s("FileList"),x=s("URLSearchParams");function E(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var u,s=o?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)u=s[n],t.call(null,e[u],u,e)}}function _(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var S="undefined"===typeof self?"undefined"===typeof global?void 0:global:self,I=function(e){return!f(e)&&e!==S};var T,Z=(T="undefined"!==typeof Uint8Array&&o(Uint8Array),function(e){return T&&e instanceof T}),N=s("HTMLFormElement"),C=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),O=s("RegExp"),A=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};E(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},D={isArray:l,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&p(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||p(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer)},isString:d,isNumber:v,isBoolean:function(e){return!0===e||!1===e},isObject:y,isPlainObject:m,isUndefined:f,isDate:g,isFile:b,isBlob:k,isRegExp:O,isFunction:p,isStream:function(e){return y(e)&&p(e.pipe)},isURLSearchParams:x,isTypedArray:Z,isFileList:w,forEach:E,merge:function e(){for(var t=I(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&_(r,i)||i;m(r[a])&&m(t)?r[a]=e(r[a],t):m(t)?r[a]=e({},t):l(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&E(arguments[a],i);return r},extend:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.allOwnKeys;return E(t,(function(t,i){n&&p(t)?e[i]=r(t,n):e[i]=t}),{allOwnKeys:a}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,u,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)u=i[a],r&&!r(u,e,t)||s[u]||(t[u]=e[u],s[u]=!0);e=!1!==n&&o(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:u,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(l(e))return e;var t=e.length;if(!v(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:N,hasOwnProperty:C,hasOwnProp:C,reduceDescriptors:A,freezeMethods:function(e){A(e,(function(t,n){if(p(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];p(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return l(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:_,global:S,isContextDefined:I,toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(y(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=l(n)?[]:{};return E(n,(function(t,n){var a=e(t,r+1);!f(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}},R=n(5671),P=n(3144);function L(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}D.inherits(L,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var M=L.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){F[e]={value:e}})),Object.defineProperties(L,F),Object.defineProperty(M,"isAxiosError",{value:!0}),L.from=function(e,t,n,r,i,a){var o=Object.create(M);return D.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),L.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var j=L,U=n(7472);function V(e){return D.isPlainObject(e)||D.isArray(e)}function q(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function B(e,t,n){return e?e.concat(t).map((function(e,t){return e=q(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var z=D.toFlatObject(D,{},null,(function(e){return/^is[A-Z]/.test(e)}));var G=function(e,t,n){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new(U||FormData);var r,i=(n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!D.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,o=n.dots,u=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&D.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!D.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(D.isDate(e))return e.toISOString();if(!s&&D.isBlob(e))throw new j("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(e)||D.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(D.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(D.isArray(e)&&function(e){return D.isArray(e)&&!e.some(V)}(e)||D.isFileList(e)||D.endsWith(n,"[]")&&(a=D.toArray(e)))return n=q(n),a.forEach((function(e,r){!D.isUndefined(e)&&null!==e&&t.append(!0===u?B([n],r,o):null===u?n:n+"[]",c(e))})),!1;return!!V(e)||(t.append(B(r,n,o),c(e)),!1)}var f=[],h=Object.assign(z,{defaultVisitor:l,convertValue:c,isVisitable:V});if(!D.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!D.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),D.forEach(n,(function(n,i){!0===(!(D.isUndefined(n)||null===n)&&a.call(t,n,D.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])})),f.pop()}}(e),t};function Q(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function K(e,t){this._pairs=[],e&&G(e,this,t)}var W=K.prototype;W.append=function(e,t){this._pairs.push([e,t])},W.toString=function(e){var t=e?function(t){return e.call(this,t,Q)}:Q;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var H=K;function Y(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $(e,t,n){if(!t)return e;var r,i=n&&n.encode||Y,a=n&&n.serialize;if(r=a?a(t,n):D.isURLSearchParams(t)?t.toString():new H(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var J=function(){function e(){(0,R.Z)(this,e),this.handlers=[]}return(0,P.Z)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){D.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),X={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ee="undefined"!==typeof URLSearchParams?URLSearchParams:H,te=FormData,ne=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),re="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ie={isBrowser:!0,classes:{URLSearchParams:ee,FormData:te,Blob:Blob},isStandardBrowserEnv:ne,isStandardBrowserWebWorkerEnv:re,protocols:["http","https","file","blob","url","data"]};var ae=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&D.isArray(r)?r.length:a,u?(D.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&D.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&D.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(D.isFormData(e)&&D.isFunction(e.entries)){var n={};return D.forEachEntry(e,(function(e,r){t(function(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},oe={"Content-Type":void 0};var ue={transitional:X,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=D.isObject(e);if(a&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return i&&i?JSON.stringify(ae(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return G(e,new ie.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ie.isNode&&D.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=D.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return G(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||ue.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&D.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw j.from(a,j.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ie.classes.FormData,Blob:ie.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};D.forEach(["delete","get","head"],(function(e){ue.headers[e]={}})),D.forEach(["post","put","patch"],(function(e){ue.headers[e]=D.merge(oe)}));var se=ue,ce=n(9439),le=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fe=Symbol("internals");function he(e){return e&&String(e).trim().toLowerCase()}function de(e){return!1===e||null==e?e:D.isArray(e)?e.map(de):String(e)}function pe(e,t,n,r){return D.isFunction(r)?r.call(this,t,n):D.isString(t)?D.isString(r)?-1!==t.indexOf(r):D.isRegExp(r)?r.test(t):void 0:void 0}var ve=function(e,t){function n(e){(0,R.Z)(this,n),e&&this.set(e)}return(0,P.Z)(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=he(t);if(!i)throw new Error("header name must be a non-empty string");var a=D.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=de(e))}var a=function(e,t){return D.forEach(e,(function(e,n){return i(e,n,t)}))};return D.isPlainObject(e)||e instanceof this.constructor?a(e,t):D.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&le[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=he(e)){var n=D.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(D.isFunction(t))return t.call(this,r,n);if(D.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=he(e)){var n=D.findKey(this,e);return!(!n||t&&!pe(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=he(e)){var i=D.findKey(n,e);!i||t&&!pe(0,n[i],i,t)||(delete n[i],r=!0)}}return D.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return D.forEach(this,(function(r,i){var a=D.findKey(n,i);if(a)return t[a]=de(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=de(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return D.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&D.isArray(n)?n.join(", "):n)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,ce.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[fe]=this[fe]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=he(e);t[r]||(!function(e,t){var n=D.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return D.isArray(e)?e.forEach(r):r(e),this}}]),n}(Symbol.iterator,Symbol.toStringTag);ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),D.freezeMethods(ve.prototype),D.freezeMethods(ve);var ye=ve;function me(e,t){var n=this||se,r=t||n,i=ye.from(r.headers),a=r.data;return D.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function ge(e){return!(!e||!e.__CANCEL__)}function be(e,t,n){j.call(this,null==e?"canceled":e,j.ERR_CANCELED,t,n),this.name="CanceledError"}D.inherits(be,j,{__CANCEL__:!0});var ke=be;var we=ie.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),D.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),D.isString(r)&&o.push("path="+r),D.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function xe(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ee=ie.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=D.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var _e=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function Se(e,t){var n=0,r=_e(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var Ie={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=ye.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}D.isFormData(i)&&(ie.isStandardBrowserEnv||ie.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=xe(e.baseURL,e.url);function h(){if(s){var r=ye.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new j("Request failed with status code "+n.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),$(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new j("Request aborted",j.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new j("Network Error",j.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||X;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new j(t,r.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,e,s)),s=null},ie.isStandardBrowserEnv){var d=(e.withCredentials||Ee(f))&&e.xsrfCookieName&&we.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&D.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),D.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",Se(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",Se(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new ke(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===ie.protocols.indexOf(p)?n(new j("Unsupported protocol "+p+":",j.ERR_BAD_REQUEST,e)):s.send(i||null)}))}};D.forEach(Ie,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Te=function(e){for(var t,n,r=(e=D.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=D.isString(t)?Ie[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new j("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(D.hasOwnProp(Ie,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!D.isFunction(n))throw new TypeError("adapter is not a function");return n};function Ze(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ke(null,e)}function Ne(e){return Ze(e),e.headers=ye.from(e.headers),e.data=me.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Te(e.adapter||se.adapter)(e).then((function(t){return Ze(e),t.data=me.call(e,e.transformResponse,t),t.headers=ye.from(t.headers),t}),(function(t){return ge(t)||(Ze(e),t&&t.response&&(t.response.data=me.call(e,e.transformResponse,t.response),t.response.headers=ye.from(t.response.headers))),Promise.reject(t)}))}var Ce=function(e){return e instanceof ye?e.toJSON():e};function Oe(e,t){t=t||{};var n={};function r(e,t,n){return D.isPlainObject(e)&&D.isPlainObject(t)?D.merge.call({caseless:n},e,t):D.isPlainObject(t)?D.merge({},t):D.isArray(t)?t.slice():t}function i(e,t,n){return D.isUndefined(t)?D.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!D.isUndefined(t))return r(void 0,t)}function o(e,t){return D.isUndefined(t)?D.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(Ce(e),Ce(t),!0)}};return D.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);D.isUndefined(o)&&a!==u||(n[r]=o)})),n}var Ae="1.2.1",De={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){De[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Re={};De.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.1] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new j(r(i," has been removed"+(t?" in "+t:"")),j.ERR_DEPRECATED);return t&&!Re[i]&&(Re[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Pe={assertOptions:function(e,t,n){if("object"!==typeof e)throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new j("option "+a+" must be "+s,j.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new j("Unknown option "+a,j.ERR_BAD_OPTION)}},validators:De},Le=Pe.validators,Me=function(){function e(t){(0,R.Z)(this,e),this.defaults=t,this.interceptors={request:new J,response:new J}}return(0,P.Z)(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Oe(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&Pe.assertOptions(i,{silentJSONParsing:Le.transitional(Le.boolean),forcedJSONParsing:Le.transitional(Le.boolean),clarifyTimeoutError:Le.transitional(Le.boolean)},!1),void 0!==a&&Pe.assertOptions(a,{encode:Le.function,serialize:Le.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&D.merge(o.common,o[t.method]))&&D.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=ye.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[Ne.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],y=u[h++];try{p=v(p)}catch(m){y.call(this,m);break}}try{c=Ne.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return $(xe((e=Oe(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();D.forEach(["delete","get","head","options"],(function(e){Me.prototype[e]=function(t,n){return this.request(Oe(n||{},{method:e,url:t,data:(n||{}).data}))}})),D.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Oe(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Me.prototype[e]=t(),Me.prototype[e+"Form"]=t(!0)}));var Fe=Me,je=function(){function e(t){if((0,R.Z)(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new ke(e,t,i),n(r.reason))}))}return(0,P.Z)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}();var Ue=function e(t){var n=new Fe(t),i=r(Fe.prototype.request,n);return D.extend(i,Fe.prototype,n,{allOwnKeys:!0}),D.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(Oe(t,n))},i}(se);Ue.Axios=Fe,Ue.CanceledError=ke,Ue.CancelToken=je,Ue.isCancel=ge,Ue.VERSION=Ae,Ue.toFormData=G,Ue.AxiosError=j,Ue.Cancel=Ue.CanceledError,Ue.all=function(e){return Promise.all(e)},Ue.spread=function(e){return function(t){return e.apply(null,t)}},Ue.isAxiosError=function(e){return D.isObject(e)&&!0===e.isAxiosError},Ue.mergeConfig=Oe,Ue.AxiosHeaders=ye,Ue.formToJSON=function(e){return ae(D.isHTMLForm(e)?new FormData(e):e)},Ue.default=Ue;var Ve=Ue},3943:function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(t)}n.d(t,{a:function(){return r}})},7173:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(9439),i=n(3433);function a(e){return o(e,[])}function o(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";var n=[].concat((0,i.Z)(t),[e]);if(function(e){return"function"===typeof e.toJSON}(e)){var a=e.toJSON();if(a!==e)return"string"===typeof a?a:o(a,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],a=0;a<n;++a)i.push(o(e[a],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){var n=e.constructor.name;if("string"===typeof n&&""!==n)return n}return t}(e)+"]";var i=n.map((function(e){var n=(0,r.Z)(e,2);return n[0]+": "+o(n[1],t)}));return"{ "+i.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},365:function(e,t,n){"use strict";n.d(t,{UG:function(){return l},WU:function(){return u},Ye:function(){return o},h8:function(){return s},ku:function(){return r}});var r,i=n(5671),a=n(3144),o=function(e){function t(e,n,r){(0,i.Z)(this,t),this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}return(0,a.Z)(t,[{key:e,get:function(){return"Location"}},{key:"toJSON",value:function(){return{start:this.start,end:this.end}}}]),t}(Symbol.toStringTag),u=function(e){function t(e,n,r,a,o,u){(0,i.Z)(this,t),this.kind=e,this.start=n,this.end=r,this.line=a,this.column=o,this.value=u,this.prev=null,this.next=null}return(0,a.Z)(t,[{key:e,get:function(){return"Token"}},{key:"toJSON",value:function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}]),t}(Symbol.toStringTag),s={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},c=new Set(Object.keys(s));function l(e){var t=null===e||void 0===e?void 0:e.kind;return"string"===typeof t&&c.has(t)}!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(r||(r={}))},7810:function(e,t,n){"use strict";n.d(t,{LZ:function(){return o},wv:function(){return i}});var r=n(610);function i(e){for(var t,n=Number.MAX_SAFE_INTEGER,r=null,i=-1,o=0;o<e.length;++o){var u,s=e[o],c=a(s);c!==s.length&&(r=null!==(u=r)&&void 0!==u?u:o,i=o,0!==o&&c<n&&(n=c))}return e.map((function(e,t){return 0===t?e:e.slice(n)})).slice(null!==(t=r)&&void 0!==t?t:0,i+1)}function a(e){for(var t=0;t<e.length&&(0,r.FD)(e.charCodeAt(t));)++t;return t}function o(e,t){var n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),a=1===i.length,o=i.length>1&&i.slice(1).every((function(e){return 0===e.length||(0,r.FD)(e.charCodeAt(0))})),u=n.endsWith('\\"""'),s=e.endsWith('"')&&!u,c=e.endsWith("\\"),l=s||c,f=!(null!==t&&void 0!==t&&t.minimize)&&(!a||e.length>70||l||o||u),h="",d=a&&(0,r.FD)(e.charCodeAt(0));return(f&&!d||o)&&(h+="\n"),h+=n,(f||l)&&(h+="\n"),'"""'+h+'"""'}},610:function(e,t,n){"use strict";function r(e){return 9===e||32===e}function i(e){return e>=48&&e<=57}function a(e){return e>=97&&e<=122||e>=65&&e<=90}function o(e){return a(e)||95===e}function u(e){return a(e)||i(e)||95===e}n.d(t,{FD:function(){return r},HQ:function(){return u},LQ:function(){return o},X1:function(){return i}})},3208:function(e,t,n){"use strict";var r;n.d(t,{h:function(){return r}}),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(r||(r={}))},5551:function(e,t,n){"use strict";n.d(t,{H:function(){return s},T:function(){return c}});var r=n(5671),i=n(3144),a=n(3943),o=n(7173),u=function(e,t){return e instanceof t},s=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};(0,r.Z)(this,t),"string"===typeof e||(0,a.a)(!1,"Body must be a string. Received: ".concat((0,o.X)(e),".")),this.body=e,this.name=n,this.locationOffset=i,this.locationOffset.line>0||(0,a.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,a.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}return(0,i.Z)(t,[{key:e,get:function(){return"Source"}}]),t}(Symbol.toStringTag);function c(e){return u(e,s)}},9348:function(e,t,n){"use strict";n.d(t,{YD:function(){return b}});var r=n(9439),i=n(5671),a=n(3144),o=n(136),u=n(7277),s=n(2791);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=new Map,f=new WeakMap,h=0,d=void 0;function p(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"_").concat("root"===t?(n=e.root)?(f.has(n)||(h+=1,f.set(n,h.toString())),f.get(n)):"0":e[t]);var n})).toString()}function v(e){var t=p(e),n=l.get(t);if(!n){var r,i=new Map,a=new IntersectionObserver((function(t){t.forEach((function(t){var n,a=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=a),null==(n=i.get(t.target))||n.forEach((function(e){e(a,t)}))}))}),e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:i},l.set(t,n)}return n}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var a=v(n),o=a.id,u=a.observer,s=a.elements,c=s.get(e)||[];return s.has(e)||s.set(e,c),c.push(t),u.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(s.delete(e),u.unobserve(e)),0===s.size&&(u.disconnect(),l.delete(o))}}var m=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function g(e){return"function"!==typeof e.children}s.Component;function b(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.threshold,i=t.delay,a=t.trackVisibility,o=t.rootMargin,u=t.root,c=t.triggerOnce,l=t.skip,f=t.initialInView,h=t.fallbackInView,d=t.onChange,p=s.useState(null),v=(0,r.Z)(p,2),m=v[0],g=v[1],b=s.useRef(),k=s.useState({inView:!!f,entry:void 0}),w=(0,r.Z)(k,2),x=w[0],E=w[1];b.current=d,s.useEffect((function(){var e;if(!l&&m)return e=y(m,(function(t,n){E({inView:t,entry:n}),b.current&&b.current(t,n),n.isIntersecting&&c&&e&&(e(),e=void 0)}),{root:u,rootMargin:o,threshold:n,trackVisibility:a,delay:i},h),function(){e&&e()}}),[Array.isArray(n)?n.toString():n,m,u,o,c,l,a,h,i]);var _=null==(e=x.entry)?void 0:e.target;s.useEffect((function(){m||!_||c||l||E({inView:!!f,entry:void 0})}),[m,_,c,l,f]);var S=[g,x.inView,x.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{324:"8d98d3c9",374:"c2b4b761",705:"65545c7b",931:"915b9720"}[e]+".chunk.js"},n.miniCssF=function(e){return"static/css/"+e+"."+{324:"9f260d3a",374:"039cde94",931:"039cde94"}[e]+".chunk.css"},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="client:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/messager.github.io/",function(){if("undefined"!==typeof document){var e=function(e){return new Promise((function(t,r){var i=n.miniCssF(e),a=n.p+i;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(o=n[r]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){var o;if((i=(o=a[r]).getAttribute("data-href"))===e||i===t)return o}}(i,a))return t();!function(e,t,n,r,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=function(n){if(a.onerror=a.onload=null,"load"===n.type)r();else{var o=n&&("load"===n.type?"missing":n.type),u=n&&n.target&&n.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=o,s.request=u,a.parentNode.removeChild(a),i(s)}},a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a)}(e,a,null,t,r)}))},t={179:0};n.f.miniCss=function(n,r){t[n]?r.push(t[n]):0!==t[n]&&{324:1,374:1,931:1}[n]&&r.push(t[n]=e(n).then((function(){t[n]=0}),(function(e){throw delete t[n],e})))}}}(),function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{AbstractUserDataWriter:function(){return wg},AggregateField:function(){return Iy},AggregateQuerySnapshot:function(){return Ty},Bytes:function(){return vm},CACHE_SIZE_UNLIMITED:function(){return Jy},CollectionReference:function(){return my},DocumentReference:function(){return vy},DocumentSnapshot:function(){return Sg},FieldPath:function(){return ym},FieldValue:function(){return gm},Firestore:function(){return Xy},FirestoreError:function(){return io},GeoPoint:function(){return bm},LoadBundleTask:function(){return $y},Query:function(){return yy},QueryCompositeFilterConstraint:function(){return tg},QueryConstraint:function(){return $m},QueryDocumentSnapshot:function(){return Ig},QueryEndAtConstraint:function(){return hg},QueryFieldFilterConstraint:function(){return Xm},QueryLimitConstraint:function(){return og},QueryOrderByConstraint:function(){return ig},QuerySnapshot:function(){return Tg},QueryStartAtConstraint:function(){return cg},SnapshotMetadata:function(){return _g},Timestamp:function(){return wo},Transaction:function(){return Yg},WriteBatch:function(){return Wg},_DatabaseId:function(){return ru},_DocumentKey:function(){return To},_EmptyAppCheckTokenProvider:function(){return vo},_EmptyAuthCredentialsProvider:function(){return uo},_FieldPath:function(){return Io},_cast:function(){return cy},_debugAssert:function(){return to},_isBase64Available:function(){return lu},_logWarn:function(){return $a},_validateIsNotUsedTogether:function(){return ay},addDoc:function(){return Ug},aggregateQuerySnapshotEqual:function(){return Gg},and:function(){return rg},arrayRemove:function(){return tb},arrayUnion:function(){return eb},clearIndexedDbPersistence:function(){return um},collection:function(){return gy},collectionGroup:function(){return by},connectFirestoreEmulator:function(){return py},deleteDoc:function(){return jg},deleteField:function(){return Jg},disableNetwork:function(){return lm},doc:function(){return ky},documentId:function(){return mm},enableIndexedDbPersistence:function(){return im},enableMultiTabIndexedDbPersistence:function(){return am},enableNetwork:function(){return cm},endAt:function(){return pg},endBefore:function(){return dg},ensureFirestoreConfigured:function(){return nm},executeWrite:function(){return Bg},getCountFromServer:function(){return Qg},getDoc:function(){return Cg},getDocFromCache:function(){return Ag},getDocFromServer:function(){return Dg},getDocs:function(){return Rg},getDocsFromCache:function(){return Pg},getDocsFromServer:function(){return Lg},getFirestore:function(){return tm},increment:function(){return nb},initializeFirestore:function(){return em},limit:function(){return ug},limitToLast:function(){return sg},loadBundle:function(){return hm},namedQuery:function(){return dm},onSnapshot:function(){return Vg},onSnapshotsInSync:function(){return qg},or:function(){return ng},orderBy:function(){return ag},query:function(){return Jm},queryEqual:function(){return xy},refEqual:function(){return wy},runTransaction:function(){return $g},serverTimestamp:function(){return Xg},setDoc:function(){return Mg},setIndexConfiguration:function(){return ib},setLogLevel:function(){return Wa},snapshotEqual:function(){return Ng},startAfter:function(){return fg},startAt:function(){return lg},terminate:function(){return fm},updateDoc:function(){return Fg},waitForPendingWrites:function(){return sm},where:function(){return eg},writeBatch:function(){return rb}});var t={};n.r(t),n.d(t,{ActionCodeOperation:function(){return hb},ActionCodeURL:function(){return Zw},AuthCredential:function(){return Wk},AuthErrorCodes:function(){return mb},EmailAuthCredential:function(){return mw},EmailAuthProvider:function(){return Cw},FacebookAuthProvider:function(){return Rw},FactorId:function(){return sb},GithubAuthProvider:function(){return Lw},GoogleAuthProvider:function(){return Pw},OAuthCredential:function(){return kw},OAuthProvider:function(){return Dw},OperationType:function(){return fb},PhoneAuthCredential:function(){return Tw},PhoneAuthProvider:function(){return S_},PhoneMultiFactorGenerator:function(){return US},ProviderId:function(){return cb},RecaptchaVerifier:function(){return h_},SAMLAuthProvider:function(){return Fw},SignInMethod:function(){return lb},TwitterAuthProvider:function(){return jw},applyActionCode:function(){return xx},beforeAuthStateChanged:function(){return uE},browserLocalPersistence:function(){return _E},browserPopupRedirectResolver:function(){return FS},browserSessionPersistence:function(){return IE},checkActionCode:function(){return _x},confirmPasswordReset:function(){return kx},connectAuthEmulator:function(){return Gk},createUserWithEmailAndPassword:function(){return Zx},debugErrorMap:function(){return pb},deleteUser:function(){return hE},fetchSignInMethodsForEmail:function(){return Fx},getAdditionalUserInfo:function(){return iE},getAuth:function(){return WS},getIdToken:function(){return rk},getIdTokenResult:function(){return ik},getMultiFactorResolver:function(){return yE},getRedirectResult:function(){return nS},inMemoryPersistence:function(){return Sk},indexedDBLocalPersistence:function(){return HE},initializeAuth:function(){return Cb},isSignInWithEmailLink:function(){return Dx},linkWithCredential:function(){return ux},linkWithPhoneNumber:function(){return m_},linkWithPopup:function(){return F_},linkWithRedirect:function(){return eS},multiFactor:function(){return kE},onAuthStateChanged:function(){return sE},onIdTokenChanged:function(){return oE},parseActionCodeURL:function(){return Nw},prodErrorMap:function(){return vb},reauthenticateWithCredential:function(){return cx},reauthenticateWithPhoneNumber:function(){return b_},reauthenticateWithPopup:function(){return L_},reauthenticateWithRedirect:function(){return J_},reload:function(){return vk},sendEmailVerification:function(){return Ux},sendPasswordResetEmail:function(){return gx},sendSignInLinkToEmail:function(){return Ox},setPersistence:function(){return aE},signInAnonymously:function(){return zw},signInWithCredential:function(){return ax},signInWithCustomToken:function(){return dx},signInWithEmailAndPassword:function(){return Cx},signInWithEmailLink:function(){return Rx},signInWithPhoneNumber:function(){return v_},signInWithPopup:function(){return R_},signInWithRedirect:function(){return Y_},signOut:function(){return fE},unlink:function(){return Hw},updateCurrentUser:function(){return lE},updateEmail:function(){return Wx},updatePassword:function(){return Hx},updatePhoneNumber:function(){return E_},updateProfile:function(){return Qx},useDeviceLanguage:function(){return cE},verifyBeforeUpdateEmail:function(){return qx},verifyPasswordResetCode:function(){return Ix}});var r=n(1250),i=n(1087),a=n(9439),o=n(2791),u=n(9434),s=n(7689),c=n(4165),l=n(5861),f=n(2388);function h(){return f.Z.post("http://localhost:5001/api/user/authcheck",{},{headers:{Authorization:"bearer ".concat(localStorage.getItem("token")||"")}}).then((function(e){return e.data.bol})).catch((function(e){}))}function d(){return(d=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return(t=e.sent)||localStorage.removeItem("token"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(6308),v=n(184),y=function(){var e=(0,s.TH)(),t=(0,u.I0)(),n=(0,o.useState)(!1),r=(0,a.Z)(n,2),c=r[0],l=r[1],f=function(){(function(){return d.apply(this,arguments)})().then((function(e){l(e)})).catch((function(e){l(!1)})).finally((function(){t((0,p._)())}))},h=(0,u.v9)((function(e){return e.token.token}));return(0,o.useEffect)((function(){f()}),[e]),c?(0,v.jsx)("div",{className:"Layout",children:(0,v.jsxs)("div",{className:"Layout__fixed",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(i.OL,{className:function(e){return e.isActive?"activeLink":"Link"},to:"/my/".concat(null===h||void 0===h?void 0:h.id),children:null===h||void 0===h?void 0:h.email}),(0,v.jsx)(i.OL,{className:function(e){return e.isActive?"activeLink":"Link"},to:"/news",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"}),(0,v.jsx)(i.OL,{className:function(e){return e.isActive?"activeLink":"Link"},to:"/chat",children:"\u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"})]}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{className:"Link",onClick:function(){localStorage.removeItem("token"),f()},children:"\u0412\u044b\u0439\u0442\u0438"})})]})}):(0,v.jsx)("div",{className:"Layout",children:(0,v.jsxs)("div",{className:"Layout__fixed",children:[(0,v.jsx)(i.OL,{className:function(e){return e.isActive?"activeLink":"Link"},to:"/login",children:"\u0412\u0445\u043e\u0434"}),(0,v.jsx)(i.OL,{className:function(e){return e.isActive?"activeLink":"Link"},to:"/my/".concat(null===h||void 0===h?void 0:h.id),children:null===h||void 0===h?void 0:h.email}),(0,v.jsx)(i.OL,{className:function(e){return e.isActive?"activeLink":"Link"},to:"/news",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"}),(0,v.jsx)(i.OL,{className:function(e){return e.isActive?"activeLink":"Link"},to:"/chat",children:"\u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"}),(0,v.jsx)(i.OL,{className:function(e){return e.isActive?"activeLink":"Link"},to:"/registration",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})})},m=n(2905),g=n(456),b=n(7926),k=(0,o.memo)((function(){var e,t,n=(0,u.I0)(),r=(0,o.useRef)(null),a=(0,u.v9)((function(e){return e.chat.chats})),s=localStorage.getItem("token")?(0,g.Z)(localStorage.getItem("token")||""):localStorage.getItem("token");function h(){return d.apply(this,arguments)}function d(){return(d=(0,l.Z)((0,c.Z)().mark((function e(){var t,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,g.Z)(localStorage.getItem("token")||""),e.next=3,f.Z.get("".concat(m.gd,"/chat/getall?email=").concat(t.email));case 3:return r=e.sent,e.next=6,n((0,b.Lx)(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useEffect)((function(){h()}),[]),(0,o.useEffect)((function(){r.current=new WebSocket("ws://localhost:5001/con"),r.current.onopen=function(){var e,t={event:"connectionChat",username:null===s||void 0===s?void 0:s.email};null===(e=r.current)||void 0===e||e.send(JSON.stringify(t)),setInterval((function(){}),15e3)},r.current.onmessage=function(e){h()},r.current.onerror=function(){console.log("\u043e\u0448\u0438\u0431\u043a\u0430")},r.current.close=function(){console.log("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e")}}),[]),localStorage.getItem("token")?(0,v.jsx)("div",{className:"ListChat",children:null===a||void 0===a||null===(e=a.data)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.map((function(e){return(0,v.jsx)("div",{"data-testid":"ListChat",className:"ListChat__block",children:(0,v.jsx)(i.rU,{to:"/im/".concat(null===e||void 0===e?void 0:e.idRoom),children:(null===e||void 0===e?void 0:e.secondUser)!==(null===s||void 0===s?void 0:s.email)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("img",{className:"Img__Creator",src:"http://".concat(m.o6,"/").concat(null===e||void 0===e?void 0:e.secondUser,".jpg"),alt:null===e||void 0===e?void 0:e.user}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"ListChat__secondUser",children:null===e||void 0===e?void 0:e.secondUser}),(0,v.jsxs)("div",{className:"ListChat__img",children:[(0,v.jsx)("img",{className:"Img__lastUser",src:"http://".concat(m.o6,"/").concat(null===e||void 0===e?void 0:e.lastUser,".jpg"),alt:""}),(0,v.jsx)("div",{children:null===e||void 0===e?void 0:e.lastMessage})]})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("img",{className:"Img__Creator",src:"http://".concat(m.o6,"/").concat(null===e||void 0===e?void 0:e.userCreator,".jpg"),alt:null===e||void 0===e?void 0:e.user}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"ListChat__secondUser",children:null===e||void 0===e?void 0:e.userCreator}),(0,v.jsxs)("div",{className:"ListChat__img",children:[(0,v.jsx)("img",{className:"Img__lastUser",src:"http://".concat(m.o6,"/").concat(null===e||void 0===e?void 0:e.lastUser,".jpg"),alt:""}),(0,v.jsx)("div",{children:null===e||void 0===e?void 0:e.lastMessage})]})]})]})})})}))}):(0,v.jsx)("div",{children:"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"})})),w=k,x=n(780),E=(0,o.memo)((function(){return(0,v.jsxs)("div",{className:"Main",children:[(0,v.jsx)(x.Z,{}),(0,v.jsx)("div",{className:"Main__block",children:(0,v.jsx)(w,{})})]})})),_=n(7437),S=n(4560),I=n(9376),T=(0,o.memo)((function(){var e=(0,s.TH)(),t=(0,u.I0)(),n=(0,s.UO)(),r=(0,u.v9)((function(e){return e.token.token})),a=(0,u.v9)((function(e){return e.mainInfo.mainInfo})),f=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.O)(n.id);case 2:r=e.sent,t((0,S.YV)(r));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){f()}),[e]),(null===r||void 0===r?void 0:r.email)===(null===a||void 0===a?void 0:a.email)||localStorage.getItem("token")?(0,v.jsx)(I.default,{params:n}):(0,v.jsx)("div",{className:"UnAuthorization",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{children:"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"}),(0,v.jsx)(i.rU,{to:"/login",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})]})})})),Z=T,N=n(189),C=n(6578),O=n(4376),A=n(3187),D=function(){var e=(0,o.useState)(),t=(0,a.Z)(e,2),n=t[0],r=t[1],i=(0,o.useState)(),u=(0,a.Z)(i,2),s=u[0],f=u[1],h=(0,O.D)(A.AX),d=(0,a.Z)(h,1)[0],p=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,s),e.next=3,d({variables:{input:{id:n,role:s}}});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{children:[(0,v.jsx)("input",{placeholder:"id \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onInput:function(e){var t;return r(null===(t=e.target)||void 0===t?void 0:t.value)}}),(0,v.jsx)("input",{placeholder:"role",onInput:function(e){var t;return f(null===(t=e.target)||void 0===t?void 0:t.value)}}),(0,v.jsx)("button",{onClick:p,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})},R=function(){var e,t=(0,C.a)(N.A2),n=t.data,r=t.loading,i=(t.error,(0,O.D)(A.AX)),u=(0,a.Z)(i,1)[0],s=(0,o.useState)([]),f=(0,a.Z)(s,2),h=f[0],d=f[1],p=(0,o.useRef)(null),y=(0,o.useRef)(null),m=(0,o.useRef)(null),g=(0,o.useRef)(null),b=(0,o.useRef)(null),k=(0,o.useRef)(null),w=(0,C.a)(N.LZ,{variables:{id:null===(e=k.current)||void 0===e?void 0:e.value}}),x=(w.data,w.loading,w.error,w.refetch),E=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({variables:{input:{firstName:null===(t=p.current)||void 0===t?void 0:t.value,lastName:null===(n=y.current)||void 0===n?void 0:n.value,password:null===(r=g.current)||void 0===r?void 0:r.value,email:null===(i=m.current)||void 0===i?void 0:i.value,role:null===(a=b.current)||void 0===a?void 0:a.value}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){r||d(n.getAllUser)}),[n]);var _=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{children:[(0,v.jsx)("input",{ref:p}),(0,v.jsx)("input",{ref:y}),(0,v.jsx)("input",{ref:m}),(0,v.jsx)("input",{ref:g}),(0,v.jsx)("input",{ref:b}),(0,v.jsx)("button",{onClick:E,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),(0,v.jsx)("input",{ref:k}),(0,v.jsx)("button",{onClick:_,children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"}),null===h||void 0===h?void 0:h.map((function(e){return(0,v.jsxs)(v.Fragment,{children:[null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.email]})})),(0,v.jsx)("hr",{}),(0,v.jsx)(D,{})]})},P=(0,o.lazy)((function(){return Promise.resolve().then(n.bind(n,9376))})),L=(0,o.lazy)((function(){return Promise.all([n.e(705),n.e(374)]).then(n.bind(n,4374))})),M=(0,o.lazy)((function(){return Promise.all([n.e(705),n.e(931)]).then(n.bind(n,6931))})),F=(0,o.lazy)((function(){return n.e(324).then(n.bind(n,3324))})),j=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(o.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading..."}),children:(0,v.jsxs)(s.Z5,{children:[(0,v.jsx)(s.AW,{path:"/im/:id",element:(0,v.jsx)(F,{})}),(0,v.jsx)(s.AW,{path:"*",element:(0,v.jsx)("h2",{children:"404"})}),(0,v.jsx)(s.AW,{path:"/",element:(0,v.jsx)(v.Fragment,{children:"\u0427\u0451"})}),(0,v.jsx)(s.AW,{path:"/login",element:(0,v.jsx)(L,{})}),(0,v.jsx)(s.AW,{path:"/my/:id",element:(0,v.jsx)(Z,{})}),(0,v.jsx)(s.AW,{path:"/registration",element:(0,v.jsx)(M,{})}),(0,v.jsx)(s.AW,{path:"/news",element:(0,v.jsx)(P,{})}),(0,v.jsx)(s.AW,{path:"/chat",element:(0,v.jsx)(E,{})}),(0,v.jsx)(s.AW,{path:"/test",element:(0,v.jsx)(R,{})})]})})})};var U=function(){return(0,v.jsx)("div",{className:"App",children:(0,v.jsxs)(i.VK,{children:[(0,v.jsx)(y,{}),(0,v.jsx)(j,{})]})})},V=n(1413),q={counter:0},B={count:1,messages:[]},z=n(7781),G=n(3433),Q=n(7762),K=n(4942),W=n(5671),H=n(3144),Y=n(7326),$=n(136),J=n(7277),X=n(8664),ee=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ee(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ne=function(e){return function(e){var t=ee(e);return te.encodeByteArray(t,!0)}(e).replace(/\./g,"")},re=function(e){try{return te.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ie(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ae(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"===typeof indexedDB}catch(e){return!1}}var ue=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},se=function(){try{return ue()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/messager.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&re(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ce=function(e){var t,n;return null===(n=null===(t=se())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},le=function(){var e;return null===(e=se())||void 0===e?void 0:e.config},fe=function(e){var t;return null===(t=se())||void 0===t?void 0:t["_".concat(e)]},he=function(){function e(){var t=this;(0,W.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,H.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function de(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(a)),""].join(".")}var pe=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a;return(0,W.Z)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,Y.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,Y.Z)(a),ve.prototype.create),a}return(0,H.Z)(n)}((0,X.Z)(Error)),ve=function(){function e(t,n,r){(0,W.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,H.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ye(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new pe(n,a,t);return o}}]),e}();function ye(e,t){return e.replace(me,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var me=/\{\$([^}]+)}/g;function ge(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(be(u)&&be(s)){if(!ge(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function be(e){return null!==e&&"object"===typeof e}function ke(e){for(var t=[],n=function(){var e=(0,a.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function we(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,a.Z)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function xe(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ee=function(){function e(t,n){var r=this;(0,W.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,H.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=(0,Q.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=_e),void 0===r.error&&(r.error=_e),void 0===r.complete&&(r.complete=_e);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function _e(){}function Se(e){return e&&e._delegate?e._delegate:e}var Ie=function(){function e(t,n,r){(0,W.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,H.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Te="[DEFAULT]",Ze=function(){function e(t,n){(0,W.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,H.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new he;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Te})}catch(c){}var t,n=(0,Q.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,G.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,G.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=(0,Q.Z)(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,Q.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(fy){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Te?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(fy){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;return this.component?this.component.multipleInstances?e:Te:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ne,Ce,Oe=function(){function e(t){(0,W.Z)(this,e),this.name=t,this.providers=new Map}return(0,H.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ze(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ae=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ce||(Ce={}));var De={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Re=Ce.INFO,Pe=(Ne={},(0,K.Z)(Ne,Ce.DEBUG,"log"),(0,K.Z)(Ne,Ce.VERBOSE,"log"),(0,K.Z)(Ne,Ce.INFO,"info"),(0,K.Z)(Ne,Ce.WARN,"warn"),(0,K.Z)(Ne,Ce.ERROR,"error"),Ne),Le=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Pe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Me=function(){function e(t){(0,W.Z)(this,e),this.name=t,this._logLevel=Re,this._logHandler=Le,this._userLogHandler=null,Ae.push(this)}return(0,H.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ce))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?De[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ce.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ce.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.INFO].concat(t)),this._logHandler.apply(this,[this,Ce.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.WARN].concat(t)),this._logHandler.apply(this,[this,Ce.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.ERROR].concat(t)),this._logHandler.apply(this,[this,Ce.ERROR].concat(t))}}]),e}();var Fe,je;var Ue=new WeakMap,Ve=new WeakMap,qe=new WeakMap,Be=new WeakMap,ze=new WeakMap;var Ge={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ve.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qe.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return We(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Qe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(je||(je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(He(this),n),We(Ue.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return We(e.apply(He(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[He(this),t].concat(r));return qe.set(a,t.sort?t.sort():[t]),We(a)}}function Ke(e){return"function"===typeof e?Qe(e):(e instanceof IDBTransaction&&function(e){if(!Ve.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ve.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ge):e)}function We(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(We(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ue.set(t,e)})).catch((function(){})),ze.set(t,e),t}(e);if(Be.has(e))return Be.get(e);var t=Ke(e);return t!==e&&(Be.set(e,t),ze.set(t,e)),t}var He=function(e){return ze.get(e)};var Ye,$e,Je=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],et=new Map;function tt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(et.get(t))return et.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Xe.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Je.includes(n))){var a=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var a,o,u,s,l,f,h=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=h.length,l=new Array(s>1?s-1:0),f=1;f<s;f++)l[f-1]=h[f];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return et.set(t,a),a}}}Ge=function(e){return(0,V.Z)((0,V.Z)({},e),{},{get:function(t,n,r){return tt(t,n)||e.get(t,n,r)},has:function(t,n){return!!tt(t,n)||e.has(t,n)}})}(Ge);var nt=function(){function e(t){(0,W.Z)(this,e),this.container=t}return(0,H.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var rt="@firebase/app",it="0.9.0",at=new Me("@firebase/app"),ot="[DEFAULT]",ut=(Ye={},(0,K.Z)(Ye,rt,"fire-core"),(0,K.Z)(Ye,"@firebase/app-compat","fire-core-compat"),(0,K.Z)(Ye,"@firebase/analytics","fire-analytics"),(0,K.Z)(Ye,"@firebase/analytics-compat","fire-analytics-compat"),(0,K.Z)(Ye,"@firebase/app-check","fire-app-check"),(0,K.Z)(Ye,"@firebase/app-check-compat","fire-app-check-compat"),(0,K.Z)(Ye,"@firebase/auth","fire-auth"),(0,K.Z)(Ye,"@firebase/auth-compat","fire-auth-compat"),(0,K.Z)(Ye,"@firebase/database","fire-rtdb"),(0,K.Z)(Ye,"@firebase/database-compat","fire-rtdb-compat"),(0,K.Z)(Ye,"@firebase/functions","fire-fn"),(0,K.Z)(Ye,"@firebase/functions-compat","fire-fn-compat"),(0,K.Z)(Ye,"@firebase/installations","fire-iid"),(0,K.Z)(Ye,"@firebase/installations-compat","fire-iid-compat"),(0,K.Z)(Ye,"@firebase/messaging","fire-fcm"),(0,K.Z)(Ye,"@firebase/messaging-compat","fire-fcm-compat"),(0,K.Z)(Ye,"@firebase/performance","fire-perf"),(0,K.Z)(Ye,"@firebase/performance-compat","fire-perf-compat"),(0,K.Z)(Ye,"@firebase/remote-config","fire-rc"),(0,K.Z)(Ye,"@firebase/remote-config-compat","fire-rc-compat"),(0,K.Z)(Ye,"@firebase/storage","fire-gcs"),(0,K.Z)(Ye,"@firebase/storage-compat","fire-gcs-compat"),(0,K.Z)(Ye,"@firebase/firestore","fire-fst"),(0,K.Z)(Ye,"@firebase/firestore-compat","fire-fst-compat"),(0,K.Z)(Ye,"fire-js","fire-js"),(0,K.Z)(Ye,"firebase","fire-js-all"),Ye),st=new Map,ct=new Map;function lt(e,t){try{e.container.addComponent(t)}catch(n){at.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ft(e){var t=e.name;if(ct.has(t))return at.debug("There were multiple attempts to register component ".concat(t,".")),!1;ct.set(t,e);var n,r=(0,Q.Z)(st.values());try{for(r.s();!(n=r.n()).done;){lt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ht(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var dt=($e={},(0,K.Z)($e,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,K.Z)($e,"bad-app-name","Illegal App name: '{$appName}"),(0,K.Z)($e,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,K.Z)($e,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,K.Z)($e,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,K.Z)($e,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,K.Z)($e,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,K.Z)($e,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,K.Z)($e,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,K.Z)($e,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,K.Z)($e,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),$e),pt=new ve("app","Firebase",dt),vt=function(){function e(t,n,r){var i=this;(0,W.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ie("app",(function(){return i}),"PUBLIC"))}return(0,H.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}]),e}(),yt="9.15.0";function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:ot,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw pt.create("bad-app-name",{appName:String(a)});if(n||(n=le()),!n)throw pt.create("no-options");var o=st.get(a);if(o){if(ge(n,o.options)&&ge(i,o.config))return o;throw pt.create("duplicate-app",{appName:a})}var u,s=new Oe(a),c=(0,Q.Z)(ct.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new vt(n,i,s);return st.set(a,f),f}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=st.get(e);if(!t&&e===ot)return mt();if(!t)throw pt.create("no-app",{appName:e});return t}function bt(e,t,n){var r,i=null!==(r=ut[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void at.warn(u.join(" "))}ft(new Ie("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var kt="firebase-heartbeat-store",wt=null;function xt(){return wt||(wt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=We(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(We(u.result),e.oldVersion,e.newVersion,We(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(kt)}}).catch((function(e){throw pt.create("idb-open",{originalErrorMessage:e.message})}))),wt}function Et(e){return _t.apply(this,arguments)}function _t(){return _t=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xt();case 3:return n=e.sent,e.abrupt("return",n.transaction(kt).objectStore(kt).get(Tt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof pe?at.warn(e.t0.message):(r=pt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),at.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),_t.apply(this,arguments)}function St(e,t){return It.apply(this,arguments)}function It(){return It=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xt();case 3:return r=e.sent,i=r.transaction(kt,"readwrite"),a=i.objectStore(kt),e.next=8,a.put(n,Tt(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof pe?at.warn(e.t0.message):(o=pt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),at.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),It.apply(this,arguments)}function Tt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Zt=function(){function e(t){var n=this;(0,W.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new At(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,H.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Nt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Nt(),n=Ct(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ne(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Nt(){return(new Date).toISOString().substring(0,10)}function Ct(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=(0,Q.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Dt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Dt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ot,At=function(){function e(t){(0,W.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,H.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Et(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",St(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",St(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,G.Z)(r.heartbeats),(0,G.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Dt(e){return ne(JSON.stringify({version:2,heartbeats:e})).length}Ot="",ft(new Ie("platform-logger",(function(e){return new nt(e)}),"PRIVATE")),ft(new Ie("heartbeat",(function(e){return new Zt(e)}),"PRIVATE")),bt(rt,it,Ot),bt(rt,it,"esm2017"),bt("fire-js","");bt("firebase","9.15.0","app");var Rt=n(5647),Pt=n(1120);function Lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,Pt.Z)(e)););return e}function Mt(){return Mt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Lt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Mt.apply(this,arguments)}var Ft,jt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ut={},Vt=Vt||{},qt=jt||self;function Bt(){}function zt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Gt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qt="closure_uid_"+(1e9*Math.random()>>>0),Kt=0;function Wt(e,t,n){return e.call.apply(e.bind,arguments)}function Ht(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Yt(e,t,n){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wt:Ht).apply(null,arguments)}function $t(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Jt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Xt(){this.s=this.s,this.o=this.o}Xt.prototype.s=!1,Xt.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Qt)&&e[Qt]||(e[Qt]=++Kt))},Xt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var en=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function tn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function nn(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(zt(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function rn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var an=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{qt.addEventListener("test",Bt,t),qt.removeEventListener("test",Bt,t)}catch(n){}return e}();function on(e){return/^[\s\xa0]*$/.test(e)}var un=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function sn(e,t){return e<t?-1:e>t?1:0}function cn(){var e=qt.navigator;return e&&(e=e.userAgent)?e:""}function ln(e){return-1!=cn().indexOf(e)}function fn(e){return fn[" "](e),e}fn[" "]=Bt;var hn,dn=ln("Opera"),pn=ln("Trident")||ln("MSIE"),vn=ln("Edge"),yn=vn||pn,mn=ln("Gecko")&&!(-1!=cn().toLowerCase().indexOf("webkit")&&!ln("Edge"))&&!(ln("Trident")||ln("MSIE"))&&!ln("Edge"),gn=-1!=cn().toLowerCase().indexOf("webkit")&&!ln("Edge");function bn(){var e=qt.document;return e?e.documentMode:void 0}e:{var kn="",wn=function(){var e=cn();return mn?/rv:([^\);]+)(\)|;)/.exec(e):vn?/Edge\/([\d\.]+)/.exec(e):pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):gn?/WebKit\/(\S+)/.exec(e):dn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(wn&&(kn=wn?wn[1]:""),pn){var xn=bn();if(null!=xn&&xn>parseFloat(kn)){hn=String(xn);break e}}hn=kn}var En,_n={};function Sn(){return function(e){var t=_n;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=un(String(hn)).split("."),n=un("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=sn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||sn(0==a[2].length,0==o[2].length)||sn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(qt.document&&pn){var In=bn();En=In||(parseInt(hn,10)||void 0)}else En=void 0;var Tn=En;function Zn(e,t){if(rn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(mn){e:{try{fn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Nn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Zn.X.h.call(this)}}Jt(Zn,rn);var Nn={2:"touch",3:"pen",4:"mouse"};Zn.prototype.h=function(){Zn.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Cn="closure_listenable_"+(1e6*Math.random()|0),On=0;function An(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++On,this.ba=this.ea=!1}function Dn(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Rn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Pn(e){var t={};for(var n in e)t[n]=e[n];return t}var Ln="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ln.length;a++)n=Ln[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fn(e){this.src=e,this.g={},this.h=0}function jn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=en(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Dn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Un(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Fn.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Un(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new An(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Vn="closure_lm_"+(1e6*Math.random()|0),qn={};function Bn(e,t,n,r,i){if(r&&r.once)return Gn(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Bn(e,t[a],n,r,i);return null}return n=Jn(n),e&&e[Cn]?e.N(t,n,Gt(r)?!!r.capture:!!r,i):zn(e,t,n,!1,r,i)}function zn(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Gt(i)?!!i.capture:!!i,u=Yn(e);if(u||(e[Vn]=u=new Fn(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Hn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)an||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Gn(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gn(e,t[a],n,r,i);return null}return n=Jn(n),e&&e[Cn]?e.O(t,n,Gt(r)?!!r.capture:!!r,i):zn(e,t,n,!0,r,i)}function Qn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Qn(e,t[a],n,r,i);else r=Gt(r)?!!r.capture:!!r,n=Jn(n),e&&e[Cn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Un(a=e.g[t],n,r,i))&&(Dn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Yn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Un(t,n,r,i)),(n=-1<e?t[e]:null)&&Kn(n))}function Kn(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Cn])jn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Yn(t))?(jn(n,e),0==n.h&&(n.src=null,t[Vn]=null)):Dn(e)}}}function Wn(e){return e in qn?qn[e]:qn[e]="on"+e}function Hn(e,t){if(e.ba)e=!0;else{t=new Zn(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Kn(e),e=n.call(r,t)}return e}function Yn(e){return(e=e[Vn])instanceof Fn?e:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jn(e){return"function"===typeof e?e:(e[$n]||(e[$n]=function(t){return e.handleEvent(t)}),e[$n])}function Xn(){Xt.call(this),this.i=new Fn(this),this.P=this,this.I=null}function er(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new rn(t,e);else if(t instanceof rn)t.target=t.target||e;else{var i=t;Mn(t=new rn(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=tr(o,r,!0,t)&&i}if(i=tr(o=t.g=e,r,!0,t)&&i,i=tr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=tr(o=t.g=n[a],r,!1,t)&&i}function tr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&jn(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Jt(Xn,Xt),Xn.prototype[Cn]=!0,Xn.prototype.removeEventListener=function(e,t,n,r){Qn(this,e,t,n,r)},Xn.prototype.M=function(){if(Xn.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dn(n[r]);delete t.g[e],t.h--}}this.I=null},Xn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var nr=qt.JSON.stringify;function rr(){var e=fr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ir,ar=function(){function e(){(0,W.Z)(this,e),this.h=this.g=null}return(0,H.Z)(e,[{key:"add",value:function(e,t){var n=or.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),or=new(function(){function e(t,n){(0,W.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,H.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ur}),(function(e){return e.reset()})),ur=function(){function e(){(0,W.Z)(this,e),this.next=this.g=this.h=null}return(0,H.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function sr(e){qt.setTimeout((function(){throw e}),0)}function cr(e,t){ir||function(){var e=qt.Promise.resolve(void 0);ir=function(){e.then(hr)}}(),lr||(ir(),lr=!0),fr.add(e,t)}var lr=!1,fr=new ar;function hr(){for(var e;e=rr();){try{e.h.call(e.g)}catch(n){sr(n)}var t=or;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lr=!1}function dr(e,t){Xn.call(this),this.h=e||1,this.g=t||qt,this.j=Yt(this.lb,this),this.l=Date.now()}function pr(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function vr(e,t,n){if("function"===typeof e)n&&(e=Yt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Yt(e.handleEvent,e)}return 2147483647<Number(t)?-1:qt.setTimeout(e,t||0)}function yr(e){e.g=vr((function(){e.g=null,e.i&&(e.i=!1,yr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Jt(dr,Xn),(Ft=dr.prototype).ca=!1,Ft.R=null,Ft.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),er(this,"tick"),this.ca&&(pr(this),this.start()))}},Ft.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ft.M=function(){dr.X.M.call(this),pr(this),delete this.g};var mr=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,H.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:yr(this)}},{key:"M",value:function(){Mt((0,Pt.Z)(n.prototype),"M",this).call(this),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Xt);function gr(e){Xt.call(this),this.h=e,this.g={}}Jt(gr,Xt);var br=[];function kr(e,t,n,r){Array.isArray(n)||(n&&(br[0]=n.toString()),n=br);for(var i=0;i<n.length;i++){var a=Bn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function wr(e){Rn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Kn(e)}),e),e.g={}}function xr(){this.g=!0}function Er(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return nr(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}gr.prototype.M=function(){gr.X.M.call(this),wr(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xr.prototype.Aa=function(){this.g=!1},xr.prototype.info=function(){};var _r={},Sr=null;function Ir(){return Sr=Sr||new Xn}function Tr(e){rn.call(this,_r.Pa,e)}function Zr(e){var t=Ir();er(t,new Tr(t))}function Nr(e,t){rn.call(this,_r.STAT_EVENT,e),this.stat=t}function Cr(e){var t=Ir();er(t,new Nr(t,e))}function Or(e,t){rn.call(this,_r.Qa,e),this.size=t}function Ar(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qt.setTimeout((function(){e()}),t)}_r.Pa="serverreachability",Jt(Tr,rn),_r.STAT_EVENT="statevent",Jt(Nr,rn),_r.Qa="timingevent",Jt(Or,rn);var Dr={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Rr={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Pr(){}function Lr(e){return e.h||(e.h=e.i())}function Mr(){}Pr.prototype.h=null;var Fr,jr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ur(){rn.call(this,"d")}function Vr(){rn.call(this,"c")}function qr(){}function Br(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new gr(this),this.O=Gr,e=yn?125:void 0,this.T=new dr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new zr}function zr(){this.i=null,this.g="",this.h=!1}Jt(Ur,rn),Jt(Vr,rn),Jt(qr,Pr),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},Fr=new qr;var Gr=45e3,Qr={},Kr={};function Wr(e,t,n){e.K=1,e.v=di(si(t)),e.s=n,e.P=!0,Hr(e,null)}function Hr(e,t){e.F=Date.now(),Xr(e),e.A=si(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Ii(n.i,"t",r),e.C=0,n=e.l.H,e.h=new zr,e.g=Ta(e.l,n?t:null,!e.s),0<e.N&&(e.L=new mr(Yt(e.La,e,e.g),e.N)),kr(e.S,e.g,"readystatechange",e.ib),t=e.H?Pn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Zr(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Yr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function $r(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Jr(e,n))==Kr){4==t&&(e.o=4,Cr(14),i=!1),Er(e.j,e.m,null,"[Incomplete Response]");break}if(r==Qr){e.o=4,Cr(15),Er(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Er(e.j,e.m,r,null),ii(e,r)}Yr(e)&&r!=Kr&&r!=Qr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Cr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ba(t),t.K=!0,Cr(11))):(Er(e.j,e.m,n,"[Invalid Chunked Response]"),ri(e),ni(e))}function Jr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Kr:(n=Number(t.substring(n,r)),isNaN(n)?Qr:(r+=1)+n>t.length?Kr:(t=t.substr(r,n),e.C=r+n,t))}function Xr(e){e.V=Date.now()+e.O,ei(e,e.O)}function ei(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ar(Yt(e.gb,e),t)}function ti(e){e.B&&(qt.clearTimeout(e.B),e.B=null)}function ni(e){0==e.l.G||e.I||xa(e.l,e)}function ri(e){ti(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,pr(e.T),wr(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ii(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ri(n.h,e)))if(!e.J&&Ri(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wa(n),fa(n)}ga(n),Cr(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Ar(Yt(n.cb,n),6e3));if(1>=Di(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else _a(n,11)}else if((e.J||n.g==e)&&wa(n),!on(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Pi(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,hi(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Ia(r,r.H?r.ka:null,r.V),d.J){Li(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(ti(p),Xr(p)),r.g=d}else ma(r);0<n.i.length&&da(n)}else"stop"!=a[0]&&"close"!=a[0]||_a(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?_a(n,7):la(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Zr()}catch(a){}}function ai(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zt(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zt(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ft=Br.prototype).setTimeout=function(e){this.O=e},Ft.ib=function(e){e=e.target;var t=this.L;t&&3==ia(e)?t.l():this.La(e)},Ft.La=function(e){try{if(e==this.g)e:{var t=ia(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||yn||this.g&&(this.h.h||this.g.fa()||aa(this.g)))){this.I||4!=t||7==n||Zr(),ti(this);var r=this.g.aa();this.Y=r;t:if(Yr(this)){var i=aa(this.g);e="";var a=i.length,o=4==ia(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ri(this),ni(this);var u="";break t}this.h.i=new qt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!on(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Cr(12),ri(this),ni(this);break e}Er(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ii(this,r)}this.P?($r(this,t,u),yn&&this.i&&3==t&&(kr(this.S,this.T,"tick",this.hb),this.T.start())):(Er(this.j,this.m,u,null),ii(this,u)),4==t&&ri(this),this.i&&!this.I&&(4==t?xa(this.l,this):(this.i=!1,Xr(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Cr(12)):(this.o=0,Cr(13)),ri(this),ni(this)}}}catch(t){}},Ft.hb=function(){if(this.g){var e=ia(this.g),t=this.g.fa();this.C<t.length&&(ti(this),$r(this,e,t),this.i&&4!=e&&Xr(this))}},Ft.cancel=function(){this.I=!0,ri(this)},Ft.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Zr(),Cr(17)),ri(this),this.o=2,ni(this)):ei(this,this.V-e)};var oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ui(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ui){this.h=void 0!==t?t:e.h,ci(this,e.j),this.s=e.s,this.g=e.g,li(this,e.m),this.l=e.l,t=e.i;var n=new xi;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),fi(this,n),this.o=e.o}else e&&(n=String(e).match(oi))?(this.h=!!t,ci(this,n[1]||"",!0),this.s=pi(n[2]||""),this.g=pi(n[3]||"",!0),li(this,n[4]),this.l=pi(n[5]||"",!0),fi(this,n[6]||"",!0),this.o=pi(n[7]||"")):(this.h=!!t,this.i=new xi(null,this.h))}function si(e){return new ui(e)}function ci(e,t,n){e.j=n?pi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function li(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fi(e,t,n){t instanceof xi?(e.i=t,function(e,t){t&&!e.j&&(Ei(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_i(this,t),Ii(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=vi(t,ki)),e.i=new xi(t,e.h))}function hi(e,t,n){e.i.set(t,n)}function di(e){return hi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ui.prototype.toString=function(){var e=[],t=this.j;t&&e.push(vi(t,mi,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(vi(t,mi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(vi(n,"/"==n.charAt(0)?bi:gi,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",vi(n,wi)),e.join("")};var mi=/[#\/\?@]/g,gi=/[#\?:]/g,bi=/[#\?]/g,ki=/[#\?@]/g,wi=/#/g;function xi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ei(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _i(e,t){Ei(e),t=Ti(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Si(e,t){return Ei(e),t=Ti(e,t),e.g.has(t)}function Ii(e,t,n){_i(e,t),0<n.length&&(e.i=null,e.g.set(Ti(e,t),tn(n)),e.h+=n.length)}function Ti(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ft=xi.prototype).add=function(e,t){Ei(this),this.i=null,e=Ti(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ft.forEach=function(e,t){Ei(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ft.oa=function(){Ei(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ft.W=function(e){Ei(this);var t=[];if("string"===typeof e)Si(this,e)&&(t=t.concat(this.g.get(Ti(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ft.set=function(e,t){return Ei(this),this.i=null,Si(this,e=Ti(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ft.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Zi=(0,H.Z)((function e(t,n){(0,W.Z)(this,e),this.h=t,this.g=n}));function Ni(e){this.l=e||Oi,qt.PerformanceNavigationTiming?e=0<(e=qt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qt.g&&qt.g.Ga&&qt.g.Ga()&&qt.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ci,Oi=10;function Ai(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Di(e){return e.h?1:e.g?e.g.size:0}function Ri(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pi(e,t){e.g?e.g.add(t):e.h=t}function Li(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Mi(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,Q.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return tn(e.i)}function Fi(){}function ji(){this.g=new Fi}function Ui(e,t,n){var r=n||"";try{ai(e,(function(e,n){var i=e;Gt(e)&&(i=nr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function qi(e){this.l=e.ac||null,this.j=e.jb||!1}function Bi(e,t){Xn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=zi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ni.prototype.cancel=function(){if(this.i=Mi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,Q.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Fi.prototype.stringify=function(e){return qt.JSON.stringify(e,void 0)},Fi.prototype.parse=function(e){return qt.JSON.parse(e,void 0)},Jt(qi,Pr),qi.prototype.g=function(){return new Bi(this.l,this.j)},qi.prototype.i=(Ci={},function(){return Ci}),Jt(Bi,Xn);var zi=0;function Gi(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Qi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ki(e)}function Ki(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ft=Bi.prototype).open=function(e,t){if(this.readyState!=zi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ki(this)},Ft.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||qt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qi(this)),this.readyState=zi},Ft.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof qt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gi(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Ft.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Qi(this):Ki(this),3==this.readyState&&Gi(this)}},Ft.Va=function(e){this.g&&(this.response=this.responseText=e,Qi(this))},Ft.Ua=function(e){this.g&&(this.response=e,Qi(this))},Ft.ga=function(){this.g&&Qi(this)},Ft.setRequestHeader=function(e,t){this.v.append(e,t)},Ft.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ft.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wi=qt.JSON.parse;function Hi(e){Xn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yi,this.K=this.L=!1}Jt(Hi,Xn);var Yi="",$i=/^https?$/i,Ji=["POST","PUT"];function Xi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ea(e),na(e)}function ea(e){e.D||(e.D=!0,er(e,"complete"),er(e,"error"))}function ta(e){if(e.h&&"undefined"!=typeof Vt&&(!e.C[1]||4!=ia(e)||2!=e.aa()))if(e.v&&4==ia(e))vr(e.Ha,0,e);else if(er(e,"readystatechange"),4==ia(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(oi)[1]||null;if(!a&&qt.self&&qt.self.location){var o=qt.self.location.protocol;a=o.substr(0,o.length-1)}i=!$i.test(a?a.toLowerCase():"")}t=i}if(t)er(e,"complete"),er(e,"success");else{e.m=6;try{var u=2<ia(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",ea(e)}}finally{na(e)}}}function na(e,t){if(e.g){ra(e);var n=e.g,r=e.C[0]?Bt:null;e.g=null,e.C=null,t||er(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ra(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(qt.clearTimeout(e.A),e.A=null)}function ia(e){return e.g?e.g.readyState:0}function aa(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Yi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ba){return null}}function oa(e){var t="";return Rn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ua(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=oa(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):hi(e,t,n))}function sa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ca(e){this.Ca=0,this.i=[],this.j=new xr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=sa("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=sa("baseRetryDelayMs",5e3,e),this.bb=sa("retryDelaySeedMs",1e4,e),this.$a=sa("forwardChannelMaxRetries",2,e),this.ta=sa("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Ni(e&&e.concurrentRequestLimit),this.Fa=new ji,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function la(e){if(ha(e),3==e.G){var t=e.U++,n=si(e.F);hi(n,"SID",e.I),hi(n,"RID",t),hi(n,"TYPE","terminate"),va(e,n),(t=new Br(e,e.j,t,void 0)).K=2,t.v=di(si(n)),n=!1,qt.navigator&&qt.navigator.sendBeacon&&(n=qt.navigator.sendBeacon(t.v.toString(),"")),!n&&qt.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ta(t.l,null),t.g.da(t.v)),t.F=Date.now(),Xr(t)}Sa(e)}function fa(e){e.g&&(ba(e),e.g.cancel(),e.g=null)}function ha(e){fa(e),e.u&&(qt.clearTimeout(e.u),e.u=null),wa(e),e.h.cancel(),e.m&&("number"===typeof e.m&&qt.clearTimeout(e.m),e.m=null)}function da(e){Ai(e.h)||e.m||(e.m=!0,cr(e.Ja,e),e.C=0)}function pa(e,t){var n;n=t?t.m:e.U++;var r=si(e.F);hi(r,"SID",e.I),hi(r,"RID",n),hi(r,"AID",e.T),va(e,r),e.o&&e.s&&ua(r,e.o,e.s),n=new Br(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=ya(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Pi(e.h,n),Wr(n,r,t)}function va(e,t){e.ia&&Rn(e.ia,(function(e,n){hi(t,n,e)})),e.l&&ai({},(function(e,n){hi(t,n,e)}))}function ya(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Yt(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ui(l,o,"req"+c+"_")}catch(to){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function ma(e){e.g||e.u||(e.Z=1,cr(e.Ia,e),e.A=0)}function ga(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Ar(Yt(e.Ia,e),Ea(e,e.A)),e.A++,!0)}function ba(e){null!=e.B&&(qt.clearTimeout(e.B),e.B=null)}function ka(e){e.g=new Br(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=si(e.sa);hi(t,"RID","rpc"),hi(t,"SID",e.I),hi(t,"CI",e.L?"0":"1"),hi(t,"AID",e.T),hi(t,"TYPE","xmlhttp"),va(e,t),e.o&&e.s&&ua(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=di(si(t)),n.s=null,n.P=!0,Hr(n,e)}function wa(e){null!=e.v&&(qt.clearTimeout(e.v),e.v=null)}function xa(e,t){var n=null;if(e.g==t){wa(e),ba(e),e.g=null;var r=2}else{if(!Ri(e.h,t))return;n=t.D,Li(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;er(r=Ir(),new Or(r,n)),da(e)}else ma(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Di(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Ar(Yt(e.Ja,e,t),Ea(e,e.C)),e.C++,!0))}(e,t)||2==r&&ga(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:_a(e,5);break;case 4:_a(e,10);break;case 3:_a(e,6);break;default:_a(e,2)}}function Ea(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function _a(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Yt(e.kb,e);n||(n=new ui("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||ci(n,"https"),di(n)),function(e,t){var n=new xr;if(qt.Image){var r=new Image;r.onload=$t(Vi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=$t(Vi,n,r,"TestLoadImage: error",!1,t),r.onabort=$t(Vi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=$t(Vi,n,r,"TestLoadImage: timeout",!1,t),qt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Cr(2);e.G=0,e.l&&e.l.va(t),Sa(e),ha(e)}function Sa(e){if(e.G=0,e.la=[],e.l){var t=Mi(e.h);0==t.length&&0==e.i.length||(nn(e.la,t),nn(e.la,e.i),e.h.i.length=0,tn(e.i),e.i.length=0),e.l.ua()}}function Ia(e,t,n){var r=n instanceof ui?si(n):new ui(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),li(r,r.m);else{var i=qt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ui(null,void 0);r&&ci(a,r),t&&(a.g=t),i&&li(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&hi(r,n,t),hi(r,"VER",e.ma),va(e,r),r}function Ta(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Hi(new qi({jb:!0})):new Hi(e.ra)).Ka(e.H),t}function Za(){}function Na(){if(pn&&!(10<=Number(Tn)))throw Error("Environmental error: no available transport.")}function Ca(e,t){Xn.call(this),this.g=new ca(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!on(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!on(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Da(this)}function Oa(e){Ur.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Aa(){Vr.call(this),this.status=1}function Da(e){this.g=e}(Ft=Hi.prototype).Ka=function(e){this.L=e},Ft.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fr.g(),this.C=this.u?Lr(this.u):Lr(Fr),this.g.onreadystatechange=Yt(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Xi(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,u=(0,Q.Z)(r.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){u.e(p)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=qt.FormData&&e instanceof qt.FormData,!(0<=en(Ji,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=(0,Q.Z)(n);try{for(l.s();!(c=l.n()).done;){var f=(0,a.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ra(this),0<this.B&&((this.K=function(e){return pn&&Sn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.qa,this)):this.A=vr(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Xi(this,s)}},Ft.qa=function(){"undefined"!=typeof Vt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,er(this,"timeout"),this.abort(8))},Ft.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,er(this,"complete"),er(this,"abort"),na(this))},Ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),na(this,!0)),Hi.X.M.call(this)},Ft.Ha=function(){this.s||(this.F||this.v||this.l?ta(this):this.fb())},Ft.fb=function(){ta(this)},Ft.aa=function(){try{return 2<ia(this)?this.g.status:-1}catch(Ci){return-1}},Ft.fa=function(){try{return this.g?this.g.responseText:""}catch(Ci){return""}},Ft.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wi(t)}},Ft.Ea=function(){return this.m},Ft.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ft=ca.prototype).ma=8,Ft.G=1,Ft.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Br(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Mn(n=Pn(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ya(this,t,r),hi(i=si(this.F),"RID",e),hi(i,"CVER",22),this.D&&hi(i,"X-HTTP-Session-Id",this.D),va(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(oa(n)))+"&"+r:this.o&&ua(i,this.o,n)),Pi(this.h,t),this.Ya&&hi(i,"TYPE","init"),this.O?(hi(i,"$req",r),hi(i,"SID","null"),t.Z=!0,Wr(t,i,null)):Wr(t,i,r),this.G=2}}else 3==this.G&&(e?pa(this,e):0==this.i.length||Ai(this.h)||pa(this))},Ft.Ia=function(){if(this.u=null,ka(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ar(Yt(this.eb,this),e)}},Ft.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Cr(10),fa(this),ka(this))},Ft.cb=function(){null!=this.v&&(this.v=null,fa(this),ga(this),Cr(19))},Ft.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Cr(2)):(this.j.info("Failed to ping google.com"),Cr(1))},(Ft=Za.prototype).xa=function(){},Ft.wa=function(){},Ft.va=function(){},Ft.ua=function(){},Ft.Ra=function(){},Na.prototype.g=function(e,t){return new Ca(e,t)},Jt(Ca,Xn),Ca.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Cr(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Ia(e,null,e.V),da(e)},Ca.prototype.close=function(){la(this.g)},Ca.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=nr(e),e=n);t.i.push(new Zi(t.ab++,e)),3==t.G&&da(t)},Ca.prototype.M=function(){this.g.l=null,delete this.j,la(this.g),delete this.g,Ca.X.M.call(this)},Jt(Oa,Ur),Jt(Aa,Vr),Jt(Da,Za),Da.prototype.xa=function(){er(this.g,"a")},Da.prototype.wa=function(e){er(this.g,new Oa(e))},Da.prototype.va=function(e){er(this.g,new Aa)},Da.prototype.ua=function(){er(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,Ca.prototype.send=Ca.prototype.u,Ca.prototype.open=Ca.prototype.m,Ca.prototype.close=Ca.prototype.close,Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Rr.COMPLETE="complete",Mr.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",Xn.prototype.listen=Xn.prototype.N,Hi.prototype.listenOnce=Hi.prototype.O,Hi.prototype.getLastError=Hi.prototype.Oa,Hi.prototype.getLastErrorCode=Hi.prototype.Ea,Hi.prototype.getStatus=Hi.prototype.aa,Hi.prototype.getResponseJson=Hi.prototype.Sa,Hi.prototype.getResponseText=Hi.prototype.fa,Hi.prototype.send=Hi.prototype.da,Hi.prototype.setWithCredentials=Hi.prototype.Ka;var Ra=Ut.createWebChannelTransport=function(){return new Na},Pa=Ut.getStatEventTarget=function(){return Ir()},La=Ut.ErrorCode=Dr,Ma=Ut.EventType=Rr,Fa=Ut.Event=_r,ja=Ut.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ua=Ut.FetchXmlHttpFactory=qi,Va=Ut.WebChannel=Mr,qa=Ut.XhrIo=Hi,Ba="@firebase/firestore",za=function(){function e(t){(0,W.Z)(this,e),this.uid=t}return(0,H.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();za.UNAUTHENTICATED=new za(null),za.GOOGLE_CREDENTIALS=new za("google-credentials-uid"),za.FIRST_PARTY=new za("first-party-uid"),za.MOCK_USER=new za("mock-user");var Ga="9.15.0",Qa=new Me("@firebase/firestore");function Ka(){return Qa.logLevel}function Wa(e){Qa.setLogLevel(e)}function Ha(e){if(Qa.logLevel<=Ce.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ja);Qa.debug.apply(Qa,["Firestore (".concat(Ga,"): ").concat(e)].concat((0,G.Z)(i)))}}function Ya(e){if(Qa.logLevel<=Ce.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ja);Qa.error.apply(Qa,["Firestore (".concat(Ga,"): ").concat(e)].concat((0,G.Z)(i)))}}function $a(e){if(Qa.logLevel<=Ce.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ja);Qa.warn.apply(Qa,["Firestore (".concat(Ga,"): ").concat(e)].concat((0,G.Z)(i)))}}function Ja(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ga,") INTERNAL ASSERTION FAILED: ")+e;throw Ya(t),new Error(t)}function eo(e,t){e||Xa()}function to(e,t){e||Xa()}function no(e,t){return e}var ro={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},io=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,H.Z)(n)}(pe),ao=(0,H.Z)((function e(){var t=this;(0,W.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),oo=(0,H.Z)((function e(t,n){(0,W.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),uo=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(za.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),so=function(){function e(t){(0,W.Z)(this,e),this.token=t,this.changeListener=null}return(0,H.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),co=function(){function e(t){(0,W.Z)(this,e),this.t=t,this.currentUser=za.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,H.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ao;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ao,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ha("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ha("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ao)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ha("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(eo("string"==typeof n.accessToken),new oo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return eo(null===e||"string"==typeof e),new za(e)}}]),e}(),lo=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=za.FIRST_PARTY,this.p=new Map}return(0,H.Z)(e,[{key:"I",value:function(){return this.g?this.g():(eo(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),fo=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return(0,H.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new lo(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(za.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ho=(0,H.Z)((function e(t){(0,W.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),po=function(){function e(t){(0,W.Z)(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return(0,H.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ha("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Ha("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ha("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Ha("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(eo("string"==typeof t.token),e.A=t.token,new ho(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),vo=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new ho(""))}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){}},{key:"shutdown",value:function(){}}]),e}();function yo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var mo=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=yo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function go(e,t){return e<t?-1:e>t?1:0}function bo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ko(e){return e+"\0"}var wo=function(){function e(t,n){if((0,W.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new io(ro.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new io(ro.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new io(ro.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new io(ro.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,H.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?go(this.nanoseconds,e.nanoseconds):go(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),xo=function(){function e(t){(0,W.Z)(this,e),this.timestamp=t}return(0,H.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new wo(0,0))}},{key:"max",value:function(){return new e(new wo(253402300799,999999999))}}]),e}(),Eo=function(){function e(t,n,r){(0,W.Z)(this,e),void 0===n?n=0:n>t.length&&Xa(),void 0===r?r=t.length-n:r>t.length-n&&Xa(),this.segments=t,this.offset=n,this.len=r}return(0,H.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),_o=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new io(ro.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,G.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Eo),So=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Io=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return So.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new io(ro.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new io(ro.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new io(ro.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new io(ro.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Eo),To=function(){function e(t){(0,W.Z)(this,e),this.path=t}return(0,H.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===_o.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(_o.fromString(t))}},{key:"fromName",value:function(t){return new e(_o.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(_o.emptyPath())}},{key:"comparator",value:function(e,t){return _o.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new _o(t.slice()))}}]),e}(),Zo=(0,H.Z)((function e(t,n,r,i){(0,W.Z)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function No(e){return e.fields.find((function(e){return 2===e.kind}))}function Co(e){return e.fields.filter((function(e){return 2!==e.kind}))}function Oo(e,t){var n=go(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(var r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(0!==(n=Do(e.fields[r],t.fields[r])))return n;return go(e.fields.length,t.fields.length)}Zo.UNKNOWN_ID=-1;var Ao=(0,H.Z)((function e(t,n){(0,W.Z)(this,e),this.fieldPath=t,this.kind=n}));function Do(e,t){var n=Io.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:go(e.kind,t.kind)}var Ro=function(){function e(t,n){(0,W.Z)(this,e),this.sequenceNumber=t,this.offset=n}return(0,H.Z)(e,null,[{key:"empty",value:function(){return new e(0,Mo.min())}}]),e}();function Po(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xo.fromTimestamp(1e9===r?new wo(n+1,0):new wo(n,r));return new Mo(i,To.empty(),t)}function Lo(e){return new Mo(e.readTime,e.key,-1)}var Mo=function(){function e(t,n,r){(0,W.Z)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,H.Z)(e,null,[{key:"min",value:function(){return new e(xo.min(),To.empty(),-1)}},{key:"max",value:function(){return new e(xo.max(),To.empty(),-1)}}]),e}();function Fo(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=To.comparator(e.documentKey,t.documentKey))?n:go(e.largestBatchId,t.largestBatchId)}var jo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uo=function(){function e(){(0,W.Z)(this,e),this.onCommittedListeners=[]}return(0,H.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Vo(e){return qo.apply(this,arguments)}function qo(){return qo=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ro.FAILED_PRECONDITION&&t.message===jo){e.next=2;break}throw t;case 2:Ha("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}var Bo=function(){function e(t){var n=this;(0,W.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,H.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Xa(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,Q.Z)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),zo=function(){function e(t,n){var r=this;(0,W.Z)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new ao,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Ko(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Jo(e.target.error);r.P.reject(new Ko(t,n))}}return(0,H.Z)(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Ha("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ho(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ko(n,t)}}}]),e}(),Go=function(){function e(t,n,r){(0,W.Z)(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ie())&&Ya("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,H.Z)(e,[{key:"F",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ha("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ko(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new io(ro.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new io(ro.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ko(t,n))},i.onupgradeneeded=function(e){Ha("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Ha("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i){var a,o,u,s,l,f=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield((0,c.Z)().mark((function e(){var n,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.F(t);case 2:return f.db=e.sent,n=zo.open(f.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Bo.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,l="FirebaseError"!==s.name&&o<3,Ha("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),this.close(),l){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ha("SimpleDb","Removing database:",e),Yo(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!oe())return!1;if(e.N())return!0;var t=ie(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/messager.github.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Qo=function(){function e(t){(0,W.Z)(this,e),this.q=t,this.U=!1,this.K=null}return(0,H.Z)(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Yo(this.q.delete())}}]),e}(),Ko=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,ro.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,H.Z)(n)}(io);function Wo(e){return"IndexedDbTransactionError"===e.name}var Ho=function(){function e(t){(0,W.Z)(this,e),this.store=t}return(0,H.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ha("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ha("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Yo(n)}},{key:"add",value:function(e){return Ha("SimpleDb","ADD",this.store.name,e,e),Yo(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Yo(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ha("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ha("SimpleDb","DELETE",this.store.name,e),Yo(this.store.delete(e))}},{key:"count",value:function(){return Ha("SimpleDb","COUNT",this.store.name),Yo(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Bo((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Bo((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Ha("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Bo((function(n,r){t.onerror=function(e){var t=Jo(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Bo((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Qo(i),o=t(i.primaryKey,i.value,a);if(o instanceof Bo){var u=o.catch((function(e){return a.done(),Bo.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Bo.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Yo(e){return new Bo((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Jo(e.target.error);n(t)}}))}var $o=!1;function Jo(e){var t=Go.D(ie());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new io("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return $o||($o=!0,setTimeout((function(){throw r}),0)),r}}return e}var Xo=function(){function e(t,n){(0,W.Z)(this,e),this.asyncQueue=t,this.et=n,this.task=null}return(0,H.Z)(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Ha("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Ha,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Wo(e.t4)){e.next=17;break}Ha("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Vo(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),eu=function(){function e(t,n){(0,W.Z)(this,e),this.localStore=t,this.persistence=n}return(0,H.Z)(e,[{key:"st",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n=this,r=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Bo.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Ha("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Ha("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Lo(t);Fo(r,n)>0&&(n=r)})),new Mo(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),tu=function(){function e(t,n){var r=this;(0,W.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return(0,H.Z)(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();tu.at=-1;var nu=(0,H.Z)((function e(t,n,r,i,a,o,u,s){(0,W.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ru=function(){function e(t,n){(0,W.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,H.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function iu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function au(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ou(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function uu(e){return null==e}function su(e){return 0===e&&1/e==-1/0}function cu(e){return"number"==typeof e&&Number.isInteger(e)&&!su(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function lu(){return"undefined"!=typeof atob}var fu=function(e){function t(e){(0,W.Z)(this,t),this.binaryString=e}return(0,H.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return go(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);fu.EMPTY_BYTE_STRING=new fu("");var hu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function du(e){if(eo(!!e),"string"==typeof e){var t=0,n=hu.exec(e);if(eo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pu(e.seconds),nanos:pu(e.nanos)}}function pu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vu(e){return"string"==typeof e?fu.fromBase64String(e):fu.fromUint8Array(e)}function yu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mu(e){var t=e.mapValue.fields.__previous_value__;return yu(t)?mu(t):t}function gu(e){var t=du(e.mapValue.fields.__local_write_time__.timestampValue);return new wo(t.seconds,t.nanos)}var bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ku={nullValue:"NULL_VALUE"};function wu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yu(e)?4:Pu(e)?9007199254740991:10:Xa()}function xu(e,t){if(e===t)return!0;var n=wu(e);if(n!==wu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gu(e).isEqual(gu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=du(e.timestampValue),r=du(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vu(e.bytesValue).isEqual(vu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pu(e.geoPointValue.latitude)===pu(t.geoPointValue.latitude)&&pu(e.geoPointValue.longitude)===pu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pu(e.integerValue)===pu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pu(e.doubleValue),r=pu(t.doubleValue);return n===r?su(n)===su(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bo(e.arrayValue.values||[],t.arrayValue.values||[],xu);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(iu(n)!==iu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xu(n[i],r[i])))return!1;return!0}(e,t);default:return Xa()}}function Eu(e,t){return void 0!==(e.values||[]).find((function(e){return xu(e,t)}))}function _u(e,t){if(e===t)return 0;var n=wu(e),r=wu(t);if(n!==r)return go(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return go(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pu(e.integerValue||e.doubleValue),r=pu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Su(e.timestampValue,t.timestampValue);case 4:return Su(gu(e),gu(t));case 5:return go(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vu(e),r=vu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=go(n[i],r[i]);if(0!==a)return a}return go(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=go(pu(e.latitude),pu(t.latitude));return 0!==n?n:go(pu(e.longitude),pu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=_u(n[i],r[i]);if(a)return a}return go(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===bu.mapValue&&t===bu.mapValue)return 0;if(e===bu.mapValue)return 1;if(t===bu.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=go(r[o],a[o]);if(0!==u)return u;var s=_u(n[r[o]],i[a[o]]);if(0!==s)return s}return go(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Xa()}}function Su(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return go(e,t);var n=du(e),r=du(t),i=go(n.seconds,r.seconds);return 0!==i?i:go(n.nanos,r.nanos)}function Iu(e){return Tu(e)}function Tu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=du(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,To.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,Q.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Tu(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=(0,Q.Z)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(Tu(e.fields[o]))}}catch(u){a.e(u)}finally{a.f()}return r+"}"}(e.mapValue):Xa();var t,n}function Zu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Nu(e){return!!e&&"integerValue"in e}function Cu(e){return!!e&&"arrayValue"in e}function Ou(e){return!!e&&"nullValue"in e}function Au(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Du(e){return!!e&&"mapValue"in e}function Ru(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return au(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ru(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ru(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Pu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Lu(e){return"nullValue"in e?ku:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zu(ru.empty(),To.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Xa()}function Mu(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zu(ru.empty(),To.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?bu:Xa()}function Fu(e,t){var n=_u(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ju(e,t){var n=_u(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Uu=(0,H.Z)((function e(t,n){(0,W.Z)(this,e),this.position=t,this.inclusive=n}));function Vu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?To.comparator(To.fromName(o.referenceValue),n.key):_u(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!xu(e.position[n],t.position[n]))return!1;return!0}var Bu=(0,H.Z)((function e(){(0,W.Z)(this,e)})),zu=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a;return(0,W.Z)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,H.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_u(t,this.value)):null!==t&&wu(this.value)===wu(t)&&this.matchesComparison(_u(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xa()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new es(e,t,r):"array-contains"===t?new is(e,r):"in"===t?new as(e,r):"not-in"===t?new os(e,r):"array-contains-any"===t?new us(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new ts(e,n):new ns(e,n)}}]),n}(Bu),Gu=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return(0,H.Z)(n,[{key:"matches",value:function(e){return Qu(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=(0,Q.Z)(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Bu);function Qu(e){return"and"===e.op}function Ku(e){return"or"===e.op}function Wu(e){return Hu(e)&&Qu(e)}function Hu(e){var t,n=(0,Q.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Gu)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Yu(e){if(e instanceof zu)return e.field.canonicalString()+e.op.toString()+Iu(e.value);var t=e.filters.map((function(e){return Yu(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function $u(e,t){return e instanceof zu?function(e,t){return t instanceof zu&&e.op===t.op&&e.field.isEqual(t.field)&&xu(e.value,t.value)}(e,t):e instanceof Gu?function(e,t){return t instanceof Gu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&$u(n,t.filters[r])}),!0)}(e,t):void Xa()}function Ju(e,t){var n=e.filters.concat(t);return Gu.create(n,e.op)}function Xu(e){return e instanceof zu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Iu(e.value))}(e):e instanceof Gu?function(e){return e.op.toString()+" {"+e.getFilters().map(Xu).join(" ,")+"}"}(e):"Filter"}var es=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a;return(0,W.Z)(this,n),(a=t.call(this,e,r,i)).key=To.fromName(i.referenceValue),a}return(0,H.Z)(n,[{key:"matches",value:function(e){var t=To.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(zu),ts=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,e,"in",r)).keys=rs("in",r),i}return(0,H.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zu),ns=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,e,"not-in",r)).keys=rs("not-in",r),i}return(0,H.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zu);function rs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return To.fromName(e.referenceValue)}))}var is=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){return(0,W.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,H.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Cu(t)&&Eu(t.arrayValue,this.value)}}]),n}(zu),as=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){return(0,W.Z)(this,n),t.call(this,e,"in",r)}return(0,H.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Eu(this.value.arrayValue,t)}}]),n}(zu),os=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){return(0,W.Z)(this,n),t.call(this,e,"not-in",r)}return(0,H.Z)(n,[{key:"matches",value:function(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Eu(this.value.arrayValue,t)}}]),n}(zu),us=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){return(0,W.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,H.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Cu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Eu(t.value.arrayValue,e)}))}}]),n}(zu),ss=(0,H.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,W.Z)(this,e),this.field=t,this.dir=n}));function cs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ls=function(){function e(t,n){(0,W.Z)(this,e),this.comparator=t,this.root=n||hs.EMPTY}return(0,H.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hs.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hs.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new fs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new fs(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new fs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new fs(this.root,e,this.comparator,!0)}}]),e}(),fs=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,H.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),hs=function(){function e(t,n,r,i,a){(0,W.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,H.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xa();if(this.right.isRed())throw Xa();var e=this.left.check();if(e!==this.right.check())throw Xa();return e+(this.isRed()?0:1)}}]),e}();hs.EMPTY=null,hs.RED=!0,hs.BLACK=!1,hs.EMPTY=new(function(){function e(){(0,W.Z)(this,e),this.size=0}return(0,H.Z)(e,[{key:"key",get:function(){throw Xa()}},{key:"value",get:function(){throw Xa()}},{key:"color",get:function(){throw Xa()}},{key:"left",get:function(){throw Xa()}},{key:"right",get:function(){throw Xa()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new hs(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ds=function(){function e(t){(0,W.Z)(this,e),this.comparator=t,this.data=new ls(this.comparator)}return(0,H.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ps(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ps(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ps=function(){function e(t){(0,W.Z)(this,e),this.iter=t}return(0,H.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function vs(e){return e.hasNext()?e.getNext():void 0}var ys=function(){function e(t){(0,W.Z)(this,e),this.fields=t,t.sort(Io.comparator)}return(0,H.Z)(e,[{key:"unionWith",value:function(t){var n,r=new ds(Io.comparator),i=(0,Q.Z)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=(0,Q.Z)(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=(0,Q.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return bo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ms=function(){function e(t){(0,W.Z)(this,e),this.value=t}return(0,H.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Du(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(t)}},{key:"setAll",value:function(e){var t=this,n=Io.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ru(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return xu(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Du(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){au(t,(function(t,n){return e[t]=n}));var r,i=(0,Q.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ru(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function gs(e){var t=[];return au(e.fields,(function(e,n){var r=new Io([e]);if(Du(n)){var i=gs(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=(0,Q.Z)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ys(t)}var bs=function(){function e(t,n,r,i,a,o,u){(0,W.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return(0,H.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(xo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=xo.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,xo.min(),xo.min(),xo.min(),ms.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,xo.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,xo.min(),xo.min(),ms.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,xo.min(),xo.min(),ms.empty(),2)}}]),e}(),ks=(0,H.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,W.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function ws(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ks(e,t,n,r,i,a,o)}function xs(e){var t=no(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Yu(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),uu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Iu(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Iu(e)})).join(",")),t.ft=n}return t.ft}function Es(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!cs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!$u(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qu(e.startAt,t.startAt)&&qu(e.endAt,t.endAt)}function _s(e){return To.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ss(e,t){return e.filters.filter((function(e){return e instanceof zu&&e.field.isEqual(t)}))}function Is(e,t,n){var r,i=ku,a=!0,o=(0,Q.Z)(Ss(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ku,c=!0;switch(u.op){case"<":case"<=":s=Lu(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ku}Fu({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Fu({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Ts(e,t,n){var r,i=bu,a=!0,o=(0,Q.Z)(Ss(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=bu,c=!0;switch(u.op){case">=":case">":s=Mu(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=bu}ju({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ju({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Zs=(0,H.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,W.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function Ns(e,t,n,r,i,a,o,u){return new Zs(e,t,n,r,i,a,o,u)}function Cs(e){return new Zs(e)}function Os(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function As(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ds(e){var t,n=(0,Q.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Rs(e){return null!==e.collectionGroup}function Ps(e){var t=no(e);if(null===t.dt){t.dt=[];var n=Ds(t),r=As(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new ss(n)),t.dt.push(new ss(Io.keyField(),"asc"));else{var i,a=!1,o=(0,Q.Z)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new ss(Io.keyField(),s))}}}return t.dt}function Ls(e){var t=no(e);if(!t._t)if("F"===t.limitType)t._t=ws(t.path,t.collectionGroup,Ps(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=(0,Q.Z)(Ps(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ss(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Uu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Uu(t.startAt.position,t.startAt.inclusive):null;t._t=ws(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Ms(e,t){t.getFirstInequalityField(),Ds(e);var n=e.filters.concat([t]);return new Zs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Fs(e,t,n){return new Zs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function js(e,t){return Es(Ls(e),Ls(t))&&e.limitType===t.limitType}function Us(e){return"".concat(xs(Ls(e)),"|lt:").concat(e.limitType)}function Vs(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Xu(e)})).join(", "),"]")),uu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Iu(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Iu(e)})).join(",")),"Target(".concat(t,")")}(Ls(e)),"; limitType=").concat(e.limitType,")")}function qs(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):To.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,Q.Z)(Ps(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,Q.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Vu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ps(e),t))&&!(e.endAt&&!function(e,t,n){var r=Vu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ps(e),t))}(e,t)}function Bs(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zs(e){return function(t,n){var r,i=!1,a=(0,Q.Z)(Ps(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Gs(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Gs(e,t,n){var r=e.field.isKeyField()?To.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_u(r,i):Xa()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xa()}}function Qs(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(t)?"-0":t}}function Ks(e){return{integerValue:""+e}}function Ws(e,t){return cu(t)?Ks(t):Qs(e,t)}var Hs=(0,H.Z)((function e(){(0,W.Z)(this,e),this._=void 0}));function Ys(e,t,n){return e instanceof Xs?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ec?tc(e,t):e instanceof nc?rc(e,t):function(e,t){var n=Js(e,t),r=ac(n)+ac(e.gt);return Nu(n)&&Nu(e.gt)?Ks(r):Qs(e.yt,r)}(e,t)}function $s(e,t,n){return e instanceof ec?tc(e,t):e instanceof nc?rc(e,t):n}function Js(e,t){return e instanceof ic?Nu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xs=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n)}(Hs),ec=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,H.Z)(n)}(Hs);function tc(e,t){var n,r=oc(t),i=(0,Q.Z)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return xu(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nc=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,H.Z)(n)}(Hs);function rc(e,t){var n,r=oc(t),i=(0,Q.Z)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!xu(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ic=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return(0,H.Z)(n)}(Hs);function ac(e){return pu(e.integerValue||e.doubleValue)}function oc(e){return Cu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var uc=(0,H.Z)((function e(t,n){(0,W.Z)(this,e),this.field=t,this.transform=n}));var sc=(0,H.Z)((function e(t,n){(0,W.Z)(this,e),this.version=t,this.transformResults=n})),cc=function(){function e(t,n){(0,W.Z)(this,e),this.updateTime=t,this.exists=n}return(0,H.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function lc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var fc=(0,H.Z)((function e(){(0,W.Z)(this,e)}));function hc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _c(e.key,cc.none()):new mc(e.key,e.data,cc.none());var n,r=e.data,i=ms.empty(),a=new ds(Io.comparator),o=(0,Q.Z)(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new gc(e.key,i,new ys(a.toArray()),cc.none())}function dc(e,t,n){e instanceof mc?function(e,t,n){var r=e.value.clone(),i=kc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gc?function(e,t,n){if(lc(e.precondition,t)){var r=kc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pc(e,t,n,r){return e instanceof mc?function(e,t,n,r){if(!lc(e.precondition,t))return n;var i=e.value.clone(),a=wc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gc?function(e,t,n,r){if(!lc(e.precondition,t))return n;var i=wc(e.fieldTransforms,r,t),a=t.data;return a.setAll(bc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return lc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function vc(e,t){var n,r=null,i=(0,Q.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Js(a.transform,o||null);null!=u&&(null===r&&(r=ms.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function yc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ec&&t instanceof ec||e instanceof nc&&t instanceof nc?bo(e.elements,t.elements,xu):e instanceof ic&&t instanceof ic?xu(e.gt,t.gt):e instanceof Xs&&t instanceof Xs}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var mc=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,W.Z)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,H.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fc),gc=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,W.Z)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,H.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(fc);function bc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function kc(e,t,n){var r=new Map;eo(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,$s(o,u,n[i]))}return r}function wc(e,t,n){var r,i=new Map,a=(0,Q.Z)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ys(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var xc,Ec,_c=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,H.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fc),Sc=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,H.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fc),Ic=(0,H.Z)((function e(t){(0,W.Z)(this,e),this.count=t}));function Tc(e){switch(e){default:return Xa();case ro.CANCELLED:case ro.UNKNOWN:case ro.DEADLINE_EXCEEDED:case ro.RESOURCE_EXHAUSTED:case ro.INTERNAL:case ro.UNAVAILABLE:case ro.UNAUTHENTICATED:return!1;case ro.INVALID_ARGUMENT:case ro.NOT_FOUND:case ro.ALREADY_EXISTS:case ro.PERMISSION_DENIED:case ro.FAILED_PRECONDITION:case ro.ABORTED:case ro.OUT_OF_RANGE:case ro.UNIMPLEMENTED:case ro.DATA_LOSS:return!0}}function Zc(e){if(void 0===e)return Ya("GRPC error has no .code"),ro.UNKNOWN;switch(e){case xc.OK:return ro.OK;case xc.CANCELLED:return ro.CANCELLED;case xc.UNKNOWN:return ro.UNKNOWN;case xc.DEADLINE_EXCEEDED:return ro.DEADLINE_EXCEEDED;case xc.RESOURCE_EXHAUSTED:return ro.RESOURCE_EXHAUSTED;case xc.INTERNAL:return ro.INTERNAL;case xc.UNAVAILABLE:return ro.UNAVAILABLE;case xc.UNAUTHENTICATED:return ro.UNAUTHENTICATED;case xc.INVALID_ARGUMENT:return ro.INVALID_ARGUMENT;case xc.NOT_FOUND:return ro.NOT_FOUND;case xc.ALREADY_EXISTS:return ro.ALREADY_EXISTS;case xc.PERMISSION_DENIED:return ro.PERMISSION_DENIED;case xc.FAILED_PRECONDITION:return ro.FAILED_PRECONDITION;case xc.ABORTED:return ro.ABORTED;case xc.OUT_OF_RANGE:return ro.OUT_OF_RANGE;case xc.UNIMPLEMENTED:return ro.UNIMPLEMENTED;case xc.DATA_LOSS:return ro.DATA_LOSS;default:return Xa()}}(Ec=xc||(xc={}))[Ec.OK=0]="OK",Ec[Ec.CANCELLED=1]="CANCELLED",Ec[Ec.UNKNOWN=2]="UNKNOWN",Ec[Ec.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ec[Ec.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ec[Ec.NOT_FOUND=5]="NOT_FOUND",Ec[Ec.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ec[Ec.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ec[Ec.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ec[Ec.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ec[Ec.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ec[Ec.ABORTED=10]="ABORTED",Ec[Ec.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ec[Ec.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ec[Ec.INTERNAL=13]="INTERNAL",Ec[Ec.UNAVAILABLE=14]="UNAVAILABLE",Ec[Ec.DATA_LOSS=15]="DATA_LOSS";var Nc=function(){function e(t,n){(0,W.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,H.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=(0,Q.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){au(this.inner,(function(t,n){var r,i=(0,Q.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ou(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Cc=new ls(To.comparator);function Oc(){return Cc}var Ac=new ls(To.comparator);function Dc(){for(var e=Ac,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Rc(e){var t=Ac;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Pc(){return Mc()}function Lc(){return Mc()}function Mc(){return new Nc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Fc=new ls(To.comparator),jc=new ds(To.comparator);function Uc(){for(var e=jc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Vc=new ds(go);function qc(){return Vc}var Bc=function(){function e(t,n,r,i,a){(0,W.Z)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,H.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,zc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(xo.min(),i,qc(),Oc(),Uc())}}]),e}(),zc=function(){function e(t,n,r,i,a){(0,W.Z)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,H.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Uc(),Uc(),Uc())}}]),e}(),Gc=(0,H.Z)((function e(t,n,r,i){(0,W.Z)(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Qc=(0,H.Z)((function e(t,n){(0,W.Z)(this,e),this.targetId=t,this.Et=n})),Kc=(0,H.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fu.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,W.Z)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Wc=function(){function e(){(0,W.Z)(this,e),this.At=0,this.Rt=$c(),this.bt=fu.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return(0,H.Z)(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=Uc(),t=Uc(),n=Uc();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xa()}})),new zc(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=$c()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),Hc=function(){function e(t){(0,W.Z)(this,e),this.$t=t,this.Bt=new Map,this.Lt=Oc(),this.qt=Yc(),this.Ut=new ds(go)}return(0,H.Z)(e,[{key:"Kt",value:function(e){var t,n=(0,Q.Z)(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=(0,Q.Z)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Xa()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(_s(i))if(0===n){var a=new To(i.path);this.Qt(t,a,bs.newNoDocument(a,xo.min()))}else eo(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&_s(a.target)){var o=new To(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,bs.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Uc();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Bc(e,n,this.Ut,this.Lt,r);return this.Lt=Oc(),this.qt=Yc(),this.Ut=new ds(go),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Wc,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new ds(go),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Ha("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Wc),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function Yc(){return new ls(To.comparator)}function $c(){return new ls(To.comparator)}var Jc={asc:"ASCENDING",desc:"DESCENDING"},Xc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},el={and:"AND",or:"OR"},tl=(0,H.Z)((function e(t,n){(0,W.Z)(this,e),this.databaseId=t,this.wt=n}));function nl(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rl(e,t){return e.wt?t.toBase64():t.toUint8Array()}function il(e,t){return nl(e,t.toTimestamp())}function al(e){return eo(!!e),xo.fromTimestamp(function(e){var t=du(e);return new wo(t.seconds,t.nanos)}(e))}function ol(e,t){return function(e){return new _o(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ul(e){var t=_o.fromString(e);return eo(Cl(t)),t}function sl(e,t){return ol(e.databaseId,t.path)}function cl(e,t){var n=ul(t);if(n.get(1)!==e.databaseId.projectId)throw new io(ro.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new io(ro.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new To(dl(n))}function ll(e,t){return ol(e.databaseId,t)}function fl(e){var t=ul(e);return 4===t.length?_o.emptyPath():dl(t)}function hl(e){return new _o(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dl(e){return eo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pl(e,t,n){return{name:sl(e,t),fields:n.value.mapValue.fields}}function vl(e,t,n){var r=cl(e,t.name),i=al(t.updateTime),a=t.createTime?al(t.createTime):xo.min(),o=new ms({mapValue:{fields:t.fields}}),u=bs.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function yl(e,t){return"found"in t?function(e,t){eo(!!t.found),t.found.name,t.found.updateTime;var n=cl(e,t.found.name),r=al(t.found.updateTime),i=t.found.createTime?al(t.found.createTime):xo.min(),a=new ms({mapValue:{fields:t.found.fields}});return bs.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){eo(!!t.missing),eo(!!t.readTime);var n=cl(e,t.missing),r=al(t.readTime);return bs.newNoDocument(n,r)}(e,t):Xa()}function ml(e,t){var n;if(t instanceof mc)n={update:pl(e,t.key,t.value)};else if(t instanceof _c)n={delete:sl(e,t.key)};else if(t instanceof gc)n={update:pl(e,t.key,t.data),updateMask:Nl(t.fieldMask)};else{if(!(t instanceof Sc))return Xa();n={verify:sl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ec)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ic)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Xa()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:il(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xa()}(e,t.precondition)),n}function gl(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?cc.updateTime(al(e.updateTime)):void 0!==e.exists?cc.exists(e.exists):cc.none()}(t.currentDocument):cc.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)eo("REQUEST_TIME"===t.setToServerValue),n=new Xs;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ec(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new nc(i)}else"increment"in t?n=new ic(e,t.increment):Xa();var a=Io.fromServerFormat(t.fieldPath);return new uc(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=cl(e,t.update.name),a=new ms({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ys(t.map((function(e){return Io.fromServerFormat(e)})))}(t.updateMask);return new gc(i,a,o,n,r)}return new mc(i,a,n,r)}if(t.delete){var u=cl(e,t.delete);return new _c(u,n)}if(t.verify){var s=cl(e,t.verify);return new Sc(s,n)}return Xa()}function bl(e,t){return{documents:[ll(e,t.path)]}}function kl(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ll(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ll(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Zl(Gu.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Il(e.field),direction:El(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||uu(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function wl(e){var t=fl(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){eo(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=xl(e);return t instanceof Gu&&Wu(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ss(Tl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return uu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Uu(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Uu(n,t)}(n.endAt)),Ns(t,i,u,o,s,"F",c,l)}function xl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Tl(e.unaryFilter.field);return zu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Tl(e.unaryFilter.field);return zu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Tl(e.unaryFilter.field);return zu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Tl(e.unaryFilter.field);return zu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xa()}}(e):void 0!==e.fieldFilter?function(e){return zu.create(Tl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xa()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Gu.create(e.compositeFilter.filters.map((function(e){return xl(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Xa()}}(e.compositeFilter.op))}(e):Xa()}function El(e){return Jc[e]}function _l(e){return Xc[e]}function Sl(e){return el[e]}function Il(e){return{fieldPath:e.canonicalString()}}function Tl(e){return Io.fromServerFormat(e.fieldPath)}function Zl(e){return e instanceof zu?function(e){if("=="===e.op){if(Au(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NAN"}};if(Ou(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Au(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NOT_NAN"}};if(Ou(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(e.field),op:_l(e.op),value:e.value}}}(e):e instanceof Gu?function(e){var t=e.getFilters().map((function(e){return Zl(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Sl(e.op),filters:t}}}(e):Xa()}function Nl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Cl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ol(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Dl(t)),t=Al(e.get(n),t);return Dl(t)}function Al(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Dl(e){return e+"\x01\x01"}function Rl(e){var t=e.length;if(eo(t>=2),2===t)return eo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),_o.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Xa(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Xa()}a=o+2}return new _o(r)}var Pl=["userId","batchId"];function Ll(e,t){return[e,Ol(t)]}function Ml(e,t,n){return[e,Ol(t),n]}var Fl={},jl=["prefixPath","collectionGroup","readTime","documentId"],Ul=["prefixPath","collectionGroup","documentId"],Vl=["collectionGroup","readTime","prefixPath","documentId"],ql=["canonicalId","targetId"],Bl=["targetId","path"],zl=["path","targetId"],Gl=["collectionId","parent"],Ql=["indexId","uid"],Kl=["uid","sequenceNumber"],Wl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hl=["indexId","uid","orderedDocumentKey"],Yl=["userId","collectionPath","documentId"],$l=["userId","collectionPath","largestBatchId"],Jl=["userId","collectionGroup","largestBatchId"],Xl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ef=[].concat((0,G.Z)(Xl),["documentOverlays"]),tf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nf=tf,rf=[].concat(nf,["indexConfiguration","indexState","indexEntries"]),af=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return(0,H.Z)(n)}(Uo);function of(e,t){var n=no(e);return Go.M(n.se,t)}var uf=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,H.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&dc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=(0,Q.Z)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=pc(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=(0,Q.Z)(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=pc(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Lc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=hc(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(xo.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Uc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(function(e,t){return yc(e,t)}))&&bo(this.baseMutations,e.baseMutations,(function(e,t){return yc(e,t)}))}}]),e}(),sf=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,H.Z)(e,null,[{key:"from",value:function(t,n,r){eo(t.mutations.length===r.length);for(var i=Fc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),cf=function(){function e(t,n){(0,W.Z)(this,e),this.largestBatchId=t,this.mutation=n}return(0,H.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),lf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xo.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fu.EMPTY_BYTE_STRING;(0,W.Z)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,H.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ff=(0,H.Z)((function e(t){(0,W.Z)(this,e),this.ie=t}));function hf(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:df(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:sl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nl(e,t.version.toTimestamp()),createTime:nl(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pf(t.version)};else{if(!t.isUnknownDocument())return Xa();r.unknownDocument={path:n.path.toArray(),version:pf(t.version)}}return r}function df(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pf(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function vf(e){var t=new wo(e.seconds,e.nanoseconds);return xo.fromTimestamp(t)}function yf(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gl(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gl(e.ie,t)})),u=wo.fromMillis(t.localWriteTimeMs);return new uf(t.batchId,u,n,o)}function mf(e){var t,n,r=vf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?vf(e.lastLimboFreeSnapshotVersion):xo.min();return void 0!==e.query.documents?(eo(1===(n=e.query).documents.length),t=Ls(Cs(fl(n.documents[0])))):t=function(e){return Ls(wl(e))}(e.query),new lf(t,e.targetId,0,e.lastListenSequenceNumber,r,i,fu.fromBase64String(e.resumeToken))}function gf(e,t){var n,r=pf(t.snapshotVersion),i=pf(t.lastLimboFreeSnapshotVersion);n=_s(t.target)?bl(e.ie,t.target):kl(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xs(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function bf(e){var t=wl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fs(t,t.limit,"L"):t}function kf(e,t){return new cf(t.largestBatchId,gl(e.ie,t.overlayMutation))}function wf(e,t){var n=t.path.lastSegment();return[e,Ol(t.path.popLast()),n]}function xf(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:pf(r.readTime),documentKey:Ol(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ef=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return _f(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:vf(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return _f(e).put({bundleId:(n=t).id,createTime:pf(al(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Sf(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:bf(t.bundledQuery),readTime:vf(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Sf(e).put(function(e){return{name:e.name,readTime:pf(al(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function _f(e){return of(e,"bundles")}function Sf(e){return of(e,"namedQueries")}var If=function(){function e(t,n){(0,W.Z)(this,e),this.yt=t,this.userId=n}return(0,H.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Tf(e).get(wf(this.userId,t)).next((function(e){return e?kf(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Pc();return Bo.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new cf(t,a);i.push(r.oe(e,o))})),Bo.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ol(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Tf(e).Y("collectionPathOverlayIndex",i))})),Bo.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Pc(),a=Ol(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Tf(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=(0,Q.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=kf(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Pc(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tf(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=kf(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return Tf(e).put(function(e,t,n){var r=wf(t,n.mutation.key),i=(0,a.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ml(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Tf(e){return of(e,"documentOverlays")}var Zf=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(pu(e.integerValue));else if("doubleValue"in e){var n=pu(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),su(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(vu(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Pu(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Xa()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=(0,Q.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),To.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function Nf(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Cf(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Nf(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zf.Ie=new Zf;var Of=function(){function e(){(0,W.Z)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,H.Z)(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=(0,Q.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=(0,Q.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=Cf(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=Cf(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Af=function(){function e(t){(0,W.Z)(this,e),this.$e=t}return(0,H.Z)(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),Df=function(){function e(t){(0,W.Z)(this,e),this.$e=t}return(0,H.Z)(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),Rf=function(){function e(){(0,W.Z)(this,e),this.$e=new Of,this.Be=new Af(this.$e),this.Le=new Df(this.$e)}return(0,H.Z)(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),Pf=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,H.Z)(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Lf(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Mf(e.arrayValue,t.arrayValue))?n:0!==(n=Mf(e.directionalValue,t.directionalValue))?n:To.comparator(e.documentKey,t.documentKey)}function Mf(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ff=function(){function e(t){(0,W.Z)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=(0,Q.Z)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return(0,H.Z)(e,[{key:"je",value:function(e){eo(e.collectionGroup===this.collectionId);var t=No(e);if(void 0!==t&&!this.We(t))return!1;for(var n=Co(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=(0,Q.Z)(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function jf(e){var t,n;if(eo(e instanceof zu||e instanceof Gu),e instanceof zu){if(e instanceof as){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return zu.create(e.field,"==",t)})))||[];return Gu.create(r,"or")}return e}var i=e.filters.map((function(e){return jf(e)}));return Gu.create(i,e.op)}function Uf(e){if(0===e.getFilters().length)return[];var t=zf(jf(e));return eo(Bf(t)),Vf(t)||qf(t)?[t]:t.getFilters()}function Vf(e){return e instanceof zu}function qf(e){return e instanceof Gu&&Wu(e)}function Bf(e){return Vf(e)||qf(e)||function(e){if(e instanceof Gu&&Ku(e)){var t,n=(0,Q.Z)(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Vf(r)&&!qf(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function zf(e){if(eo(e instanceof zu||e instanceof Gu),e instanceof zu)return e;if(1===e.filters.length)return zf(e.filters[0]);var t=e.filters.map((function(e){return zf(e)})),n=Gu.create(t,e.op);return Bf(n=Kf(n))?n:(eo(n instanceof Gu),eo(Qu(n)),eo(n.filters.length>1),n.filters.reduce((function(e,t){return Gf(e,t)})))}function Gf(e,t){var n;return eo(e instanceof zu||e instanceof Gu),eo(t instanceof zu||t instanceof Gu),n=e instanceof zu?t instanceof zu?function(e,t){return Gu.create([e,t],"and")}(e,t):Qf(e,t):t instanceof zu?Qf(t,e):function(e,t){if(eo(e.filters.length>0&&t.filters.length>0),Qu(e)&&Qu(t))return Ju(e,t.getFilters());var n=Ku(e)?e:t,r=Ku(e)?t:e,i=n.filters.map((function(e){return Gf(e,r)}));return Gu.create(i,"or")}(e,t),Kf(n)}function Qf(e,t){if(Qu(t))return Ju(t,e.getFilters());var n=t.filters.map((function(t){return Gf(e,t)}));return Gu.create(n,"or")}function Kf(e){if(eo(e instanceof zu||e instanceof Gu),e instanceof zu)return e;var t=e.getFilters();if(1===t.length)return Kf(t[0]);if(Hu(e))return e;var n=t.map((function(e){return Kf(e)})),r=[];return n.forEach((function(t){t instanceof zu?r.push(t):t instanceof Gu&&(t.op===e.op?r.push.apply(r,(0,G.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:Gu.create(r,e.op)}var Wf=function(){function e(){(0,W.Z)(this,e),this.Je=new Hf}return(0,H.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),Bo.resolve()}},{key:"getCollectionParents",value:function(e,t){return Bo.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Bo.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Bo.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Bo.resolve(null)}},{key:"getIndexType",value:function(e,t){return Bo.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Bo.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Bo.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Bo.resolve(Mo.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Bo.resolve(Mo.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Bo.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Bo.resolve()}}]),e}(),Hf=function(){function e(){(0,W.Z)(this,e),this.index={}}return(0,H.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ds(_o.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ds(_o.comparator)).toArray()}}]),e}(),Yf=new Uint8Array(0),$f=function(){function e(t,n){(0,W.Z)(this,e),this.user=t,this.databaseId=n,this.Ye=new Hf,this.Xe=new Nc((function(e){return xs(e)}),(function(e,t){return Es(e,t)})),this.uid=t.uid||""}return(0,H.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Ol(i)};return Jf(e).put(a)}return Bo.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ko(t),""],!1,!0);return Jf(e).W(r).next((function(e){var r,i=(0,Q.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Rl(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=eh(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=th(e);return a.next((function(e){o.put(xf(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=eh(e),r=th(e),i=Xf(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Xf(e),i=!0,a=new Map;return Bo.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Uc(),o=[];return Bo.forEach(a,(function(i,a){var u;Ha("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(xs(t)));var s=function(e,t){var n=No(t);if(void 0===n)return null;var r,i=(0,Q.Z)(Ss(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=(0,Q.Z)(Co(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=(0,Q.Z)(Ss(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=(0,Q.Z)(Co(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Is(e,o.fieldPath,e.startAt):Ts(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Uu(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=(0,Q.Z)(Co(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ts(e,o.fieldPath,e.endAt):Is(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Uu(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Bo.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=To.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Bo.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Uf(Gu.create(e.filters,"and")).map((function(t){return ws(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.rn(t[s/c]):Yf,h=u.on(e,f,n[s%c],r),d=u.un(e,f,i[s%c],a),p=o.map((function(t){return u.on(e,f,t,!0)}));l.push.apply(l,(0,G.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"on",value:function(e,t,n,r){var i=new Pf(e,To.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new Pf(e,To.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new Ff(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=(0,Q.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return Bo.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new ds(Io.comparator),r=!1,i=(0,Q.Z)(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,u=(0,Q.Z)(o.getFlattenedFilters());try{for(u.s();!(a=u.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(h){u.e(h)}finally{u.f()}}}catch(h){i.e(h)}finally{i.f()}var c,l=(0,Q.Z)(e.orderBy);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.field.isKeyField()||(n=n.add(f.field))}}catch(h){l.e(h)}finally{l.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new Rf,i=(0,Q.Z)(Co(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Zf.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new Rf;return Zf.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new Rf;return Zf.Ie.ue(Zu(this.databaseId,t),n.qe(function(e){var t=Co(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Rf);var i,a=0,o=(0,Q.Z)(Co(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=(0,Q.Z)(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Cu(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);Zf.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=(0,G.Z)(e),a=[],o=(0,Q.Z)(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=(0,Q.Z)(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Rf;f.seed(l.Fe()),Zf.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zu&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=eh(e),i=th(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Bo.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ro(t.sequenceNumber,new Mo(vf(t.readTime),new To(Rl(t.documentKey)),t.largestBatchId)):Ro.empty(),r=e.fields.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return new Ao(Io.fromServerFormat(n),r)}));return new Zo(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:go(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=eh(e),a=th(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Bo.forEach(t,(function(t){return a.put(xf(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Bo.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Bo.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Bo.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Bo.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return Xf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return Xf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=Xf(e),i=new ds(Lf);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new Pf(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new ds(Lf),r=this.cn(t,e);if(null==r)return n;var i=No(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Cu(a)){var o,u=(0,Q.Z)(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Pf(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Pf(t.indexId,e.key,Yf,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Ha("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=vs(a),s=vs(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=vs(o)):l?(i(u),u=vs(a)):(u=vs(a),s=vs(o))}}(r,i,Lf,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),Bo.waitFor(o)}},{key:"dn",value:function(e){var t=1;return th(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Lf(e,t)})).filter((function(e,t,n){return!t||0!==Lf(e,n[t-1])}));var r=[];r.push(e);var i,a=(0,Q.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Lf(o,e),s=Lf(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Yf,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Yf,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return Lf(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(nh)}},{key:"getMinOffset",value:function(e,t){var n=this;return Bo.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Xa()}))})).next(nh)}}]),e}();function Jf(e){return of(e,"collectionParents")}function Xf(e){return of(e,"indexEntries")}function eh(e){return of(e,"indexConfiguration")}function th(e){return of(e,"indexState")}function nh(e){eo(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Fo(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mo(t.readTime,t.documentKey,n)}var rh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ih=function(){function e(t,n,r){(0,W.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,H.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ah(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){eo(1===u)})));var c,l=[],f=(0,Q.Z)(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ml(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Bo.waitFor(a).next((function(){return l}))}function oh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xa();t=e.noDocument}return JSON.stringify(t).length}ih.DEFAULT_COLLECTION_PERCENTILE=10,ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ih.DEFAULT=new ih(41943040,ih.DEFAULT_COLLECTION_PERCENTILE,ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ih.DISABLED=new ih(-1,0,0);var uh=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return(0,H.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ch(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=lh(e),o=ch(e);return o.add({}).next((function(u){eo("number"==typeof u);var s,c=new uf(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ml(e.ie,t)})),i=n.mutations.map((function(t){return ml(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new ds((function(e,t){return go(e.canonicalString(),t.canonicalString())})),d=(0,Q.Z)(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ml(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Fl))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Bo.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ch(e).get(t).next((function(e){return e?(eo(e.userId===n.userId),yf(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Bo.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ch(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(eo(t.batchId>=r),a=yf(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ch(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ch(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return yf(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ll(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return lh(e).Z({range:i},(function(r,i,u){var s=(0,a.Z)(r,3),c=s[0],l=s[1],f=s[2],h=Rl(l);if(c===n.userId&&t.path.isEqual(h))return ch(e).get(f).next((function(e){if(!e)throw Xa();eo(e.userId===n.userId),o.push(yf(n.yt,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ds(go),i=[];return t.forEach((function(t){var o=Ll(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=lh(e).Z({range:u},(function(e,i,o){var u=(0,a.Z)(e,3),s=u[0],c=u[1],l=u[2],f=Rl(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),Bo.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=Ll(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new ds(go);return lh(e).Z({range:u},(function(e,t,o){var u=(0,a.Z)(e,3),c=u[0],l=u[1],f=u[2],h=Rl(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ch(e).get(t).next((function(e){if(null===e)throw Xa();eo(e.userId===n.userId),r.push(yf(n.yt,e))})))})),Bo.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ah(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Bo.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Bo.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return lh(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Rl(e[1]);i.push(a)}else r.done()})).next((function(){eo(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return sh(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return fh(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return eo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function sh(e,t,n){var r=Ll(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return lh(e).Z({range:o,X:!0},(function(e,n,r){var o=(0,a.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function ch(e){return of(e,"mutations")}function lh(e){return of(e,"documentMutations")}function fh(e){return of(e,"mutationQueues")}var hh=function(){function e(t){(0,W.Z)(this,e),this.bn=t}return(0,H.Z)(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),dh=function(){function e(t,n){(0,W.Z)(this,e),this.referenceDelegate=t,this.yt=n}return(0,H.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new hh(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return xo.fromTimestamp(new wo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ph(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return eo(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ph(e).Z((function(o,u){var s=mf(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Bo.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ph(e).Z((function(e,n){var r=mf(n);t(r)}))}},{key:"Vn",value:function(e){return vh(e).get("targetGlobalKey").next((function(e){return eo(null!==e),e}))}},{key:"Sn",value:function(e,t){return vh(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return ph(e).put(gf(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=xs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ph(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=mf(n);Es(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=yh(e);return t.forEach((function(t){var o=Ol(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Bo.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=yh(e);return Bo.forEach(t,(function(t){var a=Ol(t.path);return Bo.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=yh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yh(e),i=Uc();return r.Z({range:n,X:!0},(function(e,t,n){var r=Rl(e[1]),a=new To(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ol(t.path),r=IDBKeyRange.bound([n],[ko(n)],!1,!0),i=0;return yh(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=(0,a.Z)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return ph(e).get(t).next((function(e){return e?mf(e):null}))}}]),e}();function ph(e){return of(e,"targets")}function vh(e){return of(e,"targetGlobal")}function yh(e){return of(e,"targetDocuments")}function mh(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,a.Z)(t,2),u=o[0],s=o[1],c=go(r,u);return 0===c?go(i,s):c}var gh=function(){function e(t){(0,W.Z)(this,e),this.xn=t,this.buffer=new ds(mh),this.Nn=0}return(0,H.Z)(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();mh(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),bh=function(){function e(t,n,r){(0,W.Z)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return(0,H.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Ha("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Wo(e.t0)){e.next=12;break}Ha("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Vo(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),kh=function(){function e(t,n){(0,W.Z)(this,e),this.$n=t,this.params=n}return(0,H.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Bo.resolve(tu.at);var r=new gh(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ha("LruGarbageCollector","Garbage collection skipped; disabled"),Bo.resolve(rh)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ha("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),rh):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ha("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Ka()<=Ce.DEBUG&&Ha("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Bo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),wh=function(){function e(t,n){(0,W.Z)(this,e),this.db=t,this.garbageCollector=function(e,t){return new kh(e,t)}(this,n)}return(0,H.Z)(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return xh(e,n)}},{key:"removeReference",value:function(e,t,n){return xh(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return xh(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return fh(e).tt((function(r){return sh(e,r,t).next((function(e){return e&&(n=!0),Bo.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,xo.min()),yh(e).delete([0,Ol(o.path)])}))}));i.push(s)}})).next((function(){return Bo.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return xh(e,t)}},{key:"Kn",value:function(e,t){var n,r=yh(e),i=tu.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var o=(0,a.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==tu.at&&t(new To(Rl(n)),i),i=c,n=s):i=tu.at})).next((function(){i!==tu.at&&t(new To(Rl(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function xh(e,t){return yh(e).put(function(e,t){return{targetId:0,path:Ol(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Eh=function(){function e(){(0,W.Z)(this,e),this.changes=new Nc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,H.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,bs.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Bo.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),_h=function(){function e(t){(0,W.Z)(this,e),this.yt=t}return(0,H.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Zh(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Zh(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],df(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=bs.newInvalidDocument(t);return Zh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Nh(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:bs.newInvalidDocument(t)};return Zh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Nh(t))},(function(e,i){r={document:n.jn(t,i),size:oh(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Oc();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Oc(),i=new ls(To.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,oh(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Bo.resolve();var r=new ds(Oh);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Nh(r.first()),Nh(r.last())),a=r.getIterator(),o=a.getNext();return Zh(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=To.fromSegments([].concat((0,G.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Oh(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Nh(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),df(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zh(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Oc(),i=(0,Q.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(To.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Oc(),o=Ch(t,n),u=Ch(t,Mo.max());return Zh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(To.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Ih(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Th(e).get("remoteDocumentGlobalKey").next((function(e){return eo(!!e),e}))}},{key:"Qn",value:function(e,t){return Th(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=vl(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=To.fromSegments(t.noDocument.path),i=vf(t.noDocument.readTime);n=bs.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xa();var a=To.fromSegments(t.unknownDocument.path),o=vf(t.unknownDocument.version);n=bs.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new wo(e[0],e[1]);return xo.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(xo.min()))return n}return bs.newInvalidDocument(e)}}]),e}();function Sh(e){return new _h(e)}var Ih=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Nc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,H.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ds((function(e,t){return go(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=hf(t.Yn.yt,o);i=i.add(a.path.popLast());var c=oh(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=hf(t.Yn.yt,o.convertToNoDocument(xo.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Bo.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Eh);function Th(e){return of(e,"remoteDocumentGlobal")}function Zh(e){return of(e,"remoteDocumentsV14")}function Nh(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ch(e,t){var n=t.documentKey.path.toArray();return[e,df(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Oh(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=go(n[a],r[a]))return i;return(i=go(n.length,r.length))||((i=go(n[n.length-2],r[r.length-2]))||go(n[n.length-1],r[r.length-1]))}var Ah=(0,H.Z)((function e(t,n){(0,W.Z)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Dh=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,H.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&pc(r.mutation,e,ys.empty(),wo.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Uc()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uc(),i=Pc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Dc();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Pc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Uc())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Oc(),a=Mc(),o=Mc();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof gc)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),pc(o.mutation,t,o.mutation.getFieldMask(),wo.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ah(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Mc(),i=new ls((function(e,t){return e-t})),a=Uc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=(0,Q.Z)(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ys.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Uc()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Lc();c.forEach((function(e){if(!a.has(e)){var n=hc(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Bo.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return To.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Bo.resolve(Pc()),u=-1,s=a;return o.next((function(t){return Bo.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Bo.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Uc())})).next((function(e){return{batchId:u,changes:Rc(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new To(t)).next((function(e){var t=Dc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Dc();return this.indexManager.getCollectionParents(e,i).next((function(o){return Bo.forEach(o,(function(o){var u=function(e,t){return new Zs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,bs.newInvalidDocument(n)))}));var n=Dc();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&pc(a.mutation,i,ys.empty(),wo.now()),qs(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),Rh=function(){function e(t){(0,W.Z)(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return(0,H.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Bo.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:al(n.createTime)}),Bo.resolve()}},{key:"getNamedQuery",value:function(e,t){return Bo.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:bf(e.bundledQuery),readTime:al(e.readTime)}}(t)),Bo.resolve()}}]),e}(),Ph=function(){function e(){(0,W.Z)(this,e),this.overlays=new ls(To.comparator),this.es=new Map}return(0,H.Z)(e,[{key:"getOverlay",value:function(e,t){return Bo.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Pc();return Bo.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),Bo.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Bo.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Pc(),i=t.length+1,a=new To(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Bo.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ls((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Pc(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Pc(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Bo.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new cf(t,n));var a=this.es.get(t);void 0===a&&(a=Uc(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Lh=function(){function e(){(0,W.Z)(this,e),this.ns=new ds(Mh.ss),this.rs=new ds(Mh.os)}return(0,H.Z)(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Mh(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Mh(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new To(new _o([])),r=new Mh(n,e),i=new Mh(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new To(new _o([])),n=new Mh(t,e),r=new Mh(t,e+1),i=Uc();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Mh(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Mh=function(){function e(t,n){(0,W.Z)(this,e),this.key=t,this._s=n}return(0,H.Z)(e,null,[{key:"ss",value:function(e,t){return To.comparator(e.key,t.key)||go(e._s,t._s)}},{key:"os",value:function(e,t){return go(e._s,t._s)||To.comparator(e.key,t.key)}}]),e}(),Fh=function(){function e(t,n){(0,W.Z)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ds(Mh.ss)}return(0,H.Z)(e,[{key:"checkEmpty",value:function(e){return Bo.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new uf(i,t,n,r);this.mutationQueue.push(a);var o,u=(0,Q.Z)(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Mh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Bo.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Bo.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Bo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Bo.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Bo.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Mh(t,0),i=new Mh(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Bo.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ds(go);return t.forEach((function(e){var t=new Mh(e,0),i=new Mh(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Bo.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;To.isDocumentKey(i)||(i=i.child(""));var a=new Mh(new To(i),0),o=new ds(go);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Bo.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;eo(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Bo.forEach(t.mutations,(function(i){var a=new Mh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Mh(t,0),r=this.gs.firstAfterOrEqual(n);return Bo.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Bo.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),jh=function(){function e(t){(0,W.Z)(this,e),this.Es=t,this.docs=new ls(To.comparator),this.size=0}return(0,H.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Bo.resolve(n?n.document.mutableCopy():bs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Oc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():bs.newInvalidDocument(e))})),Bo.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Oc(),i=new To(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Fo(Lo(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Bo.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Xa()}},{key:"As",value:function(e,t){return Bo.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Uh(this)}},{key:"getSize",value:function(e){return Bo.resolve(this.size)}}]),e}(),Uh=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this)).Yn=e,r}return(0,H.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Bo.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Eh),Vh=function(){function e(t){(0,W.Z)(this,e),this.persistence=t,this.Rs=new Nc((function(e){return xs(e)}),Es),this.lastRemoteSnapshotVersion=xo.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Lh,this.targetCount=0,this.vs=hh.Pn()}return(0,H.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Bo.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Bo.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Bo.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Bo.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Bo.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new hh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Bo.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Bo.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Bo.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Bo.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Bo.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Bo.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Bo.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Bo.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Bo.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Bo.resolve(n)}},{key:"containsKey",value:function(e,t){return Bo.resolve(this.Ps.containsKey(t))}}]),e}(),qh=function(){function e(t,n){var r=this;(0,W.Z)(this,e),this.Vs={},this.overlays={},this.Ss=new tu(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Vh(this),this.indexManager=new Wf,this.remoteDocumentCache=new jh((function(e){return r.referenceDelegate.xs(e)})),this.yt=new ff(n),this.Ns=new Rh(this.yt)}return(0,H.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ph,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Fh(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Ha("MemoryPersistence","Starting transaction:",e);var i=new Bh(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Bo.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Bh=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,H.Z)(n)}(Uo),zh=function(){function e(t){(0,W.Z)(this,e),this.persistence=t,this.Fs=new Lh,this.$s=null}return(0,H.Z)(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Xa()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Bo.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Bo.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Bo.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bo.forEach(this.Ls,(function(r){var i=To.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,xo.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return Bo.or([function(){return Bo.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Gh=function(){function e(t){(0,W.Z)(this,e),this.yt=t}return(0,H.Z)(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new zo("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pl,{unique:!0}),e.createObjectStore("documentMutations")}(e),Qh(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Bo.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Qh(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xo.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pl,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Bo.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Yl});t.createIndex("collectionPathOverlayIndex",$l,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Jl,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:jl});t.createIndex("documentKeyIndex",Ul),t.createIndex("collectionGroupIndex",Vl)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ql}).createIndex("sequenceNumberIndex",Kl,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Wl}).createIndex("documentKeyIndex",Hl,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=oh(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Bo.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Bo.forEach(r,(function(r){eo(r.userId===n.userId);var i=yf(t.yt,r);return ah(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new _o(n),o=function(e){return[0,Ol(e)]}(a);r.push(t.get(o).next((function(n){return n?Bo.resolve():function(n){return t.put({targetId:0,path:Ol(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Bo.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Gl});var n=t.store("collectionParents"),r=new Hf,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ol(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new _o(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=(0,a.Z)(e,3),r=(n[0],n[1]),o=(n[2],Rl(r));return i(o.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=mf(r),a=gf(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new To(_o.fromString(i.document.name).popFirst(5)):i.noDocument?To.fromSegments(i.noDocument.path):i.unknownDocument?To.fromSegments(i.unknownDocument.path):Xa()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Bo.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Sh(this.yt),a=new qh(zh.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Uc();yf(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Bo.forEach(r,(function(e,r){var o=new za(r),u=If.re(n.yt,o),s=a.getIndexManager(o),c=uh.re(o,n.yt,s,a.referenceDelegate);return new Dh(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new af(t,tu.at),e).next()}))}))}}]),e}();function Qh(e){e.createObjectStore("targetDocuments",{keyPath:Bl}).createIndex("documentTargetsIndex",zl,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ql,{unique:!0}),e.createObjectStore("targetGlobal")}var Kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wh=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if((0,W.Z)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new io(ro.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wh(this,i),this.ii=n+"main",this.yt=new ff(s),this.ri=new Go(this.ii,this.Xs,new Gh(this.yt)),this.Cs=new dh(this.referenceDelegate,this.yt),this.remoteDocumentCache=Sh(this.yt),this.Ns=new Ef,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Ya("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,H.Z)(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new io(ro.FAILED_PRECONDITION,Kh);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new tu(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=(0,l.Z)((0,c.Z)().mark((function n(r){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=(0,l.Z)((0,c.Z)().mark((function t(n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Yh(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Wo(t))return Ha("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ha("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Hh(e).get("owner").next((function(e){return Bo.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Yh(e).delete(this.clientId)}},{key:"yi",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r,i,a=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=of(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Bo.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=(0,Q.Z)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Bo.resolve(!0):Hh(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new io(ro.FAILED_PRECONDITION,Kh);return!1}}return!(!t.networkEnabled||!t.inForeground)||Yh(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ha("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new af(e,tu.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Yh(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return uh.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new $f(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return If.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Ha("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?rf:14===i?nf:13===i?tf:12===i?ef:11===i?Xl:void Xa();return this.ri.runTransaction(e,o,u,(function(i){return a=new af(i,r.Ss?r.Ss.next():tu.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Ya("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new io(ro.FAILED_PRECONDITION,jo);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Hh(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new io(ro.FAILED_PRECONDITION,Kh)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hh(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Hh(e);return n.get("owner").next((function(e){return t.mi(e)?(Ha("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Bo.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ya("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),ae()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ha("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ya("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Jt){Ya("Failed to set zombie client id.",Jt)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Jt){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Go.C()}}]),e}();function Hh(e){return of(e,"owner")}function Yh(e){return of(e,"clientMetadata")}function $h(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Jh=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return(0,H.Z)(e,null,[{key:"Ci",value:function(t,n){var r,i=Uc(),a=Uc(),o=(0,Q.Z)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Xh=function(){function e(){(0,W.Z)(this,e),this.xi=!1}return(0,H.Z)(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Os(t))return Bo.resolve(null);var r=Ls(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Fs(t,null,"F"),r=Ls(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Uc.apply(void 0,(0,G.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Fs(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Os(t)||r.isEqual(xo.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Ka()<=Ce.DEBUG&&Ha("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vs(t)),i.Bi(e,o,t,Po(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new ds(zs(e));return t.forEach((function(t,r){qs(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Ka()<=Ce.DEBUG&&Ha("QueryEngine","Using full collection scan to execute query:",Vs(t)),this.Ni.getDocumentsMatchingQuery(e,t,Mo.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ed=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new ls(go),this.Ui=new Nc((function(e){return xs(e)}),Es),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return(0,H.Z)(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function td(e,t,n,r){return new ed(e,t,n,r)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return rd=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Uc(),s=(0,Q.Z)(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=(0,Q.Z)(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=(0,Q.Z)(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=(0,Q.Z)(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t){var n=no(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Bo.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);eo(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Uc(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ad(e){var t=no(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function od(e,t){var n=no(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(fu.EMPTY_BYTE_STRING,xo.min()).withLastLimboFreeSnapshotVersion(xo.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Oc(),s=Uc();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ud(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(xo.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Bo.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function ud(e,t,n){var r=Uc(),i=Uc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Oc();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(xo.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ha("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function sd(e,t){var n=no(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function cd(e,t){var n=no(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Bo.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new lf(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function ld(e,t,n){return fd.apply(this,arguments)}function fd(){return fd=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=no(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Wo(e.t1)){e.next=12;break}throw e.t1;case 12:Ha("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),fd.apply(this,arguments)}function hd(e,t,n){var r=no(e),i=xo.min(),a=Uc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=no(e),i=r.Ui.get(n);return void 0!==i?Bo.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Ls(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:xo.min(),n?a:Uc())})).next((function(e){return vd(r,Bs(t),e),{documents:e,Hi:a}}))}))}function dd(e,t){var n=no(e),r=no(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function pd(e,t){var n=no(e),r=n.Ki.get(t)||xo.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Po(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return vd(n,t,e),e}))}function vd(e,t,n){var r=e.Ki.get(t)||xo.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function yd(e,t,n,r){return md.apply(this,arguments)}function md(){return md=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i){var a,o,u,s,l,f,h,d,p,v;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=no(t),o=Uc(),u=Oc(),s=(0,Q.Z)(r);try{for(s.s();!(l=s.n()).done;)f=l.value,h=n.Ji(f.metadata.name),f.document&&(o=o.add(h)),(d=n.Yi(f)).setReadTime(n.Xi(f.metadata.readTime)),u=u.insert(h,d)}catch(c){s.e(c)}finally{s.f()}return p=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,cd(a,function(e){return Ls(Cs(_o.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ud(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function gd(e,t){return bd.apply(this,arguments)}function bd(){return bd=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Uc(),e.next=3,cd(t,Ls(bf(n.bundledQuery)));case 3:return i=e.sent,a=no(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=al(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(fu.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function kd(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function wd(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function xd(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ed=function(){function e(t,n,r,i){(0,W.Z)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,H.Z)(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new io(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ya("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),_d=function(){function e(t,n,r){(0,W.Z)(this,e),this.targetId=t,this.state=n,this.error=r}return(0,H.Z)(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new io(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ya("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Sd=function(){function e(t,n){(0,W.Z)(this,e),this.clientId=t,this.activeTargetIds=n}return(0,H.Z)(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=qc(),o=0;i&&o<r.activeTargetIds.length;++o)i=cu(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ya("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Id=function(){function e(t,n){(0,W.Z)(this,e),this.clientId=t,this.onlineState=n}return(0,H.Z)(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ya("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Td=function(){function e(){(0,W.Z)(this,e),this.activeTargetIds=qc()}return(0,H.Z)(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Zd=function(){function e(t,n,r,i,a){(0,W.Z)(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ls(go),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=kd(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Td),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return(0,H.Z)(e,[{key:"start",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r,i,a,o,u,s,l,f,h,d=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=(0,Q.Z)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(kd(this.persistenceKey,i)))&&(o=Sd.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),l=(0,Q.Z)(this.cr);try{for(l.s();!(f=l.n()).done;)h=f.value,this.rr(h)}catch(c){l.e(c)}finally{l.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(xd(this.persistenceKey,e));if(n){var r=_d.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(xd(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ha("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ha("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ha("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ha("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Ya("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,l.Z)((0,c.Z)().mark((function e(){var r,i,a,o,u,s,l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=tu.at;if(null!=e)try{var n=JSON.parse(e);eo("number"==typeof n),t=n}catch(e){Ya("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==tu.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return l=t.Or(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Ed(this.currentUser,e,t,n),i=wd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=wd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=xd(this.persistenceKey,e),i=new _d(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Sd.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ed.Zi(new za(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return _d.Zi(r,t)}},{key:"yr",value:function(e){return Id.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Ha("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=qc();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Nd=function(){function e(){(0,W.Z)(this,e),this.Lr=new Td,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,H.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Td,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Cd=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Od=function(){function e(){var t=this;(0,W.Z)(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return(0,H.Z)(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Ha("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,Q.Z)(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Ha("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,Q.Z)(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ad={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Dd=function(){function e(t){(0,W.Z)(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return(0,H.Z)(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Rd=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,H.Z)(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new qa;o.setWithCredentials(!0),o.listenOnce(Ma.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case La.NO_ERROR:var t=o.getResponseJson();Ha("Connection","XHR received:",JSON.stringify(t)),i(t);break;case La.TIMEOUT:Ha("Connection",'RPC "'+e+'" timed out'),a(new io(ro.DEADLINE_EXCEEDED,"Request time out"));break;case La.HTTP_ERROR:var n=o.getStatus();if(Ha("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ro).indexOf(t)>=0?t:ro.UNKNOWN}(u.status);a(new io(s,u.message))}else a(new io(ro.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new io(ro.UNAVAILABLE,"Connection failed."));break;default:Xa()}}finally{Ha("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ra(),a=Pa(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ua({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Ha("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Dd({Hr:function(e){l?Ha("Connection","Not sending because WebChannel is closed:",e):(c||(Ha("Connection","Opening WebChannel transport."),s.open(),c=!0),Ha("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Va.EventType.OPEN,(function(){l||Ha("Connection","WebChannel transport opened.")})),h(s,Va.EventType.CLOSE,(function(){l||(l=!0,Ha("Connection","WebChannel transport closed"),f.io())})),h(s,Va.EventType.ERROR,(function(e){l||(l=!0,$a("Connection","WebChannel transport errored:",e),f.io(new io(ro.UNAVAILABLE,"The operation could not be completed")))})),h(s,Va.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];eo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ha("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=xc[e];if(void 0!==t)return Zc(t)}(a),u=i.message;void 0===o&&(o=ro.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new io(o,u)),s.close()}else Ha("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Fa.STAT_EVENT,(function(e){e.stat===ja.PROXY?Ha("Connection","Detected buffering proxy"):e.stat===ja.NOPROXY&&Ha("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){(0,W.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,H.Z)(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Ha("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Ha("RestConnection","Received: ",e),e}),(function(t){throw $a("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ga,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Ad[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Pd(){return"undefined"!=typeof window?window:null}function Ld(){return"undefined"!=typeof document?document:null}function Md(e){return new tl(e,!0)}var Fd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,W.Z)(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return(0,H.Z)(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Ha("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),jd=function(){function e(t,n,r,i,a,o,u,s){(0,W.Z)(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Fd(t,n)}return(0,H.Z)(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===ro.RESOURCE_EXHAUSTED?(Ya(n.toString()),Ya("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===ro.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];e.So===n&&e.Go(i,o)}),(function(n){t((function(){var t=new io(ro.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro((0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Ha("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Ha("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ud=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i,a,o,u){var s;return(0,W.Z)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return(0,H.Z)(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xa()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(eo(void 0===t||"string"==typeof t),fu.fromBase64String(t||"")):(eo(void 0===t||t instanceof Uint8Array),fu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ro.UNKNOWN:Zc(e.code);return new io(t,e.message||"")}(o);n=new Kc(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=cl(e,s.document.name),l=al(s.document.updateTime),f=s.document.createTime?al(s.document.createTime):xo.min(),h=new ms({mapValue:{fields:s.document.fields}}),d=bs.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Gc(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=cl(e,y.document),g=y.readTime?al(y.readTime):xo.min(),b=bs.newNoDocument(m,g),k=y.removedTargetIds||[];n=new Gc([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=cl(e,w.document),E=w.removedTargetIds||[];n=new Gc([],E,x,null)}else{if(!("filter"in t))return Xa();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new Ic(S),T=_.targetId;n=new Qc(T,I)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return xo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?xo.min():t.readTime?al(t.readTime):xo.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=hl(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=_s(r)?{documents:bl(e,r)}:{query:kl(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rl(e,t.resumeToken):t.snapshotVersion.compareTo(xo.min())>0&&(n.readTime=nl(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xa()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=hl(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(jd),Vd=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i,a,o,u){var s;return(0,W.Z)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return(0,H.Z)(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Mt((0,Pt.Z)(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(eo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(eo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?al(e.updateTime):al(t);return n.isEqual(xo.min())&&(n=al(t)),new sc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=al(e.commitTime);return this.listener.Zo(n,t)}return eo(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=hl(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ml(t.yt,e)}))};this.Bo(n)}}]),n}(jd),qd=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i,a){var o;return(0,W.Z)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return(0,H.Z)(n,[{key:"su",value:function(){if(this.nu)throw new io(ro.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.connection.ao(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ro.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new io(ro.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,a.Z)(o,2),s=u[0],c=u[1];return i.connection._o(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ro.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new io(ro.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return(0,H.Z)((function e(){(0,W.Z)(this,e)}))}());function Bd(){return Bd=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),i=function(e,t){var n=kl(e,t);return{structuredAggregationQuery:{aggregations:[{count:{},alias:"count_alias"}],structuredQuery:n.structuredQuery},parent:n.parent}}(r.yt,Ls(n)),a=i.parent,r.connection.co||delete i.parent,e.next=4,r._o("RunAggregationQuery",a,i,1);case 4:return e.abrupt("return",e.sent.filter((function(e){return!!e.result})).map((function(e){return e.result.aggregateFields})));case 5:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}var zd=function(){function e(t,n){(0,W.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return(0,H.Z)(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Ya(t),this.ou=!1):Ha("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Gd=(0,H.Z)((function e(t,n,r,i,a){var o=this;(0,W.Z)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=np(o),!e.t0){e.next=5;break}return Ha("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=no(t))._u.add(4),e.next=4,Wd(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Qd(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new zd(r,i)}));function Qd(e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!np(t)){e.next=18;break}n=(0,Q.Z)(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Kd.apply(this,arguments)}function Wd(e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,Q.Z)(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Hd.apply(this,arguments)}function Yd(e,t){var n=no(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),tp(n)?ep(n):Op(n).ko()&&Jd(n,t))}function $d(e,t){var n=no(e),r=Op(n);n.du.delete(t),r.ko()&&Xd(n,t),0===n.du.size&&(r.ko()?r.Fo():np(n)&&n.gu.set("Unknown"))}function Jd(e,t){e.yu.Ot(t.targetId),Op(e).zo(t)}function Xd(e,t){e.yu.Ot(t),Op(e).Ho(t)}function ep(e){e.yu=new Hc({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),Op(e).start(),e.gu.uu()}function tp(e){return np(e)&&!Op(e).No()&&e.du.size>0}function np(e){return 0===no(e)._u.size}function rp(e){e.yu=void 0}function ip(e){return ap.apply(this,arguments)}function ap(){return ap=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Jd(t,e)}));case 1:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e,t){return up.apply(this,arguments)}function up(){return up=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rp(t),tp(t)?(t.gu.hu(n),ep(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function sp(e,t,n){return cp.apply(this,arguments)}function cp(){return cp=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Kc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=(0,Q.Z)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ha("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,lp(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Gc?t.yu.Kt(n):n instanceof Qc?t.yu.Jt(n):t.yu.jt(n),r.isEqual(xo.min())){e.next=29;break}return e.prev=14,e.next=17,ad(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(fu.EMPTY_BYTE_STRING,n.snapshotVersion)),Xd(e,t);var r=new lf(n.target,t,1,n.sequenceNumber);Jd(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ha("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,lp(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),cp.apply(this,arguments)}function lp(e,t,n){return fp.apply(this,arguments)}function fp(){return fp=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wo(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Wd(t);case 5:t.gu.set("Offline"),r||(r=function(){return ad(t.localStore)}),t.asyncQueue.enqueueRetryable((0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ha("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Qd(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function hp(e,t){return t().catch((function(n){return lp(e,n,t)}))}function dp(e){return pp.apply(this,arguments)}function pp(){return pp=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=no(t),r=Ap(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!vp(n)){e.next=19;break}return e.prev=3,e.next=6,sd(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,yp(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,lp(n,e.t0);case 17:e.next=2;break;case 19:mp(n)&&gp(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),pp.apply(this,arguments)}function vp(e){return np(e)&&e.fu.length<10}function yp(e,t){e.fu.push(t);var n=Ap(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function mp(e){return np(e)&&!Ap(e).No()&&e.fu.length>0}function gp(e){Ap(e).start()}function bp(e){return kp.apply(this,arguments)}function kp(){return kp=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ap(t).eu();case 1:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function wp(e){return xp.apply(this,arguments)}function xp(){return xp=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ap(t),r=(0,Q.Z)(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),xp.apply(this,arguments)}function Ep(e,t,n){return _p.apply(this,arguments)}function _p(){return _p=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=sf.from(i,n,r),e.next=3,hp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,dp(t);case 5:case"end":return e.stop()}}),e)}))),_p.apply(this,arguments)}function Sp(e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ap(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Tc(i=n.code)||i===ro.ABORTED){e.next=7;break}return r=t.fu.shift(),Ap(t).Mo(),e.next=5,hp(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,dp(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:mp(t)&&gp(t);case 5:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Tp(e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=no(t)).asyncQueue.verifyOperationInProgress(),Ha("RemoteStore","RemoteStore received new credentials"),i=np(r),r._u.add(3),e.next=6,Wd(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Qd(r);case 12:case"end":return e.stop()}}),e)}))),Zp.apply(this,arguments)}function Np(e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=no(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Qd(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Wd(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Op(e){return e.pu||(e.pu=function(e,t,n){var r=no(e);return r.su(),new Ud(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:ip.bind(null,e),Zr:op.bind(null,e),Wo:sp.bind(null,e)}),e.wu.push(function(){var t=(0,l.Z)((0,c.Z)().mark((function t(n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),tp(e)?ep(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:rp(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Ap(e){return e.Iu||(e.Iu=function(e,t,n){var r=no(e);return r.su(),new Vd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:bp.bind(null,e),Zr:Sp.bind(null,e),tu:wp.bind(null,e),Zo:Ep.bind(null,e)}),e.wu.push(function(){var t=(0,l.Z)((0,c.Z)().mark((function t(n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,dp(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Ha("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Dp=function(){function e(t,n,r,i,a){(0,W.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,H.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new io(ro.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Rp(e,t){if(Ya("AsyncQueue","".concat(t,": ").concat(e)),Wo(e))return new io(ro.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Pp=function(){function e(t){(0,W.Z)(this,e),this.comparator=t?function(e,n){return t(e,n)||To.comparator(e.key,n.key)}:function(e,t){return To.comparator(e.key,t.key)},this.keyedMap=Dc(),this.sortedSet=new ls(this.comparator)}return(0,H.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Lp=function(){function e(){(0,W.Z)(this,e),this.Tu=new ls(To.comparator)}return(0,H.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Xa():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Mp=function(){function e(t,n,r,i,a,o,u,s,c){(0,W.Z)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return(0,H.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&js(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Pp.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Fp=(0,H.Z)((function e(){(0,W.Z)(this,e),this.Au=void 0,this.listeners=[]})),jp=(0,H.Z)((function e(){(0,W.Z)(this,e),this.queries=new Nc((function(e){return Us(e)}),js),this.onlineState="Unknown",this.Ru=new Set}));function Up(e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=no(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Fp),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Rp(e.t0,"Initialization of query '".concat(Vs(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Qp(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Vp.apply(this,arguments)}function qp(e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=no(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}function zp(e,t){var n,r=no(e),i=!1,a=(0,Q.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=(0,Q.Z)(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&Qp(r)}function Gp(e,t,n){var r=no(e),i=r.queries.get(t);if(i){var a,o=(0,Q.Z)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Qp(e){e.Ru.forEach((function(e){e.next()}))}var Kp=function(){function e(t,n,r){(0,W.Z)(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return(0,H.Z)(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,Q.Z)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Mp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Mp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),Wp=function(){function e(t,n){(0,W.Z)(this,e),this.ku=t,this.byteLength=n}return(0,H.Z)(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),Hp=function(){function e(t){(0,W.Z)(this,e),this.yt=t}return(0,H.Z)(e,[{key:"Ji",value:function(e){return cl(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?vl(this.yt,e.document,!1):bs.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return al(e)}}]),e}(),Yp=function(){function e(t,n,r){(0,W.Z)(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$p(t)}return(0,H.Z)(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=_o.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new Hp(this.yt),i=(0,Q.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=(0,Q.Z)(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Uc()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yd(this.localStore,new Hp(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=(0,Q.Z)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,gd(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function $p(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Jp=(0,H.Z)((function e(t){(0,W.Z)(this,e),this.key=t})),Xp=(0,H.Z)((function e(t){(0,W.Z)(this,e),this.key=t})),ev=function(){function e(t,n){(0,W.Z)(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Uc(),this.mutatedKeys=Uc(),this.Gu=zs(t),this.Qu=new Pp(this.Gu)}return(0,H.Z)(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Lp,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qs(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xa()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new Mp(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Lp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Uc(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Xp(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Jp(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=Uc();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Mp.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),tv=(0,H.Z)((function e(t,n,r){(0,W.Z)(this,e),this.query=t,this.targetId=n,this.view=r})),nv=(0,H.Z)((function e(t){(0,W.Z)(this,e),this.key=t,this.nc=!1})),rv=function(){function e(t,n,r,i,a,o){(0,W.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Nc((function(e){return Us(e)}),js),this.rc=new Map,this.oc=new Set,this.uc=new ls(To.comparator),this.cc=new Map,this.ac=new Lh,this.hc={},this.lc=new Map,this.fc=hh.vn(),this.onlineState="Unknown",this.dc=void 0}return(0,H.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function iv(e,t){return av.apply(this,arguments)}function av(){return av=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$v(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,cd(r.localStore,Ls(n));case 8:return u=e.sent,r.isPrimaryClient&&Yd(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,ov(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e,t,n,r,i){return uv.apply(this,arguments)}function uv(){return uv=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i,a){var o,u,s,f,h,d;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i){var a,o,u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,hd(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Tv(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,hd(t.localStore,n,!0);case 3:return o=e.sent,u=new ev(n,o.Hi),s=u.Wu(o.documents),f=zc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=u.applyChanges(s,t.isPrimaryClient,f),Tv(t,r,h.Xu),d=new tv(n,r,u),e.abrupt("return",(t.ic.set(n,d),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}function sv(e,t){return cv.apply(this,arguments)}function cv(){return cv=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=no(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!js(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ld(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),$d(r.remoteStore,i.targetId),Sv(r,i.targetId)})).catch(Vo);case 9:e.next=14;break;case 11:return Sv(r,i.targetId),e.next=14,ld(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function lv(e,t,n){return fv.apply(this,arguments)}function fv(){return fv=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jv(t),e.prev=1,e.next=4,function(e,t){var n,r,i=no(e),a=wo.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Uc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Oc(),s=Uc();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=(0,Q.Z)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=vc(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new gc(c.key,l,gs(l.value.mapValue),cc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Rc(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new ls(go)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Cv(i,a.changes);case 9:return e.next=11,dp(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Rp(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),fv.apply(this,arguments)}function hv(e,t){return dv.apply(this,arguments)}function dv(){return dv=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),e.prev=1,e.next=4,od(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(eo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?eo(n.nc):e.removedDocuments.size>0&&(eo(n.nc),n.nc=!1))})),e.next=8,Cv(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Vo(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),dv.apply(this,arguments)}function pv(e,t,n){var r=no(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=no(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=(0,Q.Z)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Qp(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function vv(e,t,n){return yv.apply(this,arguments)}function yv(){return yv=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o,u,s,l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=no(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ls(To.comparator)).insert(o,bs.newNoDocument(o,xo.min())),s=Uc().add(o),l=new Bc(xo.min(),new Map,new ds(go),u,s),e.next=9,hv(i,l);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),Nv(i),e.next=16;break;case 14:return e.next=16,ld(i.localStore,n,!1).then((function(){return Sv(i,n,r)})).catch(Vo);case 16:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}function mv(e,t){return gv.apply(this,arguments)}function gv(){return gv=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),i=n.batch.batchId,e.prev=1,e.next=4,id(r.localStore,n);case 4:return a=e.sent,_v(r,i,null),Ev(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Cv(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Vo(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gv.apply(this,arguments)}function bv(e,t,n){return kv.apply(this,arguments)}function kv(){return kv=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=no(t),e.prev=1,e.next=4,function(e,t){var n=no(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return eo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,_v(i,n,r),Ev(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Cv(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Vo(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),kv.apply(this,arguments)}function wv(e,t){return xv.apply(this,arguments)}function xv(){return xv=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return np((r=no(t)).remoteStore)||Ha("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=no(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Rp(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),xv.apply(this,arguments)}function Ev(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function _v(e,t,n){var r=no(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Sv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,Q.Z)(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Iv(e,t)}))}function Iv(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&($d(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Nv(e))}function Tv(e,t,n){var r,i=(0,Q.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Jp?(e.ac.addReference(a.key,t),Zv(e,a)):a instanceof Xp?(Ha("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Iv(e,a.key)):Xa()}}catch(o){i.e(o)}finally{i.f()}}function Zv(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Ha("SyncEngine","New document in limbo: "+n),e.oc.add(r),Nv(e))}function Nv(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new To(_o.fromString(t)),r=e.fc.next();e.cc.set(r,new nv(n)),e.uc=e.uc.insert(n,r),Yd(e.remoteStore,new lf(Ls(Cs(n.path)),r,2,tu.at))}}function Cv(e,t,n){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o,u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=no(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Jh.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u,s,l,f;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Bo.forEach(n,(function(t){return Bo.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Bo.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Wo(e.t0)){e.next=10;break}throw e.t0;case 10:Ha("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=(0,Q.Z)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),l=s.snapshotVersion,f=s.withLastLimboFreeSnapshotVersion(l),r.qi=r.qi.insert(u,f))}catch(c){i.e(c)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Av(e,t){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=no(t)).currentUser.isEqual(n)){e.next=11;break}return Ha("SyncEngine","User change. New user:",n.toKey()),e.next=5,nd(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new io(ro.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Cv(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}function Rv(e,t){var n=no(e),r=n.cc.get(t);if(r&&r.nc)return Uc().add(r.key);var i=Uc(),a=n.rc.get(t);if(!a)return i;var o,u=(0,Q.Z)(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Pv(e,t){return Lv.apply(this,arguments)}function Lv(){return Lv=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),e.next=3,hd(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&Tv(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),Lv.apply(this,arguments)}function Mv(e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),e.abrupt("return",pd(r.localStore,n).then((function(e){return Cv(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function jv(e,t,n,r){return Uv.apply(this,arguments)}function Uv(){return Uv=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i){var a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=no(t),e.next=3,function(e,t){var n=no(e),r=no(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Bo.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,dp(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(_v(a,n,i||null),Ev(a,n),function(e,t){no(no(e).mutationQueue).An(t)}(a.localStore,n)):Xa();case 11:return e.next=13,Cv(a,o);case 13:e.next=16;break;case 15:Ha("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Uv.apply(this,arguments)}function Vv(e,t){return qv.apply(this,arguments)}function qv(){return qv=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u,s,l,f;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($v(r=no(t)),Jv(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Bv(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Np(r.remoteStore,!0);case 9:o=(0,Q.Z)(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Yd(r.remoteStore,s)}catch(c){o.e(c)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return l=[],f=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return Sv(r,t),ld(r.localStore,t,!0)})),$d(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Bv(r,l);case 21:return function(e){var t=no(e);t.cc.forEach((function(e,n){$d(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new ls(To.comparator)}(r),r.dc=!1,e.next=25,Np(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function Bv(e,t,n){return zv.apply(this,arguments)}function zv(){return zv=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p,v,y,m,g;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=no(t),a=[],o=[],u=(0,Q.Z)(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(l=s.value,f=void 0,!(h=i.rc.get(l))||0===h.length){e.next=34;break}return e.next=11,cd(i.localStore,Ls(h[0]));case 11:f=e.sent,d=(0,Q.Z)(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,y=i.ic.get(v),e.next=20,Pv(i,y);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,dd(i.localStore,l);case 36:return g=e.sent,e.next=39,cd(i.localStore,g);case 39:return f=e.sent,e.next=42,ov(i,Gv(g),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),zv.apply(this,arguments)}function Gv(e){return Ns(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Qv(e){var t=no(e);return no(no(t.localStore).persistence).vi()}function Kv(e,t,n,r){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i){var a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=no(t)).dc){e.next=3;break}return e.abrupt("return",void Ha("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,pd(a.localStore,Bs(o[0]));case 10:return u=e.sent,s=Bc.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,fu.EMPTY_BYTE_STRING),e.next=14,Cv(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,ld(a.localStore,n,!0);case 17:return Sv(a,n,i),e.abrupt("break",20);case 19:Xa();case 20:case"end":return e.stop()}}),e)}))),Wv.apply(this,arguments)}function Hv(e,t,n){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=$v(t)).dc){e.next=45;break}a=(0,Q.Z)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Ha("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,dd(i.localStore,u);case 12:return s=e.sent,e.next=15,cd(i.localStore,s);case 15:return l=e.sent,e.next=18,ov(i,Gv(s),l.targetId,!1,l.resumeToken);case 18:Yd(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=(0,Q.Z)(r),e.prev=30,d=(0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,ld(i.localStore,t,!1).then((function(){$d(i.remoteStore,t),Sv(i,t)})).catch(Vo);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Yv.apply(this,arguments)}function $v(e){var t=no(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vv.bind(null,t),t.sc.Wo=zp.bind(null,t.eventManager),t.sc.wc=Gp.bind(null,t.eventManager),t}function Jv(e){var t=no(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bv.bind(null,t),t}function Xv(e,t,n){var r=no(e);(function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=no(e),r=al(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress($p(i)),a=new Yp(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Cv(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=no(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",($a("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var ey=function(){function e(){(0,W.Z)(this,e),this.synchronizeTabs=!1}return(0,H.Z)(e,[{key:"initialize",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=Md(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return td(this.persistence,new Xh,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new qh(zh.Bs,this.yt)}},{key:"gc",value:function(e){return new Nd}},{key:"terminate",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ty=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a;return(0,W.Z)(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,H.Z)(n,[{key:"initialize",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var r=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt((0,Pt.Z)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,Jv(this.Ac.syncEngine);case 6:return e.next=8,dp(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return td(this.persistence,new Xh,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new bh(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new eu(t,this.persistence);return new Xo(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=$h(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ih.withCacheSize(this.cacheSizeBytes):ih.DEFAULT;return new Wh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Pd(),Ld(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Nd}}]),n}(ey),ny=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,H.Z)(n,[{key:"initialize",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var r,i=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt((0,Pt.Z)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Zd,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:jv.bind(null,r),$r:Kv.bind(null,r),Br:Hv.bind(null,r),vi:Qv.bind(null,r),Mr:Mv.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vv(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=Pd();if(!Zd.C(t))throw new io(ro.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$h(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zd(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ty),ry=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,[{key:"initialize",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return pv(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Av.bind(null,this.syncEngine),e.next=12,Np(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new jp}},{key:"createDatastore",value:function(e){var t,n=Md(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Rd(t));return function(e,t,n,r){return new qd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return pv(o.syncEngine,e,0)},a=Od.C()?new Od:new Cd,new Gd(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new rv(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=no(t),Ha("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Wd(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function iy(e,t,n){if(!n)throw new io(ro.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ay(e,t,n,r){if(!0===t&&!0===r)throw new io(ro.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function oy(e){if(!To.isDocumentKey(e))throw new io(ro.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function uy(e){if(To.isDocumentKey(e))throw new io(ro.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Xa()}function cy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new io(ro.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sy(e);throw new io(ro.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function ly(e,t){if(t<=0)throw new io(ro.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var fy=new Map,hy=function(){function e(t){var n;if((0,W.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new io(ro.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new io(ro.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ay("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,H.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),dy=function(){function e(t,n,r,i){(0,W.Z)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hy({}),this._settingsFrozen=!1}return(0,H.Z)(e,[{key:"app",get:function(){if(!this._app)throw new io(ro.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new io(ro.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new uo;switch(e.type){case"gapi":var t=e.client;return new fo(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new io(ro.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=fy.get(e);t&&(Ha("ComponentProvider","Removing Datastore"),fy.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function py(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=cy(e,dy))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&$a("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=za.MOCK_USER;else{o=de(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new io(ro.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new za(s)}e._authCredentials=new so(new oo(o,u))}}var vy=function(){function e(t,n,r){(0,W.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,H.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new my(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),yy=function(){function e(t,n,r){(0,W.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,H.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),my=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a;return(0,W.Z)(this,n),(a=t.call(this,e,r,Cs(i)))._path=i,a.type="collection",a}return(0,H.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new vy(this.firestore,null,new To(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(yy);function gy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Se(e),iy("collection","path",t),e instanceof dy){var a=_o.fromString.apply(_o,[t].concat(r));return uy(a),new my(e,null,a)}if(!(e instanceof vy||e instanceof my))throw new io(ro.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_o.fromString.apply(_o,[t].concat(r)));return uy(o),new my(e.firestore,null,o)}function by(e,t){if(e=cy(e,dy),iy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new io(ro.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new yy(e,null,function(e){return new Zs(_o.emptyPath(),e)}(t))}function ky(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Se(e),1===arguments.length&&(t=mo.R()),iy("doc","path",t),e instanceof dy){var a=_o.fromString.apply(_o,[t].concat(r));return oy(a),new vy(e,null,new To(a))}if(!(e instanceof vy||e instanceof my))throw new io(ro.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_o.fromString.apply(_o,[t].concat(r)));return oy(o),new vy(e.firestore,e instanceof my?e.converter:null,new To(o))}function wy(e,t){return e=Se(e),t=Se(t),(e instanceof vy||e instanceof my)&&(t instanceof vy||t instanceof my)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function xy(e,t){return e=Se(e),t=Se(t),e instanceof yy&&t instanceof yy&&e.firestore===t.firestore&&js(e._query,t._query)&&e.converter===t.converter}function Ey(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,l.Z)((0,c.Z)().mark((function r(){var i;return(0,c.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var _y=function(){function e(t){(0,W.Z)(this,e),this.observer=t,this.muted=!1}return(0,H.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Ya("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Sy=function(){function e(t,n){var r=this;(0,W.Z)(this,e),this.Pc=t,this.yt=n,this.metadata=new ao,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return(0,H.Z)(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new Wp(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Iy=(0,H.Z)((function e(){(0,W.Z)(this,e),this.type="AggregateField"})),Ty=function(){function e(t,n){(0,W.Z)(this,e),this._data=n,this.type="AggregateQuerySnapshot",this.query=t}return(0,H.Z)(e,[{key:"data",value:function(){return this._data}}]),e}(),Zy=function(){function e(t,n,r){(0,W.Z)(this,e),this.query=t,this.datastore=n,this.userDataWriter=r}return(0,H.Z)(e,[{key:"run",value:function(){var e=this;return function(e,t){return Bd.apply(this,arguments)}(this.datastore,this.query._query).then((function(t){eo(void 0!==t[0]);var n=Object.entries(t[0]).filter((function(e){var t=(0,a.Z)(e,2),n=t[0];t[1];return"count_alias"===n})).map((function(t){var n=(0,a.Z)(t,2),r=(n[0],n[1]);return e.userDataWriter.convertValue(r)}))[0];return eo("number"==typeof n),Promise.resolve(new Ty(e.query,{count:n}))}))}}]),e}(),Ny=function(){function e(t){(0,W.Z)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,H.Z)(e,[{key:"lookup",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new io(ro.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),i=hl(r.yt)+"/documents",a={documents:n.map((function(e){return sl(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=yl(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());eo(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new _c(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=To.fromPath(t);n.mutations.push(new Sc(r,n.precondition(r)))})),e.next=7,function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),i=hl(r.yt)+"/documents",a={writes:n.map((function(e){return ml(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xa();t=xo.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new io(ro.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xo.min())?cc.exists(!1):cc.updateTime(t):cc.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xo.min()))throw new io(ro.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cc.updateTime(t)}return cc.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Cy=function(){function e(t,n,r,i,a){(0,W.Z)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Fd(this.asyncQueue,"transaction_retry")}return(0,H.Z)(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro((0,l.Z)((0,c.Z)().mark((function t(){var n,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Ny(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!uu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Tc(t)}return!1}}]),e}(),Oy=function(){function e(t,n,r,i){var a=this;(0,W.Z)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=za.UNAUTHENTICATED,this.clientId=mo.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ha("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ha("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,H.Z)(e,[{key:"getConfiguration",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new io(ro.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)((0,c.Z)().mark((function n(){var r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Rp(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Ay(e,t){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ha("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,nd(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ry(e,t){return Py.apply(this,arguments)}function Py(){return Py=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ly(t);case 3:return r=e.sent,Ha("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Tp(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Tp(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Ly(e){return My.apply(this,arguments)}function My(){return My=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ha("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Ay(t,new ey);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Fy(e){return jy.apply(this,arguments)}function jy(){return jy=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ha("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Ry(t,new ry);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),jy.apply(this,arguments)}function Uy(e){return Ly(e).then((function(e){return e.persistence}))}function Vy(e){return Ly(e).then((function(e){return e.localStore}))}function qy(e){return Fy(e).then((function(e){return e.remoteStore}))}function By(e){return Fy(e).then((function(e){return e.syncEngine}))}function zy(e){return Fy(e).then((function(e){return e.datastore}))}function Gy(e){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=iv.bind(null,n.syncEngine),r.onUnlisten=sv.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function Ky(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ao;return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function i(){return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new _y({next:function(a){t.enqueueAndForget((function(){return qp(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new io(ro.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new io(ro.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Kp(Cs(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Up(e,o)},i.next=3,Gy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Wy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ao;return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function i(){return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new _y({next:function(n){t.enqueueAndForget((function(){return qp(e,o)})),n.fromCache&&"server"===r.source?i.reject(new io(ro.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Kp(n,a,{includeMetadataChanges:!0,Nu:!0});return Up(e,o)},i.next=3,Gy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Hy=function(){function e(){var t=this;(0,W.Z)(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Fd(this,"async_queue_retry"),this.Wc=function(){var e=Ld();e&&Ha("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Ld();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return(0,H.Z)(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=Ld();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new ao;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Wo(e.t0)){e.next=12;break}throw e.t0;case 12:Ha("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ya("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Dp.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Xa()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=(0,Q.Z)(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,Q.Z)(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function Yy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=(0,Q.Z)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var $y=function(){function e(){(0,W.Z)(this,e),this._progressObserver={},this._taskCompletionResolver=new ao,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,H.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Jy=-1,Xy=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i,a){var o;return(0,W.Z)(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Hy,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return(0,H.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||rm(this),this._firestoreClient.terminate()}}]),n}(dy);function em(e,t,n){n||(n="(default)");var r=ht(e,"firestore");if(r.isInitialized(n)){var i=r.getImmediate({identifier:n});if(ge(r.getOptions(n),t))return i;throw new io(ro.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new io(ro.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function tm(e,t){var n="string"==typeof e?e:t||"(default)",r=ht("object"==typeof e?e:gt(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=ce(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&py.apply(void 0,[r].concat((0,G.Z)(i)))}return r}function nm(e){return e._firestoreClient||rm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rm(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new nu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Oy(e._authCredentials,e._appCheckCredentials,e._queue,r)}function im(e,t){pm(e=cy(e,Xy));var n=nm(e),r=e._freezeSettings(),i=new ry;return om(n,i,new ty(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function am(e){pm(e=cy(e,Xy));var t=nm(e),n=e._freezeSettings(),r=new ry;return om(t,r,new ny(r,n.cacheSizeBytes))}function om(e,t,n){var r=new ao;return e.asyncQueue.enqueue((0,l.Z)((0,c.Z)().mark((function i(){var a;return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ay(e,n);case 3:return i.next=5,Ry(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ro.FAILED_PRECONDITION||e.code===ro.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:$a("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function um(e){if(e._initialized&&!e._terminated)throw new io(ro.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ao;return e._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Go.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Go.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()($h(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function sm(e){return function(e){var t=new ao;return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=wv,n.next=3,By(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(nm(e=cy(e,Xy)))}function cm(e){return function(e){return e.asyncQueue.enqueue((0,l.Z)((0,c.Z)().mark((function t(){var n,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uy(e);case 2:return n=t.sent,t.next=5,qy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=no(e);return t._u.delete(0),Qd(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(nm(e=cy(e,Xy)))}function lm(e){return function(e){return e.asyncQueue.enqueue((0,l.Z)((0,c.Z)().mark((function t(){var n,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uy(e);case 2:return n=t.sent,t.next=5,qy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=no(t))._u.add(0),e.next=4,Wd(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(nm(e=cy(e,Xy)))}function fm(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ot;ht(e,t).clearInstance(n)}(e.app,"firestore",e._databaseId.database),e._delete()}function hm(e,t){var n=nm(e=cy(e,Xy)),r=new $y;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Sy(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ey(e,t);if(e instanceof ArrayBuffer)return Ey(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Md(t));e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xv,t.next=3,By(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function dm(e,t){return function(e,t){return e.asyncQueue.enqueue((0,l.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=no(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,Vy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(nm(e=cy(e,Xy)),t).then((function(t){return t?new yy(e,null,t.query):null}))}function pm(e){if(e._initialized||e._terminated)throw new io(ro.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vm=function(){function e(t){(0,W.Z)(this,e),this._byteString=t}return(0,H.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(fu.fromBase64String(t))}catch(t){throw new io(ro.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(fu.fromUint8Array(t))}}]),e}(),ym=function(){function e(){(0,W.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new io(ro.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Io(n)}return(0,H.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();function mm(){return new ym("__name__")}var gm=(0,H.Z)((function e(t){(0,W.Z)(this,e),this._methodName=t})),bm=function(){function e(t,n){if((0,W.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new io(ro.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new io(ro.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,H.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return go(this._lat,e._lat)||go(this._long,e._long)}}]),e}(),km=/^__.*__$/,wm=function(){function e(t,n,r){(0,W.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,H.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new gc(e,this.data,this.fieldMask,t,this.fieldTransforms):new mc(e,this.data,t,this.fieldTransforms)}}]),e}(),xm=function(){function e(t,n,r){(0,W.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,H.Z)(e,[{key:"toMutation",value:function(e,t){return new gc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Em(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xa()}}var _m=function(){function e(t,n,r,i,a,o){(0,W.Z)(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,H.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return zm(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Em(this.sa)&&km.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Sm=function(){function e(t,n,r){(0,W.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||Md(t)}return(0,H.Z)(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _m({sa:e,methodName:t,fa:n,path:Io.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function Im(e){var t=e._freezeSettings(),n=Md(e._databaseId);return new Sm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tm(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);Um("Data must be an object, but it was:",o,r);var u,s,c=Fm(r,o);if(a.merge)u=new ys(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=(0,Q.Z)(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Vm(t,d,n);if(!o.contains(p))throw new io(ro.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Gm(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ys(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new wm(new ms(c),u,s)}var Zm=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gm);function Nm(e,t,n){return new _m({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var Cm=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n,[{key:"_toFieldTransform",value:function(e){return new uc(e.path,new Xs)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gm),Om=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,e))._a=r,i}return(0,H.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=Nm(this,e,!0),n=this._a.map((function(e){return Mm(e,t)})),r=new ec(n);return new uc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gm),Am=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,e))._a=r,i}return(0,H.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=Nm(this,e,!0),n=this._a.map((function(e){return Mm(e,t)})),r=new nc(n);return new uc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gm),Dm=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,e)).wa=r,i}return(0,H.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new ic(e.yt,Ws(e.yt,this.wa));return new uc(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gm);function Rm(e,t,n,r){var i=e.da(1,t,n);Um("Data must be an object, but it was:",i,r);var a=[],o=ms.empty();au(r,(function(e,r){var u=Bm(t,e,n);r=Se(r);var s=i.ca(u);if(r instanceof Zm)a.push(u);else{var c=Mm(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ys(a);return new xm(o,u,i.fieldTransforms)}function Pm(e,t,n,r,i,a){var o=e.da(1,t,n),u=[Vm(t,r,n)],s=[i];if(a.length%2!=0)throw new io(ro.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Vm(t,a[c])),s.push(a[c+1]);for(var l=[],f=ms.empty(),h=u.length-1;h>=0;--h)if(!Gm(l,u[h])){var d=u[h],p=s[h];p=Se(p);var v=o.ca(d);if(p instanceof Zm)l.push(d);else{var y=Mm(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new ys(l);return new xm(f,m,o.fieldTransforms)}function Lm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Mm(n,e.da(r?4:3,t))}function Mm(e,t){if(jm(e=Se(e)))return Um("Unsupported field value:",t,e),Fm(e,t);if(e instanceof gm)return function(e,t){if(!Em(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=(0,Q.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=Mm(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Se(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ws(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=wo.fromDate(e);return{timestampValue:nl(t.yt,n)}}if(e instanceof wo){var r=new wo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nl(t.yt,r)}}if(e instanceof bm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vm)return{bytesValue:rl(t.yt,e._byteString)};if(e instanceof vy){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ol(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(sy(e)))}(e,t)}function Fm(e,t){var n={};return ou(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):au(e,(function(e,r){var i=Mm(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wo||e instanceof bm||e instanceof vm||e instanceof vy||e instanceof gm)}function Um(e,t,n){if(!jm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=sy(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function Vm(e,t,n){if((t=Se(t))instanceof ym)return t._internalPath;if("string"==typeof t)return Bm(e,t);throw zm("Field path arguments must be of type string or ",e,!1,void 0,n)}var qm=new RegExp("[~\\*/\\[\\]]");function Bm(e,t,n){if(t.search(qm)>=0)throw zm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,Rt.Z)(ym,(0,G.Z)(t.split(".")))._internalPath}catch(r){throw zm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zm(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new io(ro.INVALID_ARGUMENT,u+e+s)}function Gm(e,t){return e.some((function(e){return e.isEqual(t)}))}var Qm=function(){function e(t,n,r,i,a){(0,W.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,H.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vy(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Km(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Wm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Km=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n,[{key:"data",value:function(){return Mt((0,Pt.Z)(n.prototype),"data",this).call(this)}}]),n}(Qm);function Wm(e,t){return"string"==typeof t?Bm(e,t):t instanceof ym?t._internalPath:t._delegate._internalPath}function Hm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new io(ro.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ym=(0,H.Z)((function e(){(0,W.Z)(this,e)})),$m=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n)}(Ym);function Jm(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Ym&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof tg})).length,n=e.filter((function(e){return e instanceof Xm})).length;if(t>1||t>0&&n>0)throw new io(ro.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=(0,Q.Z)(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var Xm=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a;return(0,W.Z)(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return(0,H.Z)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return gg(e._query,t),new yy(e.firestore,e.converter,Ms(e._query,t))}},{key:"_parse",value:function(e){var t=Im(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new io(ro.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){mg(o,a);var s,c=[],l=(0,Q.Z)(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(yg(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=yg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||mg(o,a),u=Lm(n,"where",o,"in"===a||"not-in"===a);return zu.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}($m);function eg(e,t,n){var r=t,i=Wm("where",e);return Xm._create(i,r,n)}var tg=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return(0,H.Z)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Gu.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=t.getFlattenedFilters(),a=(0,Q.Z)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;gg(r,o),r=Ms(r,o)}}catch(u){a.e(u)}finally{a.f()}}(e._query,t),new yy(e.firestore,e.converter,Ms(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ym);function ng(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((function(e){return kg("or",e)})),tg._create("or",t)}function rg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((function(e){return kg("and",e)})),tg._create("and",t)}var ig=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return(0,H.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new io(ro.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new io(ro.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ss(t,n);return function(e,t){if(null===As(e)){var n=Ds(e);null!==n&&bg(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new yy(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Zs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}($m);function ag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Wm("orderBy",e);return ig._create(r,n)}var og=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a;return(0,W.Z)(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return(0,H.Z)(n,[{key:"_apply",value:function(e){return new yy(e.firestore,e.converter,Fs(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}($m);function ug(e){return ly("limit",e),og._create("limit",e,"F")}function sg(e){return ly("limitToLast",e),og._create("limitToLast",e,"L")}var cg=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a;return(0,W.Z)(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,H.Z)(n,[{key:"_apply",value:function(e){var t=vg(e,this.type,this._docOrFields,this._inclusive);return new yy(e.firestore,e.converter,function(e,t){return new Zs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}($m);function lg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cg._create("startAt",t,!0)}function fg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cg._create("startAfter",t,!1)}var hg=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a;return(0,W.Z)(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,H.Z)(n,[{key:"_apply",value:function(e){var t=vg(e,this.type,this._docOrFields,this._inclusive);return new yy(e.firestore,e.converter,function(e,t){return new Zs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}($m);function dg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hg._create("endBefore",t,!1)}function pg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hg._create("endAt",t,!0)}function vg(e,t,n,r){if(n[0]=Se(n[0]),n[0]instanceof Qm)return function(e,t,n,r,i){if(!r)throw new io(ro.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=(0,Q.Z)(Ps(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Zu(t,r.key));else{var c=r.data.field(s.field);if(yu(c))throw new io(ro.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new io(ro.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Uu(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Im(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new io(ro.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new io(ro.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Rs(e)&&-1!==c.indexOf("/"))throw new io(ro.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(_o.fromString(c));if(!To.isDocumentKey(l))throw new io(ro.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new To(l);u.push(Zu(t,f))}else{var h=Lm(n,r,c);u.push(h)}}return new Uu(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function yg(e,t,n){if("string"==typeof(n=Se(n))){if(""===n)throw new io(ro.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rs(t)&&-1!==n.indexOf("/"))throw new io(ro.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(_o.fromString(n));if(!To.isDocumentKey(r))throw new io(ro.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zu(e,new To(r))}if(n instanceof vy)return Zu(e,n._key);throw new io(ro.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(sy(n),"."))}function mg(e,t){if(!Array.isArray(e)||0===e.length)throw new io(ro.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new io(ro.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function gg(e,t){if(t.isInequality()){var n=Ds(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new io(ro.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=As(e);null!==i&&bg(e,r,i)}var a=function(e,t){var n,r=(0,Q.Z)(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=(0,Q.Z)(a.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var u=i.value;if(t.indexOf(u.op)>=0)return u.op}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new io(ro.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new io(ro.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function bg(e,t,n){if(!n.isEqual(t))throw new io(ro.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}function kg(e,t){if(!(t instanceof Xm||t instanceof tg))throw new io(ro.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}var wg=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xa()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return au(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new bm(pu(e.latitude),pu(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=mu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=du(e);return new wo(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=_o.fromString(e);eo(Cl(n));var r=new ru(n.get(1),n.get(3)),i=new To(n.popFirst(5));return r.isEqual(t)||Ya("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function xg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Eg=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,H.Z)(n,[{key:"convertBytes",value:function(e){return new vm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vy(this.firestore,null,t)}}]),n}(wg),_g=function(){function e(t,n){(0,W.Z)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,H.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Sg=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i,a,o,u){var s;return(0,W.Z)(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,H.Z)(n,[{key:"exists",value:function(){return Mt((0,Pt.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Wm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Qm),Ig=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mt((0,Pt.Z)(n.prototype),"data",this).call(this,e)}}]),n}(Sg),Tg=function(){function e(t,n,r,i){(0,W.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _g(i.hasPendingWrites,i.fromCache),this.query=r}return(0,H.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ig(n._firestore,n._userDataWriter,r.key,r,new _g(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new io(ro.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ig(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _g(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ig(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _g(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Zg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Zg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xa()}}function Ng(e,t){return e instanceof Sg&&t instanceof Sg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Tg&&t instanceof Tg&&e._firestore===t._firestore&&xy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Cg(e){e=cy(e,vy);var t=cy(e.firestore,Xy);return Ky(nm(t),e._key).then((function(n){return zg(t,e,n)}))}var Og=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,H.Z)(n,[{key:"convertBytes",value:function(e){return new vm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vy(this.firestore,null,t)}}]),n}(wg);function Ag(e){e=cy(e,vy);var t=cy(e.firestore,Xy),n=nm(t),r=new Og(t);return function(e,t){var n=new ao;return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function r(){return(0,c.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=no(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new io(ro.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Rp(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Vy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Sg(t,r,e._key,n,new _g(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Dg(e){e=cy(e,vy);var t=cy(e.firestore,Xy);return Ky(nm(t),e._key,{source:"server"}).then((function(n){return zg(t,e,n)}))}function Rg(e){e=cy(e,yy);var t=cy(e.firestore,Xy),n=nm(t),r=new Og(t);return Hm(e._query),Wy(n,e._query).then((function(n){return new Tg(t,r,e,n)}))}function Pg(e){e=cy(e,yy);var t=cy(e.firestore,Xy),n=nm(t),r=new Og(t);return function(e,t){var n=new ao;return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function r(){return(0,c.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hd(t,n,!0);case 3:i=e.sent,a=new ev(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Rp(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Vy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Tg(t,r,e,n)}))}function Lg(e){e=cy(e,yy);var t=cy(e.firestore,Xy),n=nm(t),r=new Og(t);return Wy(n,e._query,{source:"server"}).then((function(n){return new Tg(t,r,e,n)}))}function Mg(e,t,n){e=cy(e,vy);var r=cy(e.firestore,Xy),i=xg(e.converter,t,n);return Bg(r,[Tm(Im(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cc.none())])}function Fg(e,t,n){e=cy(e,vy);for(var r=cy(e.firestore,Xy),i=Im(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Bg(r,[("string"==typeof(t=Se(t))||t instanceof ym?Pm(i,"updateDoc",e._key,t,n,o):Rm(i,"updateDoc",e._key,t)).toMutation(e._key,cc.exists(!0))])}function jg(e){return Bg(cy(e.firestore,Xy),[new _c(e._key,cc.none())])}function Ug(e,t){var n=cy(e.firestore,Xy),r=ky(e),i=xg(e.converter,t);return Bg(n,[Tm(Im(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cc.exists(!1))]).then((function(){return r}))}function Vg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Se(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Yy(n[s])||(u=n[s],s++);var f,h,d,p={includeMetadataChanges:u.includeMetadataChanges};if(Yy(n[s])){var v=n[s];n[s]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[s+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof vy)h=cy(e.firestore,Xy),d=Cs(e._key.path),f={next:function(t){n[s]&&n[s](zg(h,e,t))},error:n[s+1],complete:n[s+2]};else{var y=cy(e,yy);h=cy(y.firestore,Xy),d=y._query;var m=new Og(h);f={next:function(e){n[s]&&n[s](new Tg(h,m,y,e))},error:n[s+1],complete:n[s+2]},Hm(e._query)}return function(e,t,n,r){var i=new _y(r),a=new Kp(t,i,n);return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Up,t.next=3,Gy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qp,t.next=3,Gy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nm(h),d,p,f)}function qg(e,t){return function(e,t){var n=new _y(t);return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){no(e).Ru.add(t),t.next()},t.next=3,Gy(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){no(e).Ru.delete(t)},t.next=3,Gy(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nm(e=cy(e,Xy)),Yy(t)?t:{next:t})}function Bg(e,t){return function(e,t){var n=new ao;return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function r(){return(0,c.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=lv,r.next=3,By(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(nm(e),t)}function zg(e,t,n){var r=n.docs.get(t._key),i=new Og(e);return new Sg(e,i,t._key,r,new _g(n.hasPendingWrites,n.fromCache),t.converter)}function Gg(e,t){return xy(e.query,t.query)&&ge(e.data(),t.data())}function Qg(e){var t=cy(e.firestore,Xy);return function(e,t,n){var r=new ao;return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function i(){var a,o;return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.t0=np,i.next=4,qy(e);case 4:if(i.t1=i.sent,!(0,i.t0)(i.t1)){i.next=13;break}return i.next=8,zy(e);case 8:a=i.sent,o=new Zy(t,a,n).run(),r.resolve(o),i.next=14;break;case 13:r.reject(new io(ro.UNAVAILABLE,"Failed to get count result because the client is offline."));case 14:i.next=19;break;case 16:i.prev=16,i.t2=i.catch(0),r.reject(i.t2);case 19:case"end":return i.stop()}}),i,null,[[0,16]])})))),r.promise}(nm(t),e,new Og(t))}var Kg={maxAttempts:5},Wg=function(){function e(t,n){(0,W.Z)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Im(t)}return(0,H.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Hg(e,this._firestore),i=xg(r.converter,t,n),a=Tm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,cc.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Hg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Se(t))||t instanceof ym?Pm(this._dataReader,"WriteBatch.update",i._key,t,n,o):Rm(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,cc.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Hg(e,this._firestore);return this._mutations=this._mutations.concat(new _c(t._key,cc.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new io(ro.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Hg(e,t){if((e=Se(e)).firestore!==t)throw new io(ro.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Yg=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,H.Z)(n,[{key:"get",value:function(e){var t=this,r=Hg(e,this._firestore),i=new Og(this._firestore);return Mt((0,Pt.Z)(n.prototype),"get",this).call(this,e).then((function(e){return new Sg(t._firestore,i,r._key,e._document,new _g(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){(0,W.Z)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Im(t)}return(0,H.Z)(e,[{key:"get",value:function(e){var t=this,n=Hg(e,this._firestore),r=new Eg(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Xa();var i=e[0];if(i.isFoundDocument())return new Qm(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Qm(t._firestore,r,n._key,null,n.converter);throw Xa()}))}},{key:"set",value:function(e,t,n){var r=Hg(e,this._firestore),i=xg(r.converter,t,n),a=Tm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Hg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Se(t))||t instanceof ym?Pm(this._dataReader,"Transaction.update",i._key,t,n,o):Rm(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Hg(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function $g(e,t,n){e=cy(e,Xy);var r=Object.assign(Object.assign({},Kg),n);return function(e){if(e.maxAttempts<1)throw new io(ro.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ao;return e.asyncQueue.enqueueAndForget((0,l.Z)((0,c.Z)().mark((function i(){var a;return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,zy(e);case 2:a=i.sent,new Cy(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(nm(e),(function(n){return t(new Yg(e,n))}),r)}function Jg(){return new Zm("deleteField")}function Xg(){return new Cm("serverTimestamp")}function eb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Om("arrayUnion",t)}function tb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Am("arrayRemove",t)}function nb(e){return new Dm("increment",e)}function rb(e){return nm(e=cy(e,Xy)),new Wg(e,(function(t){return Bg(e,t)}))}function ib(e,t){var n,r=nm(e=cy(e,Xy));if(!(null===(n=r.offlineComponents)||void 0===n?void 0:n.indexBackfillerScheduler))return $a("Cannot enable indexes when persistence is disabled"),Promise.resolve();var i=function(e){var t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new io(ro.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes)){var r,i=(0,Q.Z)(t.indexes);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=ab(a,"collectionGroup"),u=[];if(Array.isArray(a.fields)){var s,c=(0,Q.Z)(a.fields);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=Bm("setIndexConfiguration",ab(l,"fieldPath"));"CONTAINS"===l.arrayConfig?u.push(new Ao(f,2)):"ASCENDING"===l.order?u.push(new Ao(f,0)):"DESCENDING"===l.order&&u.push(new Ao(f,1))}}catch(h){c.e(h)}finally{c.f()}}n.push(new Zo(Zo.UNKNOWN_ID,o,u,Ro.empty()))}}catch(h){i.e(h)}finally{i.f()}}return n}(t);return Vy(r).then((function(e){return function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no(t),i=r.indexManager,a=[],e.abrupt("return",r.persistence.runTransaction("Configure indexes","readwrite",(function(e){return i.getFieldIndexes(e).next((function(t){return function(e,t,n,r,i){e=(0,G.Z)(e),t=(0,G.Z)(t),e.sort(n),t.sort(n);for(var a=e.length,o=t.length,u=0,s=0;u<o&&s<a;){var c=n(e[s],t[u]);c<0?i(e[s++]):c>0?r(t[u++]):(u++,s++)}for(;u<o;)r(t[u++]);for(;s<a;)i(e[s++])}(t,n,Oo,(function(t){a.push(i.addFieldIndex(e,t))}),(function(t){a.push(i.deleteFieldIndex(e,t))}))})).next((function(){return Bo.waitFor(a)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,i)}))}function ab(e,t){if("string"!=typeof e[t])throw new io(ro.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ga=e}(yt),ft(new Ie("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Xy(new co(e.getProvider("auth-internal")),new po(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new io(ro.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),bt(Ba,"3.8.0",e),bt(Ba,"3.8.0","esm2017")}();var ob,ub=n(9388),sb={PHONE:"phone"},cb={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},lb={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},fb={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},hb={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function db(){return(0,K.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var pb=function(){var e;return e={},(0,K.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,K.Z)(e,"argument-error",""),(0,K.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,K.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,K.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,K.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,K.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,K.Z)(e,"cors-unsupported","This browser is not supported."),(0,K.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,K.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,K.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,K.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,K.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,K.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,K.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,K.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,K.Z)(e,"expired-action-code","The action code has expired."),(0,K.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,K.Z)(e,"internal-error","An internal AuthError has occurred."),(0,K.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,K.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,K.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,K.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,K.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,K.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,K.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,K.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,K.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,K.Z)(e,"invalid-email","The email address is badly formatted."),(0,K.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,K.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,K.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,K.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,K.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,K.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,K.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,K.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,K.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,K.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,K.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,K.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,K.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,K.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,K.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,K.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,K.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,K.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,K.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,K.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,K.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,K.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,K.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,K.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,K.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,K.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,K.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,K.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,K.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,K.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,K.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,K.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,K.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,K.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,K.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,K.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,K.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,K.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,K.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,K.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,K.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,K.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,K.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,K.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,K.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,K.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,K.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,K.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,K.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,K.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,K.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,K.Z)(e,"timeout","The operation has timed out."),(0,K.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,K.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,K.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,K.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,K.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,K.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,K.Z)(e,"unverified-email","The operation requires a verified email."),(0,K.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,K.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,K.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,K.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,K.Z)(e,"user-signed-out",""),(0,K.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,K.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,K.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},vb=db,yb=new ve("auth","Firebase",db()),mb={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},gb=new Me("@firebase/auth");function bb(e){if(gb.logLevel<=Ce.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gb.error.apply(gb,["Auth (".concat(yt,"): ").concat(e)].concat(n))}}function kb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _b.apply(void 0,[e].concat(n))}function wb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _b.apply(void 0,[e].concat(n))}function xb(e,t,n){var r=Object.assign(Object.assign({},vb()),(0,K.Z)({},t,n));return new ve("auth","Firebase",r).create(t,{appName:e.name})}function Eb(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&kb(e,"argument-error"),xb(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,G.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,G.Z)(o)))}return yb.create.apply(yb,[e].concat(n))}function Sb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _b.apply(void 0,[t].concat(r))}}function Ib(e){var t="INTERNAL ASSERTION FAILED: "+e;throw bb(t),new Error(t)}function Tb(e,t){e||Ib(t)}var Zb=new Map;function Nb(e){Tb(e instanceof Function,"Expected a class definition");var t=Zb.get(e);return t?(Tb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zb.set(e,t),t)}function Cb(e,t){var n=ht(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(ge(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;kb(r,"already-initialized")}return n.initialize({options:t})}function Ob(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ab(){return"http:"===Db()||"https:"===Db()}function Db(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Rb(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ab()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Pb=function(){function e(t,n){(0,W.Z)(this,e),this.shortDelay=t,this.longDelay=n,Tb(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())||"object"===typeof navigator&&"ReactNative"===navigator.product}return(0,H.Z)(e,[{key:"get",value:function(){return Rb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Lb(e,t){Tb(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Mb=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ib("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ib("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ib("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Fb=(ob={},(0,K.Z)(ob,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,K.Z)(ob,"MISSING_CUSTOM_TOKEN","internal-error"),(0,K.Z)(ob,"INVALID_IDENTIFIER","invalid-email"),(0,K.Z)(ob,"MISSING_CONTINUE_URI","internal-error"),(0,K.Z)(ob,"INVALID_PASSWORD","wrong-password"),(0,K.Z)(ob,"MISSING_PASSWORD","internal-error"),(0,K.Z)(ob,"EMAIL_EXISTS","email-already-in-use"),(0,K.Z)(ob,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,K.Z)(ob,"INVALID_IDP_RESPONSE","invalid-credential"),(0,K.Z)(ob,"INVALID_PENDING_TOKEN","invalid-credential"),(0,K.Z)(ob,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,K.Z)(ob,"MISSING_REQ_TYPE","internal-error"),(0,K.Z)(ob,"EMAIL_NOT_FOUND","user-not-found"),(0,K.Z)(ob,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,K.Z)(ob,"EXPIRED_OOB_CODE","expired-action-code"),(0,K.Z)(ob,"INVALID_OOB_CODE","invalid-action-code"),(0,K.Z)(ob,"MISSING_OOB_CODE","internal-error"),(0,K.Z)(ob,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,K.Z)(ob,"INVALID_ID_TOKEN","invalid-user-token"),(0,K.Z)(ob,"TOKEN_EXPIRED","user-token-expired"),(0,K.Z)(ob,"USER_NOT_FOUND","user-token-expired"),(0,K.Z)(ob,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,K.Z)(ob,"INVALID_CODE","invalid-verification-code"),(0,K.Z)(ob,"INVALID_SESSION_INFO","invalid-verification-id"),(0,K.Z)(ob,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,K.Z)(ob,"MISSING_SESSION_INFO","missing-verification-id"),(0,K.Z)(ob,"SESSION_EXPIRED","code-expired"),(0,K.Z)(ob,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,K.Z)(ob,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,K.Z)(ob,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,K.Z)(ob,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,K.Z)(ob,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,K.Z)(ob,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,K.Z)(ob,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,K.Z)(ob,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,K.Z)(ob,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,K.Z)(ob,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,K.Z)(ob,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ob),jb=new Pb(3e4,6e4);function Ub(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vb(e,t,n,r){return qb.apply(this,arguments)}function qb(){return qb=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i){var a,o=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Bb(t,a,(0,l.Z)((0,c.Z)().mark((function e(){var a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ke(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Mb.fetch()(Kb(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function Bb(e,t,n){return zb.apply(this,arguments)}function zb(){return(zb=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,o,u,s,l,f,h,d,p,v;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Fb),n),e.prev=2,o=new Wb(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Hb(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(l=u.ok?s.errorMessage:s.error.message,f=l.split(" : "),h=(0,a.Z)(f,2),d=h[0],p=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Hb(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Hb(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Hb(t,"user-disabled",s);case 29:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw xb(t,v,p);case 34:kb(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof pe)){e.next=41;break}throw e.t0;case 41:kb(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Gb(e,t,n,r){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i){var a,o,u=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Vb(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&kb(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Qb.apply(this,arguments)}function Kb(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Lb(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Wb=function(){function e(t){var n=this;(0,W.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(wb(n.auth,"network-request-failed"))}),jb.get())}))}return(0,H.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Hb(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=wb(e,t,r);return i.customData._tokenResponse=n,i}function Yb(e,t){return $b.apply(this,arguments)}function $b(){return($b=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jb(e,t){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ek(e,t){return tk.apply(this,arguments)}function tk(){return(tk=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nk(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function rk(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Se(e).getIdToken(t)}function ik(e){return ak.apply(this,arguments)}function ak(){return ak=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a,o,u,s=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Se(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Sb((a=uk(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:nk(ok(a.auth_time)),issuedAtTime:nk(ok(a.iat)),expirationTime:nk(ok(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e){return 1e3*Number(e)}function uk(e){var t=e.split("."),n=(0,a.Z)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return bb("JWT malformed, contained fewer than 3 sections"),null;try{var u=re(i);return u?JSON.parse(u):(bb("Failed to decode base64 JWT payload"),null)}catch(s){return bb("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function sk(e,t){return ck.apply(this,arguments)}function ck(){return ck=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof pe&&lk(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ck.apply(this,arguments)}function lk(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var fk=function(){function e(t){(0,W.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,H.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),hk=function(){function e(t,n){(0,W.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,H.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=nk(this.lastLoginAt),this.creationTime=nk(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function dk(e){return pk.apply(this,arguments)}function pk(){return pk=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a,o,u,s,l,f,h,d;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,sk(t,ek(r,{idToken:i}));case 6:Sb(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?gk(o.providerUserInfo):[],s=mk(t.providerData,u),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!l&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new hk(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e){return yk.apply(this,arguments)}function yk(){return(yk=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se(t),e.next=3,dk(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mk(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,G.Z)(n),(0,G.Z)(t))}function gk(e){return e.map((function(e){var t=e.providerId,n=(0,ub._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function bk(e,t){return kk.apply(this,arguments)}function kk(){return(kk=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bb(t,{},(0,l.Z)((0,c.Z)().mark((function e(){var r,i,a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ke({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Kb(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Mb.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wk=function(){function e(){(0,W.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,H.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Sb(e.idToken,"internal-error"),Sb("undefined"!==typeof e.idToken,"internal-error"),Sb("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=uk(e);return Sb(t,"internal-error"),Sb("undefined"!==typeof t.exp,"internal-error"),Sb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Sb(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bk(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ib("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Sb("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Sb("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Sb("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function xk(e,t){Sb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ek=function(){function e(t){(0,W.Z)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=(0,ub._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,G.Z)(a.providerData):[],this.metadata=new hk(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,H.Z)(e,[{key:"getIdToken",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sk(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Sb(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return ik(this,e)}},{key:"reload",value:function(){return vk(this)}},{key:"_assign",value:function(e){this!==e&&(Sb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Sb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,dk(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,sk(this,Yb(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Sb(b&&E,t,"internal-error");var _=wk.fromJSON(this.name,E);Sb("string"===typeof b,t,"internal-error"),xk(f,t.name),xk(h,t.name),Sb("boolean"===typeof k,t,"internal-error"),Sb("boolean"===typeof w,t,"internal-error"),xk(d,t.name),xk(p,t.name),xk(v,t.name),xk(y,t.name),xk(m,t.name),xk(g,t.name);var S=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function t(n,r){var i,a,o,u=arguments;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new wk).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,dk(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),_k=function(){function e(){(0,W.Z)(this,e),this.type="NONE",this.storage={}}return(0,H.Z)(e,[{key:"_isAvailable",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();_k.type="NONE";var Sk=_k;function Ik(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Tk=function(){function e(t,n,r){(0,W.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ik(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ik("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,H.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ek._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function t(n,r){var i,a,o,u,s,f,h,d,p,v,y,m=arguments;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Nb(Sk),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Nb(Sk),u=Ik(i,n.config.apiKey,n.name),s=null,f=(0,Q.Z)(r),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(u);case 17:if(!(p=t.sent)){t.next=23;break}return v=Ek._fromJSON(n,p),d!==o&&(s=v),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(y=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&y.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=y[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Zk(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ak(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rk(t))return"Blackberry";if(Pk(t))return"Webos";if(Ck(t))return"Safari";if((t.includes("chrome/")||Ok(t))&&!t.includes("edge/"))return"Chrome";if(Dk(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Nk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/firefox\//i.test(e)}function Ck(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ok(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/crios\//i.test(e)}function Ak(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/iemobile/i.test(e)}function Dk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/android/i.test(e)}function Rk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/blackberry/i.test(e)}function Pk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/webos/i.test(e)}function Lk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Mk(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return Lk(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Fk(){return function(){var e=ie();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function jk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return Lk(e)||Dk(e)||Pk(e)||Rk(e)||/windows phone/i.test(e)||Ak(e)}function Uk(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zk(ie());break;case"Worker":t="".concat(Zk(ie()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(yt,"/").concat(r)}var Vk=function(){function e(t){(0,W.Z)(this,e),this.auth=t,this.queue=[]}return(0,H.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=(0,Q.Z)(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=(0,Q.Z)(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qk=function(){function e(t,n,r){(0,W.Z)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zk(this),this.idTokenSubscription=new zk(this),this.beforeStateQueue=new Vk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yb,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,H.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Nb(t)),this._initializationPromise=this.queue((0,l.Z)((0,c.Z)().mark((function r(){var i,a;return(0,c.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Tk.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Sb(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dk(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Se(t):null)&&Sb(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r=this,i=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Sb(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue((0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,l.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Nb(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ve("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Sb(n=t&&Nb(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Tk.create(this,[Nb(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Sb(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Sb(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uk(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,K.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bk(e){return Se(e)}var zk=function(){function e(t){var n=this;(0,W.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ee(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return(0,H.Z)(e,[{key:"next",get:function(){return Sb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Gk(e,t,n){var r=Bk(e);Sb(r._canInitEmulator,r,"emulator-config-failed"),Sb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Qk(t),u=function(e){var t=Qk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:Kk(r.substr(o.length+1))}}var u=r.split(":"),s=(0,a.Z)(u,2);return{host:s[0],port:Kk(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qk(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Kk(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Wk=function(){function e(t,n){(0,W.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,H.Z)(e,[{key:"toJSON",value:function(){return Ib("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ib("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ib("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ib("not implemented")}}]),e}();function Hk(e,t){return Yk.apply(this,arguments)}function Yk(){return(Yk=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:resetPassword",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $k(e,t){return Jk.apply(this,arguments)}function Jk(){return(Jk=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xk(e,t){return ew.apply(this,arguments)}function ew(){return(ew=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:update",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tw(e,t){return nw.apply(this,arguments)}function nw(){return(nw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gb(t,"POST","/v1/accounts:signInWithPassword",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rw(e,t){return iw.apply(this,arguments)}function iw(){return(iw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:sendOobCode",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aw(e,t){return ow.apply(this,arguments)}function ow(){return(ow=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uw(e,t){return sw.apply(this,arguments)}function sw(){return(sw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cw(e,t){return lw.apply(this,arguments)}function lw(){return(lw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fw(e,t){return hw.apply(this,arguments)}function hw(){return(hw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dw(e,t){return pw.apply(this,arguments)}function pw(){return(pw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gb(t,"POST","/v1/accounts:signInWithEmailLink",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vw(e,t){return yw.apply(this,arguments)}function yw(){return(yw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gb(t,"POST","/v1/accounts:signInWithEmailLink",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,W.Z)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,H.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",tw(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",dw(t,{email:this._email,oobCode:this._password}));case 5:kb(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",$k(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vw(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:kb(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Wk);function gw(e,t){return bw.apply(this,arguments)}function bw(){return(bw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gb(t,"POST","/v1/accounts:signInWithIdp",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){var e;return(0,W.Z)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,H.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return gw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gw(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ke(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kb("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=(0,ub._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Wk);function ww(e,t){return xw.apply(this,arguments)}function xw(){return(xw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:sendVerificationCode",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ew(){return(Ew=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gb(t,"POST","/v1/accounts:signInWithPhoneNumber",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _w(){return(_w=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gb(t,"POST","/v1/accounts:signInWithPhoneNumber",Ub(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Hb(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sw=(0,K.Z)({},"USER_NOT_FOUND","user-not-found");function Iw(){return(Iw=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Gb(t,"POST","/v1/accounts:signInWithPhoneNumber",Ub(t,r),Sw));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,H.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ew.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return _w.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Iw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Wk);var Zw=function(){function e(t){var n,r,i,a,o,u;(0,W.Z)(this,e);var s=we(xe(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Sb(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return(0,H.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=we(xe(e)).link,n=t?we(xe(t)).deep_link_id:null,r=we(xe(e)).deep_link_id;return(r?we(xe(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(fy){return null}}}]),e}();function Nw(e){return Zw.parseLink(e)}var Cw=function(){function e(){(0,W.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,H.Z)(e,null,[{key:"credential",value:function(e,t){return mw._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Zw.parseLink(t);return Sb(n,"argument-error"),mw._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Cw.PROVIDER_ID="password",Cw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Cw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ow=function(){function e(t){(0,W.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,H.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Aw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){var e;return(0,W.Z)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,H.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,G.Z)(this.scopes)}}]),n}(Ow),Dw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Sb(e.idToken||e.accessToken,"argument-error"),kw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Sb("providerId"in t&&"signInMethod"in t,"argument-error"),kw._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Aw),Rw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.call(this,"facebook.com")}return(0,H.Z)(n,null,[{key:"credential",value:function(e){return kw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fy){return null}}}]),n}(Aw);Rw.FACEBOOK_SIGN_IN_METHOD="facebook.com",Rw.PROVIDER_ID="facebook.com";var Pw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){var e;return(0,W.Z)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,H.Z)(n,null,[{key:"credential",value:function(e,t){return kw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(fy){return null}}}]),n}(Aw);Pw.GOOGLE_SIGN_IN_METHOD="google.com",Pw.PROVIDER_ID="google.com";var Lw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.call(this,"github.com")}return(0,H.Z)(n,null,[{key:"credential",value:function(e){return kw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fy){return null}}}]),n}(Aw);Lw.GITHUB_SIGN_IN_METHOD="github.com",Lw.PROVIDER_ID="github.com";var Mw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i;return(0,W.Z)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,H.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return gw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gw(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Wk),Fw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){return(0,W.Z)(this,n),Sb(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,H.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Mw.fromJSON(e);return Sb(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Mw._create(r,n)}catch(i){return null}}}]),n}(Ow),jw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.call(this,"twitter.com")}return(0,H.Z)(n,null,[{key:"credential",value:function(e,t){return kw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(fy){return null}}}]),n}(Aw);function Uw(e,t){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gb(t,"POST","/v1/accounts:signUp",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}jw.TWITTER_SIGN_IN_METHOD="twitter.com",jw.PROVIDER_ID="twitter.com";var qw=function(){function e(t){(0,W.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,H.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function t(n,r,i){var a,o,u,s,l=arguments;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Ek._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Bw(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function t(n,r,i){var a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Bw(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Bw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function zw(e){return Gw.apply(this,arguments)}function Gw(){return Gw=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bk(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new qw({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Uw(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,qw._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Gw.apply(this,arguments)}var Qw=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i,a){var o,u;return(0,W.Z)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,Y.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,H.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(pe);function Kw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qw._fromErrorAndOperation(e,n,t,r);throw n}))}function Ww(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Hw(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se(t),e.next=3,Xw(!0,r,n);case 3:return e.t0=Jb,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ww(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function $w(e,t){return Jw.apply(this,arguments)}function Jw(){return Jw=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=sk,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",qw._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Jw.apply(this,arguments)}function Xw(e,t,n){return ex.apply(this,arguments)}function ex(){return(ex=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dk(n);case 2:i=Ww(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Sb(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tx(e,t){return nx.apply(this,arguments)}function nx(){return nx=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u,s,l=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,sk(t,Kw(i,a,n,t),r);case 6:return Sb((o=e.sent).idToken,i,"internal-error"),Sb(u=uk(o.idToken),i,"internal-error"),s=u.sub,Sb(t.uid===s,i,"user-mismatch"),e.abrupt("return",qw._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&kb(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),nx.apply(this,arguments)}function rx(e,t){return ix.apply(this,arguments)}function ix(){return ix=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Kw(t,i,n);case 4:return a=e.sent,e.next=7,qw._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e,t){return ox.apply(this,arguments)}function ox(){return(ox=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rx(Bk(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ux(e,t){return sx.apply(this,arguments)}function sx(){return(sx=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se(t),e.next=3,Xw(!1,r,n.providerId);case 3:return e.abrupt("return",$w(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cx(e,t){return lx.apply(this,arguments)}function lx(){return(lx=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tx(Se(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fx(e,t){return hx.apply(this,arguments)}function hx(){return(hx=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gb(t,"POST","/v1/accounts:signInWithCustomToken",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dx(e,t){return px.apply(this,arguments)}function px(){return(px=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bk(t),e.next=3,fx(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,qw._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vx=function(){function e(t,n){(0,W.Z)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,H.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?yx._fromServerResponse(e,t):kb(e,"internal-error")}}]),e}(),yx=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,H.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(vx);function mx(e,t,n){var r;Sb((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Sb("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Sb(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Sb(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function gx(e,t,n){return bx.apply(this,arguments)}function bx(){return(bx=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),a={requestType:"PASSWORD_RESET",email:n},r&&mx(i,a,r),e.next=5,uw(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kx(e,t,n){return wx.apply(this,arguments)}function wx(){return(wx=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hk(Se(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xx(e,t){return Ex.apply(this,arguments)}function Ex(){return(Ex=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xk(Se(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _x(e,t){return Sx.apply(this,arguments)}function Sx(){return(Sx=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se(t),e.next=3,Hk(r,{oobCode:n});case 3:i=e.sent,Sb(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Sb(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Sb(i.mfaInfo,r,"internal-error");case 13:Sb(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=vx._fromServerResponse(Bk(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ix(e,t){return Tx.apply(this,arguments)}function Tx(){return(Tx=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_x(Se(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zx(e,t,n){return Nx.apply(this,arguments)}function Nx(){return(Nx=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bk(t),e.next=3,Uw(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,qw._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cx(e,t,n){return ax(Se(e),Cw.credential(t,n))}function Ox(e,t,n){return Ax.apply(this,arguments)}function Ax(){return(Ax=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),a={requestType:"EMAIL_SIGNIN",email:n},Sb(r.handleCodeInApp,i,"argument-error"),r&&mx(i,a,r),e.next=6,cw(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dx(e,t){var n=Zw.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Rx(e,t,n){return Px.apply(this,arguments)}function Px(){return(Px=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),Sb((a=Cw.credentialWithLink(n,r||Ob()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ax(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lx(e,t){return Mx.apply(this,arguments)}function Mx(){return(Mx=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:createAuthUri",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fx(e,t){return jx.apply(this,arguments)}function jx(){return(jx=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ab()?Ob():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Lx(Se(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ux(e,t){return Vx.apply(this,arguments)}function Vx(){return(Vx=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&mx(r.auth,a,n),e.next=8,aw(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qx(e,t,n){return Bx.apply(this,arguments)}function Bx(){return(Bx=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o,u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&mx(i.auth,o,r),e.next=8,fw(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zx(e,t){return Gx.apply(this,arguments)}function Gx(){return(Gx=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qx(e,t){return Kx.apply(this,arguments)}function Kx(){return(Kx=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u,s,l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Se(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,sk(a,zx(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wx(e,t){return Yx(Se(e),t,null)}function Hx(e,t){return Yx(Se(e),null,t)}function Yx(e,t,n){return $x.apply(this,arguments)}function $x(){return($x=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o,u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,sk(t,$k(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jx=(0,H.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,W.Z)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Xx=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i,a){var o;return(0,W.Z)(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,H.Z)(n)}(Jx),eE=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){return(0,W.Z)(this,n),t.call(this,e,"facebook.com",r)}return(0,H.Z)(n)}(Jx),tE=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){return(0,W.Z)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,H.Z)(n)}(Xx),nE=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){return(0,W.Z)(this,n),t.call(this,e,"google.com",r)}return(0,H.Z)(n)}(Jx),rE=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i){return(0,W.Z)(this,n),t.call(this,e,"twitter.com",r,i)}return(0,H.Z)(n)}(Xx);function iE(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=uk(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Jx(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new eE(a,i);case"github.com":return new tE(a,i);case"google.com":return new nE(a,i);case"twitter.com":return new rE(a,i,e.screenName||null);case"custom":case"anonymous":return new Jx(a,null);default:return new Jx(a,r,i)}}(n)}function aE(e,t){return Se(e).setPersistence(t)}function oE(e,t,n,r){return Se(e).onIdTokenChanged(t,n,r)}function uE(e,t,n){return Se(e).beforeAuthStateChanged(t,n)}function sE(e,t,n,r){return Se(e).onAuthStateChanged(t,n,r)}function cE(e){Se(e).useDeviceLanguage()}function lE(e,t){return Se(e).updateCurrentUser(t)}function fE(e){return Se(e).signOut()}function hE(e){return dE.apply(this,arguments)}function dE(){return(dE=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(t).delete());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pE=function(){function e(t,n,r){(0,W.Z)(this,e),this.type=t,this.credential=n,this.auth=r}return(0,H.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,K.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),vE=function(){function e(t,n,r){(0,W.Z)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,H.Z)(e,[{key:"resolveSignIn",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Bk(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return vx._fromServerResponse(r,e)}));Sb(i.mfaPendingCredential,r,"internal-error");var o=pE._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var a,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,qw._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Sb(n.user,r,"internal-error"),e.abrupt("return",qw._forOperation(n.user,n.operationType,u));case 17:kb(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function yE(e,t){var n,r=Se(e),i=t;return Sb(t.customData.operationType,r,"argument-error"),Sb(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vE._fromError(r,i)}function mE(e,t){return Vb(e,"POST","/v2/accounts/mfaEnrollment:start",Ub(e,t))}var gE=function(){function e(t){var n=this;(0,W.Z)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return vx._fromServerResponse(t.auth,e)})))}))}return(0,H.Z)(e,[{key:"getSession",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=pE,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,sk(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,sk(this.user,Vb(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ub(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),bE=new WeakMap;function kE(e){var t=Se(e);return bE.has(t)||bE.set(t,gE._fromUser(t)),bE.get(t)}var wE="__sak",xE=function(){function e(t,n){(0,W.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,H.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(wE,"1"),this.storage.removeItem(wE),Promise.resolve(!0)):Promise.resolve(!1)}catch(fy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var EE=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){var e;return(0,W.Z)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ie();return Ck(e)||Lk(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=jk(),e._shouldAllowMigration=!0,e}return(0,H.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Fk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt((0,Pt.Z)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt((0,Pt.Z)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt((0,Pt.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(xE);EE.type="LOCAL";var _E=EE,SE=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(){return(0,W.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,H.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(xE);SE.type="SESSION";var IE=SE;function TE(e){return Promise.all(e.map(function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ZE=function(){function e(t){(0,W.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,H.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a,o,u,s,f;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,TE(s);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function NE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ZE.receivers=[];var CE=function(){function e(t){(0,W.Z)(this,e),this.target=t,this.handlers=new Set}return(0,H.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=NE("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function OE(){return window}function AE(){return"undefined"!==typeof OE().WorkerGlobalScope&&"function"===typeof OE().importScripts}function DE(){return RE.apply(this,arguments)}function RE(){return(RE=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function PE(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var LE="firebaseLocalStorageDb",ME="firebaseLocalStorage",FE="fbase_key",jE=function(){function e(t){(0,W.Z)(this,e),this.request=t}return(0,H.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function UE(e,t){return e.transaction([ME],t?"readwrite":"readonly").objectStore(ME)}function VE(){var e=indexedDB.deleteDatabase(LE);return new jE(e).toPromise()}function qE(){var e=indexedDB.open(LE,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ME,{keyPath:FE})}catch(r){n(r)}})),e.addEventListener("success",(0,l.Z)((0,c.Z)().mark((function n(){var r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ME)){n.next=12;break}return r.close(),n.next=5,VE();case 5:return n.t0=t,n.next=8,qE();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function BE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=UE(t,!0).put((i={},(0,K.Z)(i,FE,n),(0,K.Z)(i,"value",r),i)),e.abrupt("return",new jE(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function GE(e,t){return QE.apply(this,arguments)}function QE(){return QE=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UE(t,!1).get(n),e.next=3,new jE(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function KE(e,t){var n=UE(e,!0).delete(t);return new jE(n).toPromise()}var WE=function(){function e(){(0,W.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,H.Z)(e,[{key:"_openDb",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,qE();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AE()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ZE._getInstance(AE()?self:null),this.receiver._subscribe("keyChanged",function(){var e=(0,l.Z)((0,c.Z)().mark((function e(n,r){var i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DE();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new CE(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&PE()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,qE();case 5:return t=e.sent,e.next=8,BE(t,wE,"1");case 8:return e.next=10,KE(t,wE);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return BE(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return GE(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return KE(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r,i,a,o,u,s,l,f,h;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=UE(e,!1).getAll();return new jE(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=(0,Q.Z)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(c){i.e(c)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();WE.type="LOCAL";var HE=WE;function YE(e,t){return Vb(e,"POST","/v2/accounts/mfaSignIn:start",Ub(e,t))}function $E(e){return JE.apply(this,arguments)}function JE(){return(JE=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vb(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XE(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=wb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function e_(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var t_=1e12,n_=function(){function e(t){(0,W.Z)(this,e),this.auth=t,this.counter=t_,this._widgets=new Map}return(0,H.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new r_(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||t_;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||t_;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||t_,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),r_=function(){function e(t,n,r){var i=this;(0,W.Z)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Sb(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,H.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var i_=e_("rcb"),a_=new Pb(3e4,6e4),o_="https://www.google.com/recaptcha/api.js?",u_=function(){function e(){var t;(0,W.Z)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=OE().grecaptcha)||void 0===t?void 0:t.render)}return(0,H.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Sb(s_(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(OE().grecaptcha):new Promise((function(r,i){var a=OE().setTimeout((function(){i(wb(e,"network-request-failed"))}),a_.get());OE()[i_]=function(){OE().clearTimeout(a),delete OE()[i_];var o=OE().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(wb(e,"internal-error"))},XE("".concat(o_,"?").concat(ke({onload:i_,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(wb(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=OE().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function s_(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var c_=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,[{key:"load",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new n_(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),l_="recaptcha",f_={theme:"light",type:"image"},h_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},f_),r=arguments.length>2?arguments[2]:void 0;(0,W.Z)(this,e),this.parameters=n,this.type=l_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bk(r),this.isInvisible="invisible"===this.parameters.size,Sb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Sb(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new c_:new u_,this.validateStartingState()}return(0,H.Z)(e,[{key:"verify",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n,r,i=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Sb(!this.parameters.sitekey,this.auth,"argument-error"),Sb(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Sb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=OE()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Sb(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sb(Ab()&&!AE(),this.auth,"internal-error"),e.next=3,d_();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,$E(this.auth);case 8:Sb(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Sb(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function d_(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var p_=function(){function e(t,n){(0,W.Z)(this,e),this.verificationId=t,this.onConfirmation=n}return(0,H.Z)(e,[{key:"confirm",value:function(e){var t=Tw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function v_(e,t,n){return y_.apply(this,arguments)}function y_(){return(y_=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bk(t),e.next=3,w_(i,n,Se(r));case 3:return a=e.sent,e.abrupt("return",new p_(a,(function(e){return ax(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m_(e,t,n){return g_.apply(this,arguments)}function g_(){return(g_=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),e.next=3,Xw(!1,i,"phone");case 3:return e.next=5,w_(i.auth,n,Se(r));case 5:return a=e.sent,e.abrupt("return",new p_(a,(function(e){return ux(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b_(e,t,n){return k_.apply(this,arguments)}function k_(){return(k_=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Se(t),e.next=3,w_(i.auth,n,Se(r));case 3:return a=e.sent,e.abrupt("return",new p_(a,(function(e){return cx(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w_(e,t,n){return x_.apply(this,arguments)}function x_(){return x_=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Sb("string"===typeof a,t,"argument-error"),Sb(r.type===l_,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Sb("enroll"===u.type,t,"internal-error"),e.next=13,mE(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Sb("signin"===u.type,t,"internal-error"),Sb(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,YE(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ww(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),x_.apply(this,arguments)}function E_(e,t){return __.apply(this,arguments)}function __(){return(__=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$w(Se(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S_=function(){function e(t){(0,W.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Bk(t)}return(0,H.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return w_(this.auth,e,Se(t))}}],[{key:"credential",value:function(e,t){return Tw._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Tw._fromTokenResponse(n,r):null}}]),e}();function I_(e,t){return t?Nb(t):(Sb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}S_.PROVIDER_ID="phone",S_.PHONE_SIGN_IN_METHOD="phone";var T_=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,H.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return gw(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return gw(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return gw(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Wk);function Z_(e){return rx(e.auth,new T_(e),e.bypassAuthState)}function N_(e){var t=e.auth,n=e.user;return Sb(n,t,"internal-error"),tx(n,new T_(e),e.bypassAuthState)}function C_(e){return O_.apply(this,arguments)}function O_(){return(O_=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Sb(r=t.user,n,"internal-error"),e.abrupt("return",$w(r,new T_(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,W.Z)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,H.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,l.Z)((0,c.Z)().mark((function t(n,r){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a,o,u,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z_;case"linkViaPopup":case"linkViaRedirect":return C_;case"reauthViaPopup":case"reauthViaRedirect":return N_;default:kb(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Tb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Tb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),D_=new Pb(2e3,1e4);function R_(e,t,n){return P_.apply(this,arguments)}function P_(){return(P_=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bk(t),Eb(t,n,Ow),a=I_(i,r),o=new U_(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L_(e,t,n){return M_.apply(this,arguments)}function M_(){return(M_=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eb((i=Se(t)).auth,n,Ow),a=I_(i.auth,r),o=new U_(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F_(e,t,n){return j_.apply(this,arguments)}function j_(){return(j_=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eb((i=Se(t)).auth,n,Ow),a=I_(i.auth,r),o=new U_(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U_=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r,i,a,o){var u;return(0,W.Z)(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,Y.Z)(u),u}return(0,H.Z)(n,[{key:"executeNotNull",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Sb(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,n=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tb(1===this.filter.length,"Popup operations only handle one event"),t=NE(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(wb(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(wb(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(wb(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,D_.get())}()}}]),n}(A_);U_.currentPopupAction=null;var V_=new Map,q_=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,W.Z)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,H.Z)(n,[{key:"execute",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=V_.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,B_(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Mt((0,Pt.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:V_.set(this.auth._key(),t);case 21:return this.bypassAuthState||V_.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Mt((0,Pt.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Mt((0,Pt.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(A_);function B_(e,t){return z_.apply(this,arguments)}function z_(){return(z_=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H_(n),i=W_(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G_(e,t){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t)._set(H_(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K_(e,t){V_.set(e._key(),t)}function W_(e){return Nb(e._redirectPersistence)}function H_(e){return Ik("pendingRedirect",e.config.apiKey,e.name)}function Y_(e,t,n){return function(e,t,n){return $_.apply(this,arguments)}(e,t,n)}function $_(){return($_=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bk(t),Eb(t,n,Ow),a=I_(i,r),e.next=5,G_(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J_(e,t,n){return function(e,t,n){return X_.apply(this,arguments)}(e,t,n)}function X_(){return(X_=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eb((i=Se(t)).auth,n,Ow),a=I_(i.auth,r),e.next=5,G_(a,i.auth);case 5:return e.next=7,oS(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eS(e,t,n){return function(e,t,n){return tS.apply(this,arguments)}(e,t,n)}function tS(){return(tS=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eb((i=Se(t)).auth,n,Ow),a=I_(i.auth,r),e.next=5,Xw(!1,i,n.providerId);case 5:return e.next=7,G_(a,i.auth);case 7:return e.next=9,oS(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nS(e,t){return rS.apply(this,arguments)}function rS(){return(rS=(0,l.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bk(t)._initializationPromise;case 2:return e.abrupt("return",iS(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iS(e,t){return aS.apply(this,arguments)}function aS(){return aS=(0,l.Z)((0,c.Z)().mark((function e(t,n){var r,i,a,o,u,s=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Bk(t),a=I_(i,n),o=new q_(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(e){return uS.apply(this,arguments)}function uS(){return(uS=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=NE("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sS=function(){function e(t){(0,W.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,H.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lS(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!lS(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(wb(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cS(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(cS(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function cS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function lS(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function fS(e){return hS.apply(this,arguments)}function hS(){return hS=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vb(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}var dS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pS=/^https?/;function vS(){return(vS=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r,i,a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fS(t);case 4:n=e.sent,r=n.authorizedDomains,i=(0,Q.Z)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!yS(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:kb(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function yS(e){var t=Ob(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!pS.test(r))return!1;if(dS.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var mS=new Pb(3e4,6e4);function gS(){var e=OE().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,G.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var bS=null;function kS(e){return bS=bS||function(e){return new Promise((function(t,n){var r,i,a;function o(){gS(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gS(),n(wb(e,"network-request-failed"))},timeout:mS.get()})}if(null===(i=null===(r=OE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=OE().gapi)||void 0===a?void 0:a.load)){var u=e_("iframefcb");return OE()[u]=function(){gapi.load?o():n(wb(e,"network-request-failed"))},XE("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw bS=null,e}))}(e),bS}var wS=new Pb(5e3,15e3),xS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ES=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _S(e){var t=e.config;Sb(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Lb(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:yt},i=ES.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ke(r).slice(1))}function SS(e){return IS.apply(this,arguments)}function IS(){return IS=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kS(t);case 2:return n=e.sent,Sb(r=OE().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_S(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xS,dontclear:!0},(function(e){return new Promise(function(){var n=(0,l.Z)((0,c.Z)().mark((function n(r,i){var a,o,u;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){OE().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=wb(t,"network-request-failed"),o=OE().setTimeout((function(){i(a)}),wS.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}var TS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZS="_blank",NS="http://localhost",CS=function(){function e(t){(0,W.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,H.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function OS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},TS),{width:r.toString(),height:i.toString(),top:o,left:u}),l=ie().toLowerCase();n&&(s=Ok(l)?ZS:n),Nk(l)&&(t=t||NS,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Mk(l)&&"_self"!==s)return AS(t||"",s),new CS(null);var h=window.open(t||"",s,f);Sb(h,e,"popup-blocked");try{h.focus()}catch(d){}return new CS(h)}function AS(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var DS="__/auth/handler",RS="emulator/auth/handler";function PS(e,t,n,r,i,o){Sb(e.config.authDomain,e,"auth-domain-config-required"),Sb(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yt,eventId:i};if(t instanceof Ow){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,a.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Aw){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(DS);return Lb(t,RS)}(e),"?").concat(ke(p).slice(1))}var LS="webStorageSupport",MS=function(){function e(){(0,W.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=iS,this._overrideRedirectResult=K_}return(0,H.Z)(e,[{key:"_openPopup",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i){var a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tb(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=PS(t,n,r,Ob(),i),e.abrupt("return",OS(t,o,NE()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n,r,i){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=PS(t,n,r,Ob(),i),OE().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Tb(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SS(t);case 2:return n=e.sent,r=new sS(t),n.register("authEvent",(function(e){return Sb(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(LS,{type:LS},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[LS];void 0!==i&&t(!!i),kb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vS.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return jk()||Ck()||Lk()}}]),e}(),FS=MS,jS=function(e){(0,$.Z)(n,e);var t=(0,J.Z)(n);function n(e){var r;return(0,W.Z)(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,H.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vb(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ub(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vb(e,"POST","/v2/accounts/mfaSignIn:finalize",Ub(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){(0,W.Z)(this,e),this.factorId=t}return(0,H.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ib("unexpected MultiFactorSessionType")}}}]),e}()),US=function(){function e(){(0,W.Z)(this,e)}return(0,H.Z)(e,null,[{key:"assertion",value:function(e){return jS._fromCredential(e)}}]),e}();US.FACTOR_ID="phone";var VS="@firebase/auth",qS="0.21.0",BS=function(){function e(t){(0,W.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,H.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Sb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var zS,GS=fe("authIdTokenMaxAge")||300,QS=null,KS=function(e){return function(){var t=(0,l.Z)((0,c.Z)().mark((function t(n){var r,i,a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>GS)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,QS!==a){t.next=12;break}return t.abrupt("return");case 12:return QS=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function WS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt(),t=ht(e,"auth");if(t.isInitialized())return t.getImmediate();var n=Cb(e,{popupRedirectResolver:FS,persistence:[HE,_E,IE]}),r=fe("authTokenSyncURL");if(r){var i=KS(r);uE(n,i,(function(){return i(n.currentUser)})),oE(n,(function(e){return i(e)}))}var a=ce("auth");return a&&Gk(n,"http://".concat(a)),n}zS="Browser",ft(new Ie("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Sb(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Sb(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:zS,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uk(zS)},i=new qk(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nb);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ft(new Ie("auth-internal",(function(e){return function(e){return new BS(e)}(Bk(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),bt(VS,qS,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zS)),bt(VS,qS,"esm2017");var HS={auth:t,firestore:e,firebase:mt({apiKey:"AIzaSyAVVAbmgUNiV3OXRC047hQRkgEPfxY4oUg",authDomain:"react-chat-7fdc3.firebaseapp.com",projectId:"react-chat-7fdc3",storageBucket:"react-chat-7fdc3.appspot.com",messagingSenderId:"765963838104",appId:"1:765963838104:web:991396921ce6951c65a6ed",measurementId:"G-1QQPFLJ4ZB"})},YS=(n(5484),n(7408)),$S=n(7462),JS=n(3366),XS=n(5609),eI=n(9545);function tI(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var nI=tI,rI=[],iI=0;function aI(e){try{sI(),e()}finally{cI()}}function oI(e){rI.push(e),iI||(sI(),lI())}function uI(e){try{return sI(),e()}finally{lI()}}function sI(){iI++}function cI(){iI--}function lI(){var e;for(cI();!iI&&void 0!==(e=rI.shift());)aI(e)}var fI=function(e){return function(t){return e.some((function(e){return yI(e)(t)}))}},hI=function(e){return function(t){return e(t)}},dI=function(e){return function(t){return t.type===String(e)}},pI=function(e){return function(t){return t.type===e}},vI=function(){return eI.k};function yI(e){var t="*"===e?vI:(0,XS.Z_)(e)?dI:(0,XS.IX)(e)?fI:(0,XS.eR)(e)?dI:(0,XS.Yl)(e)?hI:(0,XS.NA)(e)?pI:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var mI={type:YS.sZ},gI=function(e){return e&&e.type===YS.sZ};function bI(e){void 0===e&&(e=(0,eI.e)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(mI):e.isEmpty()?(n.push(r),r.cancel=function(){(0,eI.r)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(mI):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(mI)}}}}}function kI(){var e=function(){var e,t=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},a=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(mI)}))};return(e={})[YS.AS]=!0,e.put=function(e){if(!t)if(gI(e))a();else for(var i=n=r,o=0,u=i.length;o<u;o++){var s=i[o];s[YS.uq](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=vI),t?e(mI):(e[YS.uq]=n,i(),r.push(e),e.cancel=(0,eI.o)((function(){i(),(0,eI.r)(r,e)})))},e.close=a,e}(),t=e.put;return e.put=function(e){e[YS.Nm]?t(e):oI((function(){t(e)}))},e}function wI(e,t){var n=e[YS.n1];(0,XS.Yl)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var xI,EI=0,_I=function(){return++EI};function SI(e){e.isRunning()&&e.cancel()}var II=((xI={})[eI.T]=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,a=t.pattern,o=t.maybe,u=function(e){e instanceof Error?n(e,!0):!gI(e)||o?n(e):n(YS.EO)};try{i.take(u,(0,XS.d5)(a)?yI(a):null)}catch(s){return void n(s,!0)}n.cancel=u.cancel},xI[eI.P]=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;oI((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(o){return void n(o,!0)}a&&(0,XS.MC)(t)?wI(t,n):n(t)}))},xI[eI.A]=function(e,t,n,r){var i=r.digestEffect,a=EI,o=Object.keys(t);if(0!==o.length){var u=(0,eI.l)(t,n);o.forEach((function(e){i(t[e],a,u[e],e)}))}else n((0,XS.IX)(t)?[]:{})},xI[eI.R]=function(e,t,n,r){var i=r.digestEffect,a=EI,o=Object.keys(t),u=(0,XS.IX)(t)?(0,eI.m)(o.length):{},s={},c=!1;o.forEach((function(e){var t=function(t,r){c||(r||(0,eI.s)(t)?(n.cancel(),n(t,r)):(n.cancel(),c=!0,u[e]=t,n(u)))};t.cancel=eI.t,s[e]=t})),n.cancel=function(){c||(c=!0,o.forEach((function(e){return s[e].cancel()})))},o.forEach((function(e){c||i(t[e],a,s[e],e)}))},xI[eI.C]=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=r.task;try{var s=a.apply(i,o);if((0,XS.MC)(s))return void wI(s,n);if((0,XS.hZ)(s))return void LI(e,s,u.context,EI,(0,eI.j)(a),!1,n);n(s)}catch(c){n(c,!0)}},xI[eI.a]=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var o=function(e,t){(0,XS.sR)(e)?n(t):n(e,!0)};i.apply(r,a.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(u){n(u,!0)}},xI[eI.F]=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=t.detached,s=r.task,c=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if((0,XS.hZ)(i))return i;var a=!1;return(0,eI.q)((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!(0,XS.MC)(i)})}))}catch(o){return(0,eI.q)((function(){throw o}))}}({context:i,fn:a,args:o}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:(0,eI.j)(t)}(c,a);uI((function(){var t=LI(e,c,s.context,EI,l,u,void 0);u?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},xI[eI.J]=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&(0,eI.r)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if((0,XS.IX)(t)){if(0===t.length)return void n([]);var o=(0,eI.l)(t,n);t.forEach((function(e,t){a(e,o[t])}))}else a(t,n)},xI[eI.b]=function(e,t,n,r){var i=r.task;t===YS.sC?SI(i):(0,XS.IX)(t)?t.forEach(SI):SI(t),n()},xI[eI.S]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(a){n(a,!0)}},xI[eI.d]=function(e,t,n){var r=t.pattern,i=bI(t.buffer),a=yI(r),o=function t(n){gI(n)||e.channel.take(t,a),i.put(n)},u=i.close;i.close=function(){o.cancel(),u()},e.channel.take(o,a),n(i)},xI[eI.f]=function(e,t,n,r){n(r.task.isCancelled())},xI[eI.g]=function(e,t,n){t.flush(n)},xI[eI.G]=function(e,t,n,r){n(r.task.context[t])},xI[eI.h]=function(e,t,n,r){var i=r.task;(0,eI.p)(i.context,t),n()},xI);function TI(e,t){return e+"?"+t}function ZI(e){var t=e.name,n=e.location;return n?t+"  "+TI(n.fileName,n.lineNumber):t}function NI(e){var t=(0,eI.u)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var CI=null,OI=[],AI=function(e){e.crashedEffect=CI,OI.push(e)},DI=function(){CI=null,OI.length=0},RI=function(){var e=OI[0],t=OI.slice(1),n=e.crashedEffect?function(e){var t=(0,eI.v)(e);return t?t.code+"  "+TI(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+ZI(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+ZI(e.meta)})),[NI(OI)]).join("\n")};function PI(e,t,n,r,i,a,o){var u;void 0===o&&(o=eI.t);var s,c,l=0,f=null,h=[],d=Object.create(n),p=function(e,t,n){var r,i=[],a=!1;function o(e){t(),s(),n(e,!0)}function u(t){i.push(t),t.cont=function(u,s){a||((0,eI.r)(i,t),t.cont=eI.t,s?o(u):(t===e&&(r=u),i.length||(a=!0,n(r))))}}function s(){a||(a=!0,i.forEach((function(e){e.cont=eI.t,e.cancel()})),i=[])}return u(e),{addTask:u,cancelAll:s,abort:o,getTasks:function(){return i}}}(t,(function(){h.push.apply(h,p.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(l=2,AI({meta:i,cancelledTasks:h}),y.isRoot){var r=RI();DI(),e.onError(t,{sagaStack:r})}c=t,f&&f.reject(t)}else t===YS.Wd?l=1:1!==l&&(l=3),s=t,f&&f.resolve(t);y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((u={})[YS.Cs]=!0,u.id=r,u.meta=i,u.isRoot=a,u.context=d,u.joiners=[],u.queue=p,u.cancel=function(){0===l&&(l=1,p.cancelAll(),v(YS.Wd,!1))},u.cont=o,u.end=v,u.setContext=function(e){(0,eI.p)(d,e)},u.toPromise=function(){return f||(f=nI(),2===l?f.reject(c):0!==l&&f.resolve(s)),f.promise},u.isRunning=function(){return 0===l},u.isCancelled=function(){return 1===l||0===l&&1===t.status},u.isAborted=function(){return 2===l},u.result=function(){return s},u.error=function(){return c},u);return y}function LI(e,t,n,r,i,a,o){var u=e.finalizeRunEffect((function(t,n,r){if((0,XS.MC)(t))wI(t,r);else if((0,XS.hZ)(t))LI(e,t,c.context,n,i,!1,r);else if(t&&t[YS.IO]){(0,II[t.type])(e,t.payload,r,l)}else r(t)}));f.cancel=eI.t;var s={meta:i,cancel:function(){0===s.status&&(s.status=1,f(YS.Wd))},status:0},c=PI(e,s,n,r,i,a,o),l={task:c,digestEffect:h};return o&&(o.cancel=c.cancel),f(),c;function f(e,n){try{var i;n?(i=t.throw(e),DI()):(0,eI.y)(e)?(s.status=1,f.cancel(),i=(0,XS.Yl)(t.return)?t.return(YS.Wd):{done:!0,value:YS.Wd}):i=(0,eI.z)(e)?(0,XS.Yl)(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==s.status&&(s.status=3),s.cont(i.value)):h(i.value,r,f)}catch(a){if(1===s.status)throw a;s.status=2,s.cont(a,!0)}}function h(t,n,r,i){void 0===i&&(i="");var a,o=_I();function s(n,i){a||(a=!0,r.cancel=eI.t,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),i&&function(e){CI=e}(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:i,effect:t}),s.cancel=eI.t,r.cancel=function(){a||(a=!0,s.cancel(),s.cancel=eI.t,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},u(t,o,s)}}function MI(e,t){var n=e.channel,r=void 0===n?kI():n,i=e.dispatch,a=e.getState,o=e.context,u=void 0===o?{}:o,s=e.sagaMonitor,c=e.effectMiddlewares,l=e.onError,f=void 0===l?eI.B:l;for(var h=arguments.length,d=new Array(h>2?h-2:0),p=2;p<h;p++)d[p-2]=arguments[p];var v=t.apply(void 0,d);var y,m=_I();if(s&&(s.rootSagaStarted=s.rootSagaStarted||eI.t,s.effectTriggered=s.effectTriggered||eI.t,s.effectResolved=s.effectResolved||eI.t,s.effectRejected=s.effectRejected||eI.t,s.effectCancelled=s.effectCancelled||eI.t,s.actionDispatched=s.actionDispatched||eI.t,s.rootSagaStarted({effectId:m,saga:t,args:d})),c){var g=z.qC.apply(void 0,c);y=function(e){return function(t,n,r){return g((function(t){return e(t,n,r)}))(t)}}}else y=eI.E;var b={channel:r,dispatch:(0,eI.D)(i),getState:a,sagaMonitor:s,onError:f,finalizeRunEffect:y};return uI((function(){var e=LI(b,v,u,m,(0,eI.j)(t),!0,void 0);return s&&s.effectResolved(m,e),e}))}var FI=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,a=n.channel,o=void 0===a?kI():a,u=n.sagaMonitor,s=(0,JS.Z)(n,["context","channel","sagaMonitor"]);function c(e){var n=e.getState,r=e.dispatch;return t=MI.bind(null,(0,$S.Z)({},s,{context:i,channel:o,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return o.put(t),n}}}return c.run=function(){return t.apply(void 0,arguments)},c.setContext=function(e){(0,eI.p)(i,e)},c},jI=n(7780);function UI(){return VI.apply(this,arguments)}function VI(){return(VI=(0,l.Z)((0,c.Z)().mark((function e(){var t,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,g.Z)(localStorage.getItem("token")||""),console.log(t),e.next=4,f.Z.get("".concat(m.gd,"/chat/getall?email=").concat(t.email));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qI=(0,c.Z)().mark(zI),BI=(0,c.Z)().mark(GI);function zI(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,jI.call)(UI);case 2:return e=t.sent,t.next=5,(0,jI.put)((0,b.Lx)(e));case 5:case"end":return t.stop()}}),qI)}function GI(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,jI.takeEvery)(b.QQ,zI);case 2:case"end":return e.stop()}}),BI)}function QI(e){return KI.apply(this,arguments)}function KI(){return(KI=(0,l.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)({method:"post",url:"http://localhost:5001/api/feed/create",data:t.formData,headers:{Authorization:"bearer ".concat(localStorage.getItem("token")||"")}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(3256);var WI=n(7765),HI=n(2571),YI=(0,c.Z)().mark(JI),$I=(0,c.Z)().mark(XI);function JI(e){var t;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,console.log(e);case 2:return n.next=4,(0,jI.call)(QI,e);case 4:return t=n.sent,n.next=7,(0,jI.put)((0,WI.$C)(t));case 7:case"end":return n.stop()}}),YI)}function XI(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,jI.takeEvery)(WI._3,JI);case 2:case"end":return e.stop()}}),$I)}var eT=(0,c.Z)().mark(nT),tT=(0,c.Z)().mark(rT);function nT(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,jI.call)(_.O);case 2:return e=t.sent,t.next=5,(0,jI.put)((0,S.YV)(e));case 5:case"end":return t.stop()}}),eT)}function rT(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,jI.takeEvery)("ASYNC_ADD",nT);case 2:case"end":return e.stop()}}),tT)}var iT=(0,c.Z)().mark(pT),aT=(0,c.Z)().mark(vT),oT=n(3256).fetchNews,uT=n(7780),sT=uT.call,cT=uT.put,lT=uT.takeEvery,fT=n(2571),hT=fT.newsAction,dT=fT.ASYNC_ADD_NEWS;function pT(){var e,t=arguments;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sT(oT,t.length<=0?void 0:t[0],t.length<=1?void 0:t[1]);case 2:return e=n.sent,n.next=5,cT(hT(e));case 5:case"end":return n.stop()}}),iT)}function vT(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lT(dT,pT);case 2:case"end":return e.stop()}}),aT)}var yT=n(3191),mT=n(4044),gT=(0,c.Z)().mark(ST),bT=(0,c.Z)().mark(IT),kT=(0,c.Z)().mark(TT),wT=n(7780),xT=wT.call,ET=wT.put,_T=wT.takeEvery;function ST(){var e,t,n,r,i=arguments;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(e=i.length,t=new Array(e),n=0;n<e;n++)t[n]=i[n];return a.next=3,xT(yT.jM,t[0].sub);case 3:return r=a.sent,a.next=6,ET((0,mT.ZI)(r));case 6:case"end":return a.stop()}}),gT)}function IT(){var e,t,n,r,i=arguments;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(e=i.length,t=new Array(e),n=0;n<e;n++)t[n]=i[n];return a.next=3,xT(yT.wz,t[0].sub);case 3:return r=a.sent,console.log(r),a.next=7,ET((0,mT.Fj)(r));case 7:case"end":return a.stop()}}),bT)}function TT(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_T(mT.Zx,ST);case 2:return e.next=4,_T(mT.SR,IT);case 4:case"end":return e.stop()}}),kT)}var ZT=(0,c.Z)().mark(CT),NT=(0,c.Z)().mark(OT);function CT(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,jI.put)({type:"EDIT_TOKEN",token:(0,g.Z)(localStorage.getItem("token"))});case 2:case"end":return e.stop()}}),ZT)}function OT(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,jI.takeEvery)("ASYNC_EDIT",CT);case 2:case"end":return e.stop()}}),NT)}var AT=(0,c.Z)().mark(DT);function DT(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,jI.all)([OT(),GI(),rT(),XI(),vT(),TT()]);case 2:case"end":return e.stop()}}),AT)}var RT={comment:[]},PT="ADD_COMMENT",LT=n(4353),MT=FI(),FT=(0,z.UY)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUS":return(0,V.Z)((0,V.Z)({},e),{},{counter:e.counter+1});case"MINUS":return(0,V.Z)((0,V.Z)({},e),{},{counter:e.counter-1});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND":return(0,V.Z)((0,V.Z)({},e),{},{messages:t.action||[]});case"COUNT":return(0,V.Z)((0,V.Z)({},e),{},{count:t.action});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_AUTH":return(0,V.Z)((0,V.Z)({},e),{},{auth:t.auth});case"ADD_FIRESTORE":return(0,V.Z)((0,V.Z)({},e),{},{firestore:t.firestore});case"ADD_FIREBASE":return(0,V.Z)((0,V.Z)({},e),{},{firebase:t.firebase});default:return e}},token:p.T,chat:b.wZ,mainInfo:S.nF,news:HI.newsReducer,comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT,t=arguments.length>1?arguments[1]:void 0;return t.type===PT?(0,V.Z)((0,V.Z)({},e),{},{comment:t.comment}):e},sub:mT.pQ,limit:LT.o_}),jT=(0,z.MT)(FT,(0,z.md)(MT));MT.run(DT);var UT=n(3855);function VT(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return qT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zT(e,t,n){return t&&BT(e.prototype,t),n&&BT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var GT=function(){return"function"===typeof Symbol},QT=function(e){return GT()&&Boolean(Symbol[e])},KT=function(e){return QT(e)?Symbol[e]:"@@"+e};GT()&&!QT("observable")&&(Symbol.observable=Symbol("observable"));var WT=KT("iterator"),HT=KT("observable"),YT=KT("species");function $T(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function JT(e){var t=e.constructor;return void 0!==t&&null===(t=t[YT])&&(t=void 0),void 0!==t?t:sZ}function XT(e){return e instanceof sZ}function eZ(e){eZ.log?eZ.log(e):setTimeout((function(){throw e}))}function tZ(e){Promise.resolve().then((function(){try{e()}catch(t){eZ(t)}}))}function nZ(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=$T(t,"unsubscribe");n&&n.call(t)}}catch(r){eZ(r)}}function rZ(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function iZ(e,t,n){e._state="running";var r=e._observer;try{var i=$T(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(rZ(e),!i)throw n;i.call(r,n);break;case"complete":rZ(e),i&&i.call(r)}}catch(a){eZ(a)}"closed"===e._state?nZ(e):"running"===e._state&&(e._state="ready")}function aZ(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void tZ((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(iZ(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void iZ(e,t,n);e._queue.push({type:t,value:n})}}var oZ=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new uZ(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(rZ(this),nZ(this))},zT(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),uZ=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){aZ(this._subscription,"next",e)},t.error=function(e){aZ(this._subscription,"error",e)},t.complete=function(){aZ(this._subscription,"complete")},zT(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),sZ=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new oZ(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var i=t.subscribe({next:function(t){try{e(t,a)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function a(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(JT(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(JT(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=JT(this),r=arguments.length>1,i=!1,a=arguments[1],o=a;return new n((function(n){return t.subscribe({next:function(t){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(u){return n.error(u)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=JT(this);return new i((function(t){var r,a=0;return function e(o){r=o.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){a===n.length?(r=void 0,t.complete()):e(i.from(n[a++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=JT(this);return new n((function(r){var i=[],a=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(u){return r.error(u)}var a=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(a);e>=0&&i.splice(e,1),o()}});i.push(a)},error:function(e){r.error(e)},complete:function(){o()}});function o(){a.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),a.unsubscribe()}}))},t[HT]=function(){return this},e.from=function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=$T(t,HT);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return XT(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(QT("iterator")&&(r=$T(t,WT)))return new n((function(e){tZ((function(){if(!e.closed){for(var n,i=VT(r.call(t));!(n=i()).done;){var a=n.value;if(e.next(a),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){tZ((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"===typeof this?this:e;return new i((function(e){tZ((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},zT(e,null,[{key:YT,get:function(){return this}}]),e}();GT()&&Object.defineProperty(sZ,Symbol("extensions"),{value:{symbol:HT,hostReportError:eZ},configurable:!0});var cZ=n(2127);function lZ(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw __DEV__?new UT.ej("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new UT.ej(43);"FragmentDefinition"===e.kind&&r.push(e)})),"undefined"===typeof n&&(__DEV__?(0,UT.kG)(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):(0,UT.kG)(1===r.length,44),n=r[0].name.value),(0,ub.pi)((0,ub.pi)({},e),{definitions:(0,ub.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function fZ(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function hZ(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=e.name.value;if("function"===typeof t)return t(n);var r=t&&t[n];return __DEV__?(0,UT.kG)(r,"No fragment named ".concat(n)):(0,UT.kG)(r,45),r||null;default:return null}}function dZ(e){return{__ref:String(e)}}function pZ(e){return Boolean(e&&"object"===typeof e&&"string"===typeof e.__ref)}function vZ(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return vZ(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var a=(r||{})[n.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return vZ(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new UT.ej('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new UT.ej(54);e[t.value]=null}}var yZ=["connection","include","skip","client","rest","export"],mZ=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),"".concat(n.connection.key,"(").concat(gZ(i),")")}return n.connection.key}var a=e;if(t){var o=gZ(t);a+="(".concat(o,")")}return n&&Object.keys(n).forEach((function(e){-1===yZ.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@".concat(e,"(").concat(gZ(n[e]),")"):a+="@".concat(e))})),a}),{setStringify:function(e){var t=gZ;return gZ=e,t}}),gZ=function(e){return JSON.stringify(e,bZ)};function bZ(e,t){return(0,cZ.s)(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function kZ(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return vZ(n,r,i,t)})),n}return null}function wZ(e){return e.alias?e.alias.value:e.name.value}function xZ(e,t,n){if("string"===typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var a=i[r];if(EZ(a)){if("__typename"===a.name.value)return e[wZ(a)]}else{var o=xZ(e,hZ(a,n).selectionSet,n);if("string"===typeof o)return o}}}function EZ(e){return"Field"===e.kind}function _Z(e){return"InlineFragment"===e.kind}function SZ(e){__DEV__?(0,UT.kG)(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,UT.kG)(e&&"Document"===e.kind,46);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new UT.ej('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new UT.ej(47);return e}));return __DEV__?(0,UT.kG)(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):(0,UT.kG)(t.length<=1,48),e}function IZ(e){return SZ(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function TZ(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function ZZ(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function NZ(e){var t=IZ(e);return __DEV__?(0,UT.kG)(t&&"query"===t.operation,"Must contain a query definition."):(0,UT.kG)(t&&"query"===t.operation,49),t}function CZ(e){var t;SZ(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var a=i.operation;if("query"===a||"mutation"===a||"subscription"===a)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw __DEV__?new UT.ej("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new UT.ej(53)}function OZ(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&vZ(t,e.variable.name,e.defaultValue)})),t}function AZ(e,t){return t?t(e):sZ.of()}function DZ(e){return"function"===typeof e?new LZ(e):e}function RZ(e){return e.request.length<=1}var PZ=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return(0,ub.ZT)(t,e),t}(Error),LZ=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return sZ.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(DZ).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=DZ(n),a=DZ(r||new e(AZ));return RZ(i)&&RZ(a)?new e((function(e){return t(e)?i.request(e)||sZ.of():a.request(e)||sZ.of()})):new e((function(e,n){return t(e)?i.request(e,n)||sZ.of():a.request(e,n)||sZ.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=(0,ub.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"===typeof e?(0,ub.pi)((0,ub.pi)({},n),e(n)):(0,ub.pi)((0,ub.pi)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,ub.pi)({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?TZ(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw __DEV__?new UT.ej("illegal argument: ".concat(i)):new UT.ej(26)}return e}(t))))||sZ.of()},e.concat=function(t,n){var r=DZ(t);if(RZ(r))return __DEV__&&UT.kG.warn(new PZ("You are calling concat on a terminating link, which will have no effect",r)),r;var i=DZ(n);return RZ(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||sZ.of()}))||sZ.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||sZ.of()}))||sZ.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(AZ)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new UT.ej("request is not implemented"):new UT.ej(21)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),MZ=LZ.execute,FZ=n(3943),jZ=n(7173),UZ=n(365),VZ=n(3208),qZ=Object.freeze({});function BZ(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:UZ.h8,r=new Map,i=0,o=Object.values(VZ.h);i<o.length;i++){var u=o[i];r.set(u,zZ(t,u))}var s=void 0,c=Array.isArray(e),l=[e],f=-1,h=[],d=e,p=void 0,v=void 0,y=[],m=[];do{var g=++f===l.length,b=g&&0!==h.length;if(g){if(p=0===m.length?void 0:y[y.length-1],d=v,v=m.pop(),b)if(c){d=d.slice();var k,w=0,x=(0,Q.Z)(h);try{for(x.s();!(k=x.n()).done;){var E=(0,a.Z)(k.value,2),_=E[0],S=E[1],I=_-w;null===S?(d.splice(I,1),w++):d[I]=S}}catch(M){x.e(M)}finally{x.f()}}else{d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d));var T,Z=(0,Q.Z)(h);try{for(Z.s();!(T=Z.n()).done;){var N=(0,a.Z)(T.value,2),C=N[0],O=N[1];d[C]=O}}catch(M){Z.e(M)}finally{Z.f()}}f=s.index,l=s.keys,h=s.edits,c=s.inArray,s=s.prev}else if(v){if(null===(d=v[p=c?f:l[f]])||void 0===d)continue;y.push(p)}var A,D=void 0;if(!Array.isArray(d)){var R,P;(0,UZ.UG)(d)||(0,FZ.a)(!1,"Invalid AST Node: ".concat((0,jZ.X)(d),"."));var L=g?null===(R=r.get(d.kind))||void 0===R?void 0:R.leave:null===(P=r.get(d.kind))||void 0===P?void 0:P.enter;if((D=null===L||void 0===L?void 0:L.call(t,d,p,v,y,m))===qZ)break;if(!1===D){if(!g){y.pop();continue}}else if(void 0!==D&&(h.push([p,D]),!g)){if(!(0,UZ.UG)(D)){y.pop();continue}d=D}}if(void 0===D&&b&&h.push([p,d]),g)y.pop();else s={inArray:c,index:f,keys:l,edits:h,prev:s},l=(c=Array.isArray(d))?d:null!==(A=n[d.kind])&&void 0!==A?A:[],f=-1,h=[],v&&m.push(v),v=d}while(void 0!==s);return 0!==h.length?h[h.length-1][1]:e}function zZ(e,t){var n=e[t];return"object"===typeof n?n:"function"===typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function GZ(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?(0,UT.kG)(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):(0,UT.kG)(n&&1===n.length,40);var i=n[0];__DEV__?(0,UT.kG)(i.name&&"if"===i.name.value,"Invalid argument for the @".concat(r," directive.")):(0,UT.kG)(i.name&&"if"===i.name.value,41);var a=i.value;__DEV__?(0,UT.kG)(a&&("Variable"===a.kind||"BooleanValue"===a.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):(0,UT.kG)(a&&("Variable"===a.kind||"BooleanValue"===a.kind),42),t.push({directive:e,ifArgument:i})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t&&t[r.value.name.value],__DEV__?(0,UT.kG)(void 0!==i,"Invalid variable referenced in @".concat(n.name.value," directive.")):(0,UT.kG)(void 0!==i,39)):i=r.value.value,"skip"===n.name.value?!i:i}))}function QZ(e,t,n){var r=new Set(e),i=r.size;return BZ(t,{Directive:function(e){if(r.delete(e.name.value)&&(!n||!r.size))return qZ}}),n?!r.size:r.size<i}function KZ(e){return e&&QZ(["client","export"],e,!0)}var WZ=function(e,t){var n;try{n=JSON.stringify(e)}catch(i){var r=__DEV__?new UT.ej("Network request failed. ".concat(t," is not serializable: ").concat(i.message)):new UT.ej(23);throw r.parseError=i,r}return n},HZ=n(1064);function YZ(e){var t=null,n=null,r=!1,i=[],a=[];function o(e){if(!n){if(a.length){var t=a.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}i.push(e)}}function u(e){n=e,a.slice().forEach((function(t){t[1](e)})),!t||t()}function s(){r=!0,a.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",o),e.removeListener("error",u),e.removeListener("end",s),e.removeListener("finish",s),e.removeListener("close",s)},e.on("data",o),e.on("error",u),e.on("end",s),e.on("finish",s),e.on("close",s);var c={next:function(){return new Promise((function(e,t){return n?t(n):i.length?e({value:i.shift(),done:!1}):r?e({value:void 0,done:!0}):void a.push([e,t])}))}};return HZ.DN&&(c[Symbol.asyncIterator]=function(){return this}),c}function $Z(e){var t={next:function(){return e.read()}};return HZ.DN&&(t[Symbol.asyncIterator]=function(){return this}),t}function JZ(e){var t=e;if(e.body&&(t=e.body),function(e){return!(!HZ.DN||!e[Symbol.asyncIterator])}(t))return function(e){var t,n=e[Symbol.asyncIterator]();return(t={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},t}(t);if(function(e){return!!e.getReader}(t))return $Z(t.getReader());if(function(e){return!!e.stream}(t))return $Z(t.stream().getReader());if(function(e){return!!e.arrayBuffer}(t))return function(e){var t=!1,n={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise((function(t,n){e.then((function(e){t({value:e,done:!1})})).catch(n)})))}};return HZ.DN&&(n[Symbol.asyncIterator]=function(){return this}),n}(t.arrayBuffer());if(function(e){return!!e.pipe}(t))return YZ(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var XZ=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},eN=Object.prototype.hasOwnProperty;function tN(e){var t={};return e.split("\n").forEach((function(e){var n=e.indexOf(":");if(n>-1){var r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();t[r]=i}})),t}function nN(e,t){if(e.status>=300){XZ(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}function rN(e,t){var n,r;"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&(null===(n=t.next)||void 0===n||n.call(t,e.result)),null===(r=t.error)||void 0===r||r.call(t,e))}function iN(e,t,n){var r;(r=t,function(e){return e.text().then((function(t){return nN(e,t)})).then((function(t){return e.status>=300&&XZ(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||eN.call(t,"data")||eN.call(t,"errors")||XZ(e,t,"Server response was missing for query '".concat(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName,"'.")),t}))})(e).then((function(e){var t,r;null===(t=n.next)||void 0===t||t.call(n,e),null===(r=n.complete)||void 0===r||r.call(n)})).catch((function(e){return rN(e,n)}))}var aN=n(7810);var oN=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function uN(e){return sN[e.charCodeAt(0)]}var sN=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function cN(e){return BZ(e,lN)}var lN={Name:{leave:function(e){return e.value}},Variable:{leave:function(e){return"$"+e.name}},Document:{leave:function(e){return fN(e.definitions,"\n\n")}},OperationDefinition:{leave:function(e){var t=dN("(",fN(e.variableDefinitions,", "),")"),n=fN([e.operation,fN([e.name,t]),fN(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+dN(" = ",r)+dN(" ",fN(i," "))}},SelectionSet:{leave:function(e){return hN(e.selections)}},Field:{leave:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,a=e.selectionSet,o=dN("",t,": ")+n,u=o+dN("(",fN(r,", "),")");return u.length>80&&(u=o+dN("(\n",pN(fN(r,"\n")),"\n)")),fN([u,fN(i," "),a]," ")}},Argument:{leave:function(e){return e.name+": "+e.value}},FragmentSpread:{leave:function(e){return"..."+e.name+dN(" ",fN(e.directives," "))}},InlineFragment:{leave:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return fN(["...",dN("on ",t),fN(n," "),r]," ")}},FragmentDefinition:{leave:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,a=e.selectionSet;return"fragment ".concat(t).concat(dN("(",fN(r,", "),")")," ")+"on ".concat(n," ").concat(dN("",fN(i," ")," "))+a}},IntValue:{leave:function(e){return e.value}},FloatValue:{leave:function(e){return e.value}},StringValue:{leave:function(e){var t=e.value;return e.block?(0,aN.LZ)(t):'"'.concat(t.replace(oN,uN),'"')}},BooleanValue:{leave:function(e){return e.value?"true":"false"}},NullValue:{leave:function(){return"null"}},EnumValue:{leave:function(e){return e.value}},ListValue:{leave:function(e){return"["+fN(e.values,", ")+"]"}},ObjectValue:{leave:function(e){return"{"+fN(e.fields,", ")+"}"}},ObjectField:{leave:function(e){return e.name+": "+e.value}},Directive:{leave:function(e){return"@"+e.name+dN("(",fN(e.arguments,", "),")")}},NamedType:{leave:function(e){return e.name}},ListType:{leave:function(e){return"["+e.type+"]"}},NonNullType:{leave:function(e){return e.type+"!"}},SchemaDefinition:{leave:function(e){var t=e.description,n=e.directives,r=e.operationTypes;return dN("",t,"\n")+fN(["schema",fN(n," "),hN(r)]," ")}},OperationTypeDefinition:{leave:function(e){return e.operation+": "+e.type}},ScalarTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives;return dN("",t,"\n")+fN(["scalar",n,fN(r," ")]," ")}},ObjectTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.interfaces,i=e.directives,a=e.fields;return dN("",t,"\n")+fN(["type",n,dN("implements ",fN(r," & ")),fN(i," "),hN(a)]," ")}},FieldDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.arguments,i=e.type,a=e.directives;return dN("",t,"\n")+n+(vN(r)?dN("(\n",pN(fN(r,"\n")),"\n)"):dN("(",fN(r,", "),")"))+": "+i+dN(" ",fN(a," "))}},InputValueDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.type,i=e.defaultValue,a=e.directives;return dN("",t,"\n")+fN([n+": "+r,dN("= ",i),fN(a," ")]," ")}},InterfaceTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.interfaces,i=e.directives,a=e.fields;return dN("",t,"\n")+fN(["interface",n,dN("implements ",fN(r," & ")),fN(i," "),hN(a)]," ")}},UnionTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives,i=e.types;return dN("",t,"\n")+fN(["union",n,fN(r," "),dN("= ",fN(i," | "))]," ")}},EnumTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives,i=e.values;return dN("",t,"\n")+fN(["enum",n,fN(r," "),hN(i)]," ")}},EnumValueDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives;return dN("",t,"\n")+fN([n,fN(r," ")]," ")}},InputObjectTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives,i=e.fields;return dN("",t,"\n")+fN(["input",n,fN(r," "),hN(i)]," ")}},DirectiveDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.arguments,i=e.repeatable,a=e.locations;return dN("",t,"\n")+"directive @"+n+(vN(r)?dN("(\n",pN(fN(r,"\n")),"\n)"):dN("(",fN(r,", "),")"))+(i?" repeatable":"")+" on "+fN(a," | ")}},SchemaExtension:{leave:function(e){var t=e.directives,n=e.operationTypes;return fN(["extend schema",fN(t," "),hN(n)]," ")}},ScalarTypeExtension:{leave:function(e){return fN(["extend scalar",e.name,fN(e.directives," ")]," ")}},ObjectTypeExtension:{leave:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return fN(["extend type",t,dN("implements ",fN(n," & ")),fN(r," "),hN(i)]," ")}},InterfaceTypeExtension:{leave:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return fN(["extend interface",t,dN("implements ",fN(n," & ")),fN(r," "),hN(i)]," ")}},UnionTypeExtension:{leave:function(e){var t=e.name,n=e.directives,r=e.types;return fN(["extend union",t,fN(n," "),dN("= ",fN(r," | "))]," ")}},EnumTypeExtension:{leave:function(e){var t=e.name,n=e.directives,r=e.values;return fN(["extend enum",t,fN(n," "),hN(r)]," ")}},InputObjectTypeExtension:{leave:function(e){var t=e.name,n=e.directives,r=e.fields;return fN(["extend input",t,fN(n," "),hN(r)]," ")}}};function fN(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null===e||void 0===e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function hN(e){return dN("{\n",pN(fN(e,"\n")),"\n}")}function dN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function pN(e){return dN("  ",e.replace(/\n/g,"\n  "))}function vN(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((function(e){return e.includes("\n")})))&&void 0!==t&&t}var yN={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},mN=function(e,t){return t(e)};function gN(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},a={};n.forEach((function(e){i=(0,ub.pi)((0,ub.pi)((0,ub.pi)({},i),e.options),{headers:(0,ub.pi)((0,ub.pi)({},i.headers),e.headers)}),e.credentials&&(i.credentials=e.credentials),a=(0,ub.pi)((0,ub.pi)({},a),e.http)})),i.headers=bN(i.headers,a.preserveHeaderCase);var o=e.operationName,u=e.extensions,s=e.variables,c=e.query,l={operationName:o,variables:s};return a.includeExtensions&&(l.extensions=u),a.includeQuery&&(l.query=t(c,cN)),{options:i,body:l}}function bN(e,t){if(!t){var n=Object.create(null);return Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]=e[t]})),n}var r=Object.create(null);Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]={originalName:t,value:e[t]}}));var i=Object.create(null);return Object.keys(r).forEach((function(e){i[r[e].originalName]=r[e].value})),i}function kN(e){return new sZ((function(t){t.error(e)}))}var wN=(0,UT.wY)((function(){return fetch})),xN=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.print,a=void 0===i?mN:i,o=e.includeExtensions,u=e.preserveHeaderCase,s=e.useGETForQueries,c=e.includeUnusedVariables,l=void 0!==c&&c,f=(0,ub._T)(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"===typeof fetch)throw __DEV__?new UT.ej("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new UT.ej(22)}(r||wN);var h={http:{includeExtensions:o,preserveHeaderCase:u},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new LZ((function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"===typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),o={};if(i.clientAwareness){var u=i.clientAwareness,c=u.name,f=u.version;c&&(o["apollographql-client-name"]=c),f&&(o["apollographql-client-version"]=f)}var d,p=(0,ub.pi)((0,ub.pi)({},o),i.headers),v={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:p},y=gN(e,a,yN,h,v),m=y.options,g=y.body;if(g.variables&&!l){var b=new Set(Object.keys(g.variables));BZ(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&b.delete(e.name.value)}}),b.size&&(g.variables=(0,ub.pi)({},g.variables),b.forEach((function(e){delete g.variables[e]})))}if(!m.signal){var k=function(){if("undefined"===typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),w=k.controller,x=k.signal;(d=w)&&(m.signal=x)}if(s&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(m.method="GET"),QZ(["defer"],e.query)&&(m.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),"GET"===m.method){var E=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=WZ(t.variables,"Variables map")}catch(S){return{parseError:S}}r("variables",i)}if(t.extensions){var a=void 0;try{a=WZ(t.extensions,"Extensions map")}catch(S){return{parseError:S}}r("extensions",a)}var o="",u=e,s=e.indexOf("#");-1!==s&&(o=e.substr(s),u=e.substr(0,s));var c=-1===u.indexOf("?")?"?":"&";return{newURI:u+c+n.join("&")+o}}(t,g),_=E.newURI,S=E.parseError;if(S)return kN(S);t=_}else try{m.body=WZ(g,"Payload")}catch(S){return kN(S)}return new sZ((function(n){return(r||(0,UT.wY)((function(){return fetch}))||wN)(t,m).then((function(t){var r;e.setContext({response:t});var i=null===(r=t.headers)||void 0===r?void 0:r.get("content-type");return null!==i&&/^multipart\/mixed/i.test(i)?function(e,t){var n,r,i;return(0,ub.mG)(this,void 0,void 0,(function(){var a,o,u,s,c,l,f,h,d,p,v,y,m,g,b,k,w,x,E,_;return(0,ub.Jh)(this,(function(S){switch(S.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");a=new TextDecoder("utf-8"),o=null===(n=e.headers)||void 0===n?void 0:n.get("content-type"),u="boundary=",s=(null===o||void 0===o?void 0:o.includes(u))?null===o||void 0===o?void 0:o.substring((null===o||void 0===o?void 0:o.indexOf(u))+u.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",c="--".concat(s),l="",f=JZ(e),h=!0,S.label=1;case 1:return h?[4,f.next()]:[3,3];case 2:for(d=S.sent(),p=d.value,v=d.done,y="string"===typeof p?p:a.decode(p),h=!v,m=(l+=y).indexOf(c);m>-1;){if(g=void 0,_=[l.slice(0,m),l.slice(m+c.length)],l=_[1],(g=_[0]).trim()){if(b=g.indexOf("\r\n\r\n"),k=tN(g.slice(0,b)),(w=k["content-type"])&&-1===w.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");x=g.slice(b);try{E=nN(e,x.replace("\r\n","")),(Object.keys(E).length>1||"data"in E||"incremental"in E||"errors"in E)&&(null===(r=t.next)||void 0===r||r.call(t,E))}catch(I){rN(I,t)}}m=l.indexOf(c)}return[3,1];case 3:return null===(i=t.complete)||void 0===i||i.call(t),[2]}}))}))}(t,n):iN(t,e,n)})).catch((function(e){return rN(e,n)})),function(){d&&d.abort()}}))}))},EN=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,xN(t).request)||this;return n.options=t,n}return(0,ub.ZT)(t,e),t}(LZ),_N=n(5970),SN=n(5598),IN=Object.prototype.hasOwnProperty;function TN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ZN(e)}function ZN(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new CN,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var NN=function(e,t,n){return this.merge(e[n],t[n])},CN=function(){function e(e){void 0===e&&(e=NN),this.reconciler=e,this.isObject=cZ.s,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return(0,cZ.s)(t)&&(0,cZ.s)(e)?(Object.keys(t).forEach((function(i){if(IN.call(e,i)){var a=e[i];if(t[i]!==a){var o=n.reconciler.apply(n,(0,ub.ev)([e,t,i],r,!1));o!==a&&((e=n.shallowCopyForMerge(e))[i]=o)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){return(0,cZ.s)(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):(0,ub.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}();function ON(e){return"incremental"in e}function AN(e,t){var n=e,r=new CN;return ON(t)&&(0,SN.O)(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,i=e.path,a=i.length-1;a>=0;--a){var o=i[a],u=!isNaN(+o)?[]:{};u[o]=t,t=u}n=r.merge(n,t)})),n}var DN=function(){return Object.create(null)},RN=Array.prototype,PN=RN.forEach,LN=RN.slice,MN=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=DN),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return PN.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(LN.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}();var FN=n(3200),jN=Object.prototype.hasOwnProperty;function UN(e){return null===e||void 0===e}var VN=Array.isArray;function qN(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"===typeof n&&(t&&(t.keyObject=UN(r)?UN(i)?void 0:{_id:i}:{id:r}),UN(r)&&!UN(i)&&(r=i),!UN(r)))return"".concat(n,":").concat("number"===typeof r||"string"===typeof r?r:JSON.stringify(r))}var BN={dataIdFromObject:qN,addTypename:!0,resultCaching:!0,canonizeResults:!1};function zN(e){var t=e.canonizeResults;return void 0===t?BN.canonizeResults:t}var GN=/^[_a-z][_0-9a-z]*/i;function QN(e){var t=e.match(GN);return t?t[0]:e}function KN(e,t,n){return!!(0,cZ.s)(t)&&(VN(t)?t.every((function(t){return KN(e,t,n)})):e.selections.every((function(e){if(EZ(e)&&GZ(e,n)){var r=wZ(e);return jN.call(t,r)&&(!e.selectionSet||KN(e.selectionSet,t[r],n))}return!0})))}function WN(e){return(0,cZ.s)(e)&&!pZ(e)&&!VN(e)}function HN(e,t){var n=fZ(ZZ(e));return{fragmentMap:n,lookupFragment:function(e){var r=n[e];return!r&&t&&(r=t.lookup(e)),r||null}}}var YN,$N,JN=function(){function e(){this.known=new(HZ.sy?WeakSet:Set),this.pool=new MN(HZ.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return(0,cZ.s)(e)&&this.known.has(e)},e.prototype.pass=function(e){if((0,cZ.s)(e)){var t=function(e){return(0,cZ.s)(e)?VN(e)?e.slice(0):(0,ub.pi)({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if((0,cZ.s)(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(u=this.pool.lookupArray(r)).array||(this.known.add(u.array=r),__DEV__&&Object.freeze(r)),u.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),a=[i],o=this.sortedKeys(e);a.push(o.json);var u,s=a.length;if(o.sorted.forEach((function(n){a.push(t.admit(e[n]))})),!(u=this.pool.lookupArray(a)).object){var c=u.object=Object.create(i);this.known.add(c),o.sorted.forEach((function(e,t){c[e]=a[s+t]})),__DEV__&&Object.freeze(c)}return u.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),XN=Object.assign((function(e){if((0,cZ.s)(e)){void 0===YN&&eC();var t=YN.admit(e),n=$N.get(t);return void 0===n&&$N.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:eC});function eC(){YN=new JN,$N=new(HZ.mr?WeakMap:Map)}function tC(e,t,n){return new sZ((function(r){var i=r.next,a=r.error,o=r.complete,u=0,s=!1,c={then:function(e){return new Promise((function(t){return t(e())}))}};function l(e,t){return e?function(t){++u;var n=function(){return e(t)};c=c.then(n,n).then((function(e){--u,i&&i.call(r,e),s&&f.complete()}),(function(e){throw--u,e})).catch((function(e){a&&a.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var f={next:l(t,i),error:l(n,a),complete:function(){s=!0,u||o&&o.call(r)}},h=e.subscribe(f);return function(){return h.unsubscribe()}}))}function nC(e){var t=rC(e);return(0,SN.O)(t)}function rC(e){var t=(0,SN.O)(e.errors)?e.errors.slice(0):[];return ON(e)&&(0,SN.O)(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}function iC(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var aC={kind:"Field",name:{kind:"Name",value:"__typename"}};function oC(e,t){return!e||e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&oC(t[e.name.value],t)}))}function uC(e){return oC(IZ(e)||function(e){__DEV__?(0,UT.kG)("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,UT.kG)("Document"===e.kind,50),__DEV__?(0,UT.kG)(e.definitions.length<=1,"Fragment must have exactly one definition."):(0,UT.kG)(e.definitions.length<=1,51);var t=e.definitions[0];return __DEV__?(0,UT.kG)("FragmentDefinition"===t.kind,"Must be a fragment definition."):(0,UT.kG)("FragmentDefinition"===t.kind,52),t}(e),fZ(ZZ(e)))?null:e}function sC(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function cC(e,t){var n=Object.create(null),r=[],i=Object.create(null),a=[],o=uC(BZ(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(sC(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&hC(t.selectionSet).forEach((function(e){a.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(sC(e)(t))return null}}}));return o&&iC(r,(function(e){return!!e.name&&!n[e.name]})).length&&(o=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return uC(BZ(t,{OperationDefinition:{enter:function(t){return(0,ub.pi)((0,ub.pi)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,o)),o&&iC(a,(function(e){return!!e.name&&!i[e.name]})).length&&(o=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return uC(BZ(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(a,o)),o}var lC=Object.assign((function(e){return BZ(e,{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return EZ(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(EZ(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return(0,ub.pi)((0,ub.pi)({},e),{selections:(0,ub.ev)((0,ub.ev)([],r,!0),[aC],!1)})}}}}})}),{added:function(e){return e===aC}}),fC={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&UT.kG.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function hC(e){var t=[];return e.selections.forEach((function(e){(EZ(e)||_Z(e))&&e.selectionSet?hC(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function dC(e){return"query"===CZ(e).operation?e:BZ(e,{OperationDefinition:{enter:function(e){return(0,ub.pi)((0,ub.pi)({},e),{operation:"query"})}}})}var pC=new Map;function vC(e){var t=pC.get(e)||1;return pC.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function yC(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function mC(e){function t(t){Object.defineProperty(e,t,{value:sZ})}return HZ.aS&&Symbol.species&&t(Symbol.species),t("@@species"),e}function gC(e){return e&&"function"===typeof e.then}var bC=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],n.notify("next",e),yC(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),n.notify("error",e),yC(n.observers,"error",e))},complete:function(){var e=n.sub;if(null!==e){var t=n.sources.shift();t?gC(t)?t.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=t.subscribe(n.handlers):(e&&setTimeout((function(){return e.unsubscribe()})),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),yC(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"===typeof t&&(t=[new sZ(t)]),gC(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return(0,ub.ZT)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach((function(n){return n(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(n,r){t||(t=!0,e(n,r))}))},t}(sZ);mC(bC);var kC=n(9484),wC=n(8055),xC=Object.prototype.toString;function EC(e){return _C(e)}function _C(e,t){switch(xC.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=_C(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=_C(e[n],t)})),r;default:return e}}var SC=Object.assign,IC=Object.hasOwnProperty,TC=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,i=t.options,a=e.call(this,(function(e){try{var n=e._subscription._observer;n&&!n.error&&(n.error=NC)}catch(t){}var r=!a.observers.size;a.observers.add(e);var i=a.last;return i&&i.error?e.error&&e.error(i.error):i&&i.result&&e.next&&e.next(i.result),r&&a.reobserve().catch((function(){})),function(){a.observers.delete(e)&&!a.observers.size&&a.tearDownQuery()}}))||this;a.observers=new Set,a.subscriptions=new Set,a.queryInfo=r,a.queryManager=n,a.isTornDown=!1;var o=n.defaultOptions.watchQuery,u=(void 0===o?{}:o).fetchPolicy,s=void 0===u?"cache-first":u,c=i.fetchPolicy,l=void 0===c?s:c,f=i.initialFetchPolicy,h=void 0===f?"standby"===l?s:l:f;a.options=(0,ub.pi)((0,ub.pi)({},i),{initialFetchPolicy:h,fetchPolicy:l}),a.queryId=r.queryId||n.generateQueryId();var d=IZ(a.query);return a.queryName=d&&d.name&&d.name.value,a}return(0,ub.ZT)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||wC.I.ready,r=(0,ub.pi)((0,ub.pi)({},t),{loading:(0,wC.O)(n),networkStatus:n}),i=this.options.fetchPolicy,a=void 0===i?"cache-first":i;if("network-only"===a||"no-cache"===a||"standby"===a||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var o=this.queryInfo.getDiff();(o.complete||this.options.returnPartialData)&&(r.data=o.result),(0,_N.D)(r.data,{})&&(r.data=void 0),o.complete?(delete r.partial,!o.complete||r.networkStatus!==wC.I.loading||"cache-first"!==a&&"cache-only"!==a||(r.networkStatus=wC.I.ready,r.loading=!1)):r.partial=!0,!__DEV__||o.complete||this.options.partialRefetch||r.loading||r.data||r.error||CC(o.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e,t){return!this.last||!(0,_N.D)(this.last.result,e)||t&&!(0,_N.D)(this.last.variables,t)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||(0,_N.D)(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&IC.call(e,"variables")){var i=NZ(this.query),a=i.variableDefinitions;a&&a.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&UT.kG.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=i.name)||void 0===t?void 0:t.value)||JSON.stringify(i),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!(0,_N.D)(this.options.variables,e)&&(n.variables=this.options.variables=(0,ub.pi)((0,ub.pi)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,wC.I.refetch)},t.prototype.fetchMore=function(e){var t=this,n=(0,ub.pi)((0,ub.pi)({},e.query?e:(0,ub.pi)((0,ub.pi)((0,ub.pi)((0,ub.pi)({},this.options),{query:this.query}),e),{variables:(0,ub.pi)((0,ub.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId(),i=this.queryInfo,a=i.networkStatus;i.networkStatus=wC.I.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var o=new Set;return this.queryManager.fetchQuery(r,n,wC.I.fetchMore).then((function(u){return t.queryManager.removeQuery(r),i.networkStatus===wC.I.fetchMore&&(i.networkStatus=a),t.queryManager.cache.batch({update:function(r){var i=e.updateQuery;i?r.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return i(e,{fetchMoreResult:u.data,variables:n.variables})})):r.writeQuery({query:n.query,variables:n.variables,data:u.data})},onWatchUpdated:function(e){o.add(e.query)}}),u})).finally((function(){o.has(t.query)||ZC(t)}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):__DEV__&&UT.kG.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return(0,_N.D)(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},wC.I.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var n=t.fetchPolicy,r=void 0===n?"cache-first":n,i=t.initialFetchPolicy,a=void 0===i?r:i;"standby"===r||("function"===typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(r,{reason:e,options:t,observable:this,initialFetchPolicy:a}):t.fetchPolicy="variables-changed"===e?a:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?(0,UT.kG)(n,"Attempted to start a polling query without a polling interval."):(0,UT.kG)(n,12),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&((0,wC.O)(e.queryInfo.networkStatus)?i():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},wC.I.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=(0,ub.pi)((0,ub.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?e:EC(e),variables:t}),(0,SN.O)(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var n=this;this.isTornDown=!1;var r=t===wC.I.refetch||t===wC.I.fetchMore||t===wC.I.poll,i=this.options.variables,a=this.options.fetchPolicy,o=(0,FN.o)(this.options,e||{}),u=r?o:SC(this.options,o);r||(this.updatePolling(),e&&e.variables&&!(0,_N.D)(e.variables,i)&&"standby"!==u.fetchPolicy&&u.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",u),void 0===t&&(t=wC.I.setVariables)));var s=u.variables&&(0,ub.pi)({},u.variables),c=this.fetch(u,t),l={next:function(e){n.reportResult(e,s)},error:function(e){n.reportError(e,s)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=c,this.observer=l),c.addObserver(l),c.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this.getLastError();(n||this.isDifferentFromLastResult(e,t))&&((n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),yC(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=(0,ub.pi)((0,ub.pi)({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:wC.I.error,loading:!1});this.updateLastResult(n,t),yC(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(sZ);function ZC(e){var t=e.options,n=t.fetchPolicy,r=t.nextFetchPolicy;return"cache-and-network"===n||"network-only"===n?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,"function"===typeof r?r.apply(this,arguments):n}}):e.reobserve()}function NC(e){__DEV__&&UT.kG.error("Unhandled error",e.message,e.stack)}function CC(e){__DEV__&&e&&__DEV__&&UT.kG.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}mC(TC);var OC=null,AC={},DC=1;function RC(e){try{return e()}catch(t){}}var PC="@wry/context:Slot",LC=RC((function(){return globalThis}))||RC((function(){return n.g}))||Object.create(null),MC=LC[PC]||Array[PC]||function(e){try{Object.defineProperty(LC,PC,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(function(){function e(){this.id=["slot",DC++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=OC;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===AC)break;return e!==OC&&(OC.slots[this.id]=t),!0}return OC&&(OC.slots[this.id]=AC),!1},e.prototype.getValue=function(){if(this.hasValue())return OC.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,a=((i={__proto__:null})[this.id]=e,i),o=OC;OC={parent:o,slots:a};try{return t.apply(r,n)}finally{OC=o}},e.bind=function(e){var t=OC;return function(){var n=OC;try{return OC=t,e.apply(this,arguments)}finally{OC=n}}},e.noContext=function(e,t,n){if(!OC)return e.apply(n,t);var r=OC;try{return OC=null,e.apply(n,t)}finally{OC=r}},e}());MC.bind,MC.noContext;function FC(){}var jC,UC=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=FC),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),VC=new MC,qC=Object.prototype.hasOwnProperty,BC=void 0===(jC=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:jC;function zC(e){var t=e.unsubscribe;"function"===typeof t&&(e.unsubscribe=void 0,t())}var GC=[];function QC(e,t){if(!e)throw new Error(t||"assertion failure")}function KC(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var WC=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!$C(this))return HC(this),this.value[0]},e.prototype.recompute=function(e){return QC(!this.recomputing,"already recomputing"),HC(this),$C(this)?function(e,t){iO(e),VC.withValue(e,YC,[e,t]),function(e,t){if("function"===typeof e.subscribe)try{zC(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(n){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,$C(e))return;XC(e)}(e);return KC(e.value)}(this,e):KC(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,JC(this),zC(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),iO(this),eO(this,(function(t,n){t.setDirty(),aO(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=GC.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(BC(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),GC.push(this.deps),this.deps=null)},e.count=0,e}();function HC(e){var t=VC.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),$C(e)?tO(t,e):nO(t,e),t}function YC(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(n){e.value[1]=n}e.recomputing=!1}function $C(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function JC(e){eO(e,tO)}function XC(e){eO(e,nO)}function eO(e,t){var n=e.parents.size;if(n)for(var r=BC(e.parents),i=0;i<n;++i)t(r[i],e)}function tO(e,t){QC(e.childValues.has(t)),QC($C(t));var n=!$C(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=GC.pop()||new Set;e.dirtyChildren.add(t),n&&JC(e)}function nO(e,t){QC(e.childValues.has(t)),QC(!$C(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),rO(e,t),$C(e)||XC(e)}function rO(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(GC.length<100&&GC.push(n),e.dirtyChildren=null))}function iO(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){aO(e,n)})),e.forgetDeps(),QC(null===e.dirtyChildren)}function aO(e,t){t.parents.delete(e),e.childValues.delete(t),rO(e,t)}var oO={setDirty:!0,dispose:!0,forget:!0};function uO(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=VC.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"===typeof n&&(zC(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var i=n&&qC.call(oO,n)?n:"setDirty";BC(r).forEach((function(e){return e[i]()})),t.delete(e),zC(r)}},r}function sO(){var e=new MN("function"===typeof WeakMap);return function(){return e.lookupArray(arguments)}}sO();var cO=new Set;function lO(e,t){void 0===t&&(t=Object.create(null));var n=new UC(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,i=t.makeCacheKey||sO(),a=function(){var a=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===a)return e.apply(null,arguments);var o=n.get(a);o||(n.set(a,o=new WC(e)),o.subscribe=t.subscribe,o.forget=function(){return n.delete(a)});var u=o.recompute(Array.prototype.slice.call(arguments));return n.set(a,o),cO.add(n),VC.hasValue()||(cO.forEach((function(e){return e.clean()})),cO.clear()),u};function o(e){var t=n.get(e);t&&t.setDirty()}function u(e){var t=n.get(e);if(t)return t.peek()}function s(e){return n.delete(e)}return Object.defineProperty(a,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),a.dirtyKey=o,a.dirty=function(){o(i.apply(null,arguments))},a.peekKey=u,a.peek=function(){return u(i.apply(null,arguments))},a.forgetKey=s,a.forget=function(){return s(i.apply(null,arguments))},a.makeCacheKey=i,a.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(a)}var fO=new MC,hO=new WeakMap;function dO(e){var t=hO.get(e);return t||hO.set(e,t={vars:new Set,dep:uO()}),t}function pO(e){dO(e).vars.forEach((function(t){return t.forgetCache(e)}))}function vO(e){var t=new Set,n=new Set,r=function r(a){if(arguments.length>0){if(e!==a){e=a,t.forEach((function(e){dO(e).dep.dirty(r),yO(e)}));var o=Array.from(n);n.clear(),o.forEach((function(t){return t(e)}))}}else{var u=fO.getValue();u&&(i(u),dO(u).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),dO(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function yO(e){e.broadcastWatches&&e.broadcastWatches()}var mO=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=TN(t.resolvers,e)})):this.resolvers=TN(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,a=e.onlyRunForcedResolvers,o=void 0!==a&&a;return(0,ub.mG)(this,void 0,void 0,(function(){return(0,ub.Jh)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,o).then((function(e){return(0,ub.pi)((0,ub.pi)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return QZ(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){SZ(e);var t=cC([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=BZ(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return EZ(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,ub.pi)((0,ub.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,ub.mG)(this,void 0,void 0,(function(){return(0,ub.Jh)(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return(0,ub.pi)((0,ub.pi)({},t),e.exportedVariables)}))]:[2,(0,ub.pi)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return BZ(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return qZ}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:dC(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,a){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===a&&(a=!1),(0,ub.mG)(this,void 0,void 0,(function(){var o,u,s,c,l,f,h,d,p;return(0,ub.Jh)(this,(function(v){return o=CZ(e),u=ZZ(e),s=fZ(u),c=o.operation,l=c?c.charAt(0).toUpperCase()+c.slice(1):"Query",h=(f=this).cache,d=f.client,p={fragmentMap:s,context:(0,ub.pi)((0,ub.pi)({},n),{cache:h,client:d}),variables:r,fragmentMatcher:i,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(o.selectionSet,t,p).then((function(e){return{result:e,exportedVariables:p.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return(0,ub.mG)(this,void 0,void 0,(function(){var r,i,a,o,u,s=this;return(0,ub.Jh)(this,(function(c){return r=n.fragmentMap,i=n.context,a=n.variables,o=[t],u=function(e){return(0,ub.mG)(s,void 0,void 0,(function(){var u,s;return(0,ub.Jh)(this,(function(c){return GZ(e,a)?EZ(e)?[2,this.resolveField(e,t,n).then((function(t){var n;"undefined"!==typeof t&&o.push(((n={})[wZ(e)]=t,n))}))]:(_Z(e)?u=e:(u=r[e.name.value],__DEV__?(0,UT.kG)(u,"No fragment named ".concat(e.name.value)):(0,UT.kG)(u,11)),u&&u.typeCondition&&(s=u.typeCondition.name.value,n.fragmentMatcher(t,s,i))?[2,this.resolveSelectionSet(u.selectionSet,t,n).then((function(e){o.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(u)).then((function(){return ZN(o)}))]}))}))},e.prototype.resolveField=function(e,t,n){return(0,ub.mG)(this,void 0,void 0,(function(){var r,i,a,o,u,s,c,l,f,h=this;return(0,ub.Jh)(this,(function(d){return r=n.variables,i=e.name.value,a=wZ(e),o=i!==a,u=t[a]||t[i],s=Promise.resolve(u),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(c=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[c])&&(f=l[o?i:a])&&(s=Promise.resolve(fO.withValue(this.cache,f,[t,kZ(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,s.then((function(t){return void 0===t&&(t=u),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?h.resolveSubSelectedArray(e,t,n):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),gO=new(HZ.mr?WeakMap:Map);function bO(e,t){var n=e[t];"function"===typeof n&&(e[t]=function(){return gO.set(e,(gO.get(e)+1)%1e15),n.apply(this,arguments)})}function kO(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var wO=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;gO.has(n)||(gO.set(n,0),bO(n,"evict"),bO(n,"modify"),bO(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||wC.I.loading;return this.variables&&this.networkStatus!==wC.I.loading&&!(0,_N.D)(this.variables,e.variables)&&(t=wC.I.setVariables),(0,_N.D)(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){kO(this),this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&(0,_N.D)(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||(0,_N.D)(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():ZC(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;kO(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if((0,wC.O)(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=(0,ub.pi)((0,ub.pi)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&(0,_N.D)(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===gO.get(this.cache)&&(0,_N.D)(t,n.variables)&&(0,_N.D)(e.data,n.result.data))},e.prototype.markResult=function(e,t,n,r){var i=this,a=new CN,o=(0,SN.O)(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&(0,SN.O)(e.incremental)){var u=AN(this.getDiff().result,e);e.data=u}else if("hasNext"in e&&e.hasNext){var s=this.getDiff();e.data=a.merge(s.result,e.data)}this.graphQLErrors=o,"no-cache"===n.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):0!==r&&(xO(e,n.errorPolicy)?this.cache.performTransaction((function(a){if(i.shouldWrite(e,n.variables))a.writeQuery({query:t,data:e.data,variables:n.variables,overwrite:1===r}),i.lastWrite={result:e,variables:n.variables,dmCount:gO.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var o=i.getDiffOptions(n.variables),u=a.diff(o);i.stopped||i.updateWatch(n.variables),i.updateLastDiff(u,o),u.complete&&(e.data=u.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=wC.I.ready},e.prototype.markError=function(e){return this.networkStatus=wC.I.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function xO(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!nC(e);return!r&&n&&e.data&&(r=!0),r}var EO=Object.prototype.hasOwnProperty,_O=function(){function e(e){var t=e.cache,n=e.link,r=e.defaultOptions,i=e.queryDeduplication,a=void 0!==i&&i,o=e.onBroadcast,u=e.ssrMode,s=void 0!==u&&u,c=e.clientAwareness,l=void 0===c?{}:c,f=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(HZ.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.defaultOptions=r||Object.create(null),this.queryDeduplication=a,this.clientAwareness=l,this.localState=f||new mO({cache:t}),this.ssrMode=s,this.assumeImmutableResults=!!h,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new UT.ej("QueryManager stopped while query was in flight"):new UT.ej(13))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t,n,r=e.mutation,i=e.variables,a=e.optimisticResponse,o=e.updateQueries,u=e.refetchQueries,s=void 0===u?[]:u,c=e.awaitRefetchQueries,l=void 0!==c&&c,f=e.update,h=e.onQueryUpdated,d=e.fetchPolicy,p=void 0===d?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":d,v=e.errorPolicy,y=void 0===v?(null===(n=this.defaultOptions.mutate)||void 0===n?void 0:n.errorPolicy)||"none":v,m=e.keepRootFields,g=e.context;return(0,ub.mG)(this,void 0,void 0,(function(){var e,t,n,u,c,d;return(0,ub.Jh)(this,(function(v){switch(v.label){case 0:return __DEV__?(0,UT.kG)(r,"mutation option is required. You must specify your GraphQL document in the mutation option."):(0,UT.kG)(r,14),__DEV__?(0,UT.kG)("network-only"===p||"no-cache"===p,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):(0,UT.kG)("network-only"===p||"no-cache"===p,15),e=this.generateMutationId(),t=this.transform(r),n=t.document,u=t.hasClientExports,r=this.cache.transformForLink(n),i=this.getVariables(r,i),u?[4,this.localState.addExportedVariables(r,i,g)]:[3,2];case 1:i=v.sent(),v.label=2;case 2:return c=this.mutationStore&&(this.mutationStore[e]={mutation:r,variables:i,loading:!0,error:null}),a&&this.markMutationOptimistic(a,{mutationId:e,document:r,variables:i,fetchPolicy:p,errorPolicy:y,context:g,updateQueries:o,update:f,keepRootFields:m}),this.broadcastQueries(),d=this,[2,new Promise((function(t,n){return tC(d.getObservableFromLink(r,(0,ub.pi)((0,ub.pi)({},g),{optimisticResponse:a}),i,!1),(function(t){if(nC(t)&&"none"===y)throw new kC.c({graphQLErrors:rC(t)});c&&(c.loading=!1,c.error=null);var n=(0,ub.pi)({},t);return"function"===typeof s&&(s=s(n)),"ignore"===y&&nC(n)&&delete n.errors,d.markMutationResult({mutationId:e,result:n,document:r,variables:i,fetchPolicy:p,errorPolicy:y,context:g,update:f,updateQueries:o,awaitRefetchQueries:l,refetchQueries:s,removeOptimistic:a?e:void 0,onQueryUpdated:h,keepRootFields:m})})).subscribe({next:function(e){d.broadcastQueries(),"hasNext"in e&&!1!==e.hasNext||t(e)},error:function(t){c&&(c.loading=!1,c.error=t),a&&d.cache.removeOptimistic(e),d.broadcastQueries(),n(t instanceof kC.c?t:new kC.c({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,i=[],a="no-cache"===e.fetchPolicy;if(!a&&xO(r,e.errorPolicy)){if(ON(r)||i.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),ON(r)&&(0,SN.O)(r.incremental)){var o=AN(t.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}).result,r);"undefined"!==typeof o&&(r.data=o,i.push({result:o,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var u=e.updateQueries;u&&this.queries.forEach((function(e,a){var o=e.observableQuery,s=o&&o.queryName;if(s&&EO.call(u,s)){var c=u[s],l=n.queries.get(a),f=l.document,h=l.variables,d=t.diff({query:f,variables:h,returnPartialData:!0,optimistic:!1}),p=d.result;if(d.complete&&p){var v=c(p,{mutationResult:r,queryName:f&&TZ(f)||void 0,queryVariables:h});v&&i.push({result:v,dataId:"ROOT_QUERY",query:f,variables:h})}}}))}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var s=[];if(this.refetchQueries({updateCache:function(t){a||i.forEach((function(e){return t.write(e)}));var o,u=e.update,s=!(ON(o=r)||function(e){return"hasNext"in e&&"data"in e}(o))||ON(r)&&!r.hasNext;if(u){if(!a){var c=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});c.complete&&("incremental"in(r=(0,ub.pi)((0,ub.pi)({},r),{data:c.result}))&&delete r.incremental,"hasNext"in r&&delete r.hasNext)}s&&u(t,r,{context:e.context,variables:e.variables})}a||e.keepRootFields||!s||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return s.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(s).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"===typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult((0,ub.pi)((0,ub.pi)({},t),{result:{data:r}}),e)}catch(i){__DEV__&&UT.kG.error(i)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.cache.transformDocument(e),r=cC([fC],SZ(n)),i=this.localState.clientQuery(n),a=r&&this.localState.serverQuery(r),o={document:n,hasClientExports:KZ(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:i,serverQuery:a,defaultVars:OZ(IZ(n)),asQuery:(0,ub.pi)((0,ub.pi)({},n),{definitions:n.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,ub.pi)((0,ub.pi)({},e),{operation:"query"}):e}))})},u=function(e){e&&!t.has(e)&&t.set(e,o)};u(e),u(n),u(i),u(a)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,ub.pi)((0,ub.pi)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){"undefined"===typeof(e=(0,ub.pi)((0,ub.pi)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new wO(this),n=new TC({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:n.query,observableQuery:n,variables:n.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?(0,UT.kG)(e.query,"query option is required. You must specify your GraphQL document in the query option."):(0,UT.kG)(e.query,16),__DEV__?(0,UT.kG)("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):(0,UT.kG)("Document"===e.query.kind,17),__DEV__?(0,UT.kG)(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):(0,UT.kG)(!e.returnPartialData,18),__DEV__?(0,UT.kG)(!e.pollInterval,"pollInterval option only supported on watchQuery."):(0,UT.kG)(!e.pollInterval,19),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new UT.ej("Store reset while query was in flight (not completed in link chain)"):new UT.ej(20)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=wC.I.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"===typeof e?r.set(e,!1):(n=e,(0,cZ.s)(n)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):(0,cZ.s)(e)&&e.query&&i.add(e))})),this.queries.forEach((function(t,i){var a=t.observableQuery,o=t.document;if(a){if("all"===e)return void n.set(i,a);var u=a.queryName;if("standby"===a.options.fetchPolicy||"active"===e&&!a.hasObservers())return;("active"===e||u&&r.has(u)||o&&r.has(o))&&(n.set(i,a),u&&r.set(u,!0),o&&r.set(o,!0))}})),i.size&&i.forEach((function(e){var r=vC("legacyOneTimeQuery"),i=t.getQuery(r).init({document:e.query,variables:e.variables}),a=new TC({queryManager:t,queryInfo:i,options:(0,ub.pi)((0,ub.pi)({},e),{fetchPolicy:"network-only"})});(0,UT.kG)(a.queryId===r),i.setObservableQuery(a),n.set(r,a)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&UT.kG.warn("Unknown query ".concat("string"===typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,i){var a=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==a&&"cache-only"!==a)&&n.push(r.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,a=e.variables,o=e.context,u=void 0===o?{}:o;n=this.transform(n).document,a=this.getVariables(n,a);var s=function(e){return t.getObservableFromLink(n,u,e).map((function(a){if("no-cache"!==r&&(xO(a,i)&&t.cache.write({query:n,result:a.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),nC(a))throw new kC.c({graphQLErrors:a.errors});return a}))};if(this.transform(n).hasClientExports){var c=this.localState.addExportedVariables(n,a,u).then(s);return new sZ((function(e){var t=null;return c.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return s(a)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,a,o=this;void 0===r&&(r=null!==(i=null===t||void 0===t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var u=this.transform(e).serverQuery;if(u){var s=this.inFlightLinkObservables,c=this.link,l={query:u,variables:n,operationName:TZ(u)||void 0,context:this.prepareContext((0,ub.pi)((0,ub.pi)({},t),{forceFetch:!r}))};if(t=l.context,r){var f=s.get(u)||new Map;s.set(u,f);var h=XN(n);if(!(a=f.get(h))){var d=new bC([MZ(c,l)]);f.set(h,a=d),d.beforeNext((function(){f.delete(h)&&f.size<1&&s.delete(u)}))}}else a=new bC([MZ(c,l)])}else a=new bC([sZ.of({data:{}})]),t=this.prepareContext(t);var p=this.transform(e).clientQuery;return p&&(a=tC(a,(function(e){return o.localState.runResolvers({document:p,remoteResult:e,context:t,variables:n})}))),a},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(this.transform(e.document).document);return tC(this.getObservableFromLink(i,n.context,n.variables),(function(a){var o=rC(a),u=o.length>0;if(r>=e.lastRequestId){if(u&&"none"===n.errorPolicy)throw e.markError(new kC.c({graphQLErrors:o}));e.markResult(a,i,n,t),e.markReady()}var s={data:a.data,loading:!1,networkStatus:wC.I.ready};return u&&"ignore"!==n.errorPolicy&&(s.errors=o,s.networkStatus=wC.I.error),s}),(function(t){var n=(0,kC.M)(t)?t:new kC.c({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=wC.I.loading);var i=this.transform(t.query).document,a=this.getVariables(i,t.variables),o=this.getQuery(e),u=this.defaultOptions.watchQuery,s=t.fetchPolicy,c=void 0===s?u&&u.fetchPolicy||"cache-first":s,l=t.errorPolicy,f=void 0===l?u&&u.errorPolicy||"none":l,h=t.returnPartialData,d=void 0!==h&&h,p=t.notifyOnNetworkStatusChange,v=void 0!==p&&p,y=t.context,m=void 0===y?{}:y,g=Object.assign({},t,{query:i,variables:a,fetchPolicy:c,errorPolicy:f,returnPartialData:d,notifyOnNetworkStatusChange:v,context:m}),b=function(e){g.variables=e;var i=r.fetchQueryByPolicy(o,g,n);return"standby"!==g.fetchPolicy&&i.length>0&&o.observableQuery&&o.observableQuery.applyNextFetchPolicy("after-fetch",t),i},k=function(){return r.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,(function(e){k(),setTimeout((function(){return w.cancel(e)}))}));var w=new bC(this.transform(g.query).hasClientExports?this.localState.addExportedVariables(g.query,g.variables,g.context).then(b):b(g.variables));return w.promise.then(k,k),w},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,i=e.optimistic,a=void 0!==i&&i,o=e.removeOptimistic,u=void 0===o?a?vC("refetchQueries"):void 0:o,s=e.onQueryUpdated,c=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){c.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var l=new Map;return n&&this.cache.batch({update:n,optimistic:a&&u||!1,removeOptimistic:u,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof wO&&e.watcher.observableQuery;if(r){if(s){c.delete(r.queryId);var i=s(r,t,n);return!0===i&&(i=r.refetch()),!1!==i&&l.set(r,i),i}null!==s&&c.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),c.size&&c.forEach((function(e,n){var r,i=e.oq,a=e.lastDiff,o=e.diff;if(s){if(!o){var u=i.queryInfo;u.reset(),o=u.getDiff()}r=s(i,o,a)}s&&!0!==r||(r=i.refetch()),!1!==r&&l.set(i,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),u&&this.cache.removeOptimistic(u),l},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,i=t.query,a=t.variables,o=t.fetchPolicy,u=t.refetchWritePolicy,s=t.errorPolicy,c=t.returnPartialData,l=t.context,f=t.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:this.transform(i).document,variables:a,networkStatus:n});var d=function(){return e.getDiff(a)},p=function(t,n){void 0===n&&(n=e.networkStatus||wC.I.loading);var o=t.result;!__DEV__||c||(0,_N.D)(o,{})||CC(t.missing);var u=function(e){return sZ.of((0,ub.pi)({data:e,loading:(0,wC.O)(n),networkStatus:n},t.complete?null:{partial:!0}))};return o&&r.transform(i).hasForcedResolvers?r.localState.runResolvers({document:i,remoteResult:{data:o},context:l,variables:a,onlyRunForcedResolvers:!0}).then((function(e){return u(e.data||void 0)})):u(o)},v="no-cache"===o?0:n===wC.I.refetch&&"merge"!==u?1:2,y=function(){return r.getResultsFromLink(e,v,{variables:a,context:l,fetchPolicy:o,errorPolicy:s})},m=f&&"number"===typeof h&&h!==n&&(0,wC.O)(n);switch(o){default:case"cache-first":return(g=d()).complete?[p(g,e.markReady())]:c||m?[p(g),y()]:[y()];case"cache-and-network":var g;return(g=d()).complete||c||m?[p(g),y()]:[y()];case"cache-only":return[p(d(),e.markReady())];case"network-only":return m?[p(d()),y()]:[y()];case"no-cache":return m?[p(e.getDiff()),y()]:[y()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new wO(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,ub.pi)((0,ub.pi)({},t),{clientAwareness:this.clientAwareness})},e}(),SO=n(3124),IO=!1,TO=function(){function e(e){var t=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,a=e.cache,o=e.ssrMode,u=void 0!==o&&o,s=e.ssrForceFetchDelay,c=void 0===s?0:s,l=e.connectToDevTools,f=void 0===l?"object"===typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:l,h=e.queryDeduplication,d=void 0===h||h,p=e.defaultOptions,v=e.assumeImmutableResults,y=void 0!==v&&v,m=e.resolvers,g=e.typeDefs,b=e.fragmentMatcher,k=e.name,w=e.version,x=e.link;if(x||(x=n?new EN({uri:n,credentials:r,headers:i}):LZ.empty()),!a)throw __DEV__?new UT.ej("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new UT.ej(9);if(this.link=x,this.cache=a,this.disableNetworkFetches=u||c>0,this.queryDeduplication=d,this.defaultOptions=p||Object.create(null),this.typeDefs=g,c&&setTimeout((function(){return t.disableNetworkFetches=!1}),c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),f&&"object"===typeof window&&(window.__APOLLO_CLIENT__=this),!IO&&f&&__DEV__&&(IO=!0,"undefined"!==typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var E=window.navigator,_=E&&E.userAgent,S=void 0;"string"===typeof _&&(_.indexOf("Chrome/")>-1?S="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":_.indexOf("Firefox/")>-1&&(S="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),S&&__DEV__&&UT.kG.log("Download the Apollo DevTools for a better development experience: "+S)}this.version="3.7.4",this.localState=new mO({cache:a,client:this,resolvers:m,fragmentMatcher:b}),this.queryManager=new _O({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:d,ssrMode:u,clientAwareness:{name:k,version:w},localState:this.localState,assumeImmutableResults:y,onBroadcast:f?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=(0,SO.J)(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,ub.pi)((0,ub.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=(0,SO.J)(this.defaultOptions.query,e)),__DEV__?(0,UT.kG)("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):(0,UT.kG)("cache-and-network"!==e.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,ub.pi)((0,ub.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=(0,SO.J)(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return MZ(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var i=Promise.all(r);return i.queries=n,i.results=r,i.catch((function(e){__DEV__&&UT.kG.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),ZO=function(){function e(){this.getFragmentDoc=lO(lZ)}return e.prototype.batch=function(e){var t,n=this,r="string"===typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,ub.pi)((0,ub.pi)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,ub.pi)((0,ub.pi)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=(0,ub._T)(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,i=e.fragmentName,a=(0,ub._T)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(a,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),i=t(r);return void 0===i||null===i?r:(n.writeQuery((0,ub.pi)((0,ub.pi)({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),i=t(r);return void 0===i||null===i?r:(n.writeFragment((0,ub.pi)((0,ub.pi)({},e),{data:i})),i)}})},e}(),NO=function(e){function t(n,r,i,a){var o,u=e.call(this,n)||this;if(u.message=n,u.path=r,u.query=i,u.variables=a,Array.isArray(u.path)){u.missing=u.message;for(var s=u.path.length-1;s>=0;--s)u.missing=((o={})[u.path[s]]=u.missing,o)}else u.missing=u.path;return u.__proto__=t.prototype,u}return(0,ub.ZT)(t,e),t}(Error),CO=n(616),OO=Object.create(null),AO=function(){return OO},DO=Object.create(null),RO=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,CO.J)(pZ(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return pZ(e)?n.has(e.__ref):"object"===typeof e},this.toReference=function(e,t){if("string"===typeof e)return dZ(e);if(pZ(e))return e;var r=n.policies.identify(e)[0];if(r){var i=dZ(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return(0,ub.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),jN.call(this.data,e)){var n=this.data[e];if(n&&jN.call(n,t))return n[t]}return"__typename"===t&&jN.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof FO?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),jN.call(this.data,e)?this.data[e]:this instanceof FO?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;pZ(e)&&(e=e.__ref),pZ(t)&&(t=t.__ref);var i="string"===typeof e?this.lookup(n=e):e,a="string"===typeof t?this.lookup(n=t):t;if(a){__DEV__?(0,UT.kG)("string"===typeof n,"store.merge expects a string ID"):(0,UT.kG)("string"===typeof n,1);var o=new CN(UO).merge(i,a);if(this.data[n]=o,o!==i&&(delete this.refs[n],this.group.caching)){var u=Object.create(null);i||(u.__exists=1),Object.keys(a).forEach((function(e){if(!i||i[e]!==o[e]){u[e]=1;var t=QN(e);t===e||r.policies.hasKeyArgs(o.__typename,t)||(u[t]=1),void 0!==o[e]||r instanceof FO||delete o[e]}})),!u.__typename||i&&i.__typename||this.policies.rootTypenamesById[n]!==o.__typename||delete u.__typename,Object.keys(u).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),a=!1,o=!0,u={DELETE:OO,INVALIDATE:DO,isReference:pZ,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"===typeof t?{fieldName:t,from:r||dZ(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(s){var c=QN(s),l=r[s];if(void 0!==l){var f="function"===typeof t?t:t[s]||t[c];if(f){var h=f===AO?OO:f((0,CO.J)(l),(0,ub.pi)((0,ub.pi)({},u),{fieldName:c,storeFieldName:s,storage:n.getStorage(e,s)}));h===DO?n.group.dirty(e,s):(h===OO&&(h=void 0),h!==l&&(i[s]=h,a=!0,l=h))}void 0!==l&&(o=!1)}})),a)return this.merge(e,i),o&&(this instanceof FO?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var a=this.getFieldValue(i,"__typename"),o=t&&n?this.policies.getStoreFieldName({typename:a,fieldName:t,args:n}):t;return this.modify(e,o?((r={})[o]=AO,r):AO)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(jN.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof FO&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){jN.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&jN.call(e,n)||t.delete(n)})),e){var n=e.__META,r=(0,ub._T)(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof FO?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){jN.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof FO;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!jN.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){pZ(e)&&(t[e.__ref]=!0),(0,cZ.s)(e)&&Object.keys(e).forEach((function(t){var n=e[t];(0,cZ.s)(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),PO=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?uO():null,this.keyMaker=new MN(HZ.mr)},e.prototype.depend=function(e,t){if(this.d){this.d(LO(e,t));var n=QN(t);n!==t&&this.d(LO(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(LO(e,t),"__exists"===t?"forget":"setDirty")},e}();function LO(e,t){return t+"#"+e}function MO(e,t){VO(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,a=t.seed,o=e.call(this,n,new PO(i))||this;return o.stump=new jO(o),o.storageTrie=new MN(HZ.mr),a&&o.replace(a),o}return(0,ub.ZT)(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(RO||(RO={}));var FO=function(e){function t(t,n,r,i){var a=e.call(this,n.policies,i)||this;return a.id=t,a.parent=n,a.replay=r,a.group=i,r(a),a}return(0,ub.ZT)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach((function(n){(0,_N.D)(r[n],i[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,ub.pi)((0,ub.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return jN.call(this.data,t)?(0,ub.pi)((0,ub.pi)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(RO),jO=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new PO(t.group.caching,t.group))||this}return(0,ub.ZT)(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(FO);function UO(e,t,n){var r=e[n],i=t[n];return(0,_N.D)(r,i)?r:i}function VO(e){return!!(e instanceof RO&&e.group.caching)}function qO(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var BO=function(){function e(e){var t=this;this.knownResults=new(HZ.mr?WeakMap:Map),this.config=(0,FN.o)(e,{addTypename:!1!==e.addTypename,canonizeResults:zN(e)}),this.canon=e.canon||new JN,this.executeSelectionSet=lO((function(e){var n,r=e.context.canonizeResults,i=qO(e);i[3]=!r;var a=(n=t.executeSelectionSet).peek.apply(n,i);return a?r?(0,ub.pi)((0,ub.pi)({},a),{result:t.canon.admit(a.result)}):a:(MO(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:qO,makeCacheKey:function(e,t,n,r){if(VO(n.store))return n.store.makeCacheKey(e,pZ(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=lO((function(e){return MO(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(VO(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new JN},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,a=e.variables,o=e.returnPartialData,u=void 0===o||o,s=e.canonizeResults,c=void 0===s?this.config.canonizeResults:s,l=this.config.cache.policies;a=(0,ub.pi)((0,ub.pi)({},OZ(NZ(n))),a);var f,h=dZ(i),d=this.executeSelectionSet({selectionSet:CZ(n).selectionSet,objectOrReference:h,enclosingRef:h,context:(0,ub.pi)({store:t,query:n,policies:l,variables:a,varString:XN(a),canonizeResults:c},HN(n,this.config.fragments))});if(d.missing&&(f=[new NO(zO(d.missing),d.missing,n,a)],!u))throw f[0];return{result:d.result,complete:!f,missing:f}},e.prototype.isFresh=function(e,t,n,r){if(VO(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.enclosingRef,a=e.context;if(pZ(r)&&!a.policies.rootTypenamesById[r.__ref]&&!a.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var o,u=a.variables,s=a.policies,c=a.store.getFieldValue(r,"__typename"),l=[],f=new CN;function h(e,t){var n;return e.missing&&(o=f.merge(o,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"===typeof c&&!s.rootIdsByTypename[c]&&l.push({__typename:c});var d=new Set(n.selections);d.forEach((function(e){var n,p;if(GZ(e,u))if(EZ(e)){var v=s.readField({fieldName:e.name.value,field:e,variables:a.variables,from:r},a),y=wZ(e);void 0===v?lC.added(e)||(o=f.merge(o,((n={})[y]="Can't find field '".concat(e.name.value,"' on ").concat(pZ(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):VN(v)?v=h(t.executeSubSelectedArray({field:e,array:v,enclosingRef:i,context:a}),y):e.selectionSet?null!=v&&(v=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:v,enclosingRef:pZ(v)?v:i,context:a}),y)):a.canonizeResults&&(v=t.canon.pass(v)),void 0!==v&&l.push(((p={})[y]=v,p))}else{var m=hZ(e,a.lookupFragment);if(!m&&e.kind===VZ.h.FRAGMENT_SPREAD)throw __DEV__?new UT.ej("No fragment named ".concat(e.name.value)):new UT.ej(5);m&&s.fragmentMatches(m,c)&&m.selectionSet.selections.forEach(d.add,d)}}));var p={result:ZN(l),missing:o},v=a.canonizeResults?this.canon.admit(p):(0,CO.J)(p);return v.result&&this.knownResults.set(v.result,n),v},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,a=e.enclosingRef,o=e.context,u=new CN;function s(e,n){var r;return e.missing&&(t=u.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map((function(e,t){return null===e?null:VN(e)?s(n.executeSubSelectedArray({field:r,array:e,enclosingRef:a,context:o}),t):r.selectionSet?s(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:pZ(e)?e:a,context:o}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){(0,cZ.s)(n)&&(__DEV__?(0,UT.kG)(!pZ(n),"Missing selection set for object of type ".concat(function(e,t){return pZ(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)," returned for query field ").concat(t.name.value)):(0,UT.kG)(!pZ(n),6),Object.values(n).forEach(r.add,r))}))}}(o.store,r,e),e)})),{result:o.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function zO(e){try{JSON.stringify(e,(function(e,t){if("string"===typeof t)throw t;return t}))}catch(t){return t}}var GO=Object.create(null);function QO(e){var t=JSON.stringify(e);return GO[t]||(GO[t]=Object.create(null))}function KO(e){var t=QO(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},i=n.keyObject=HO(e,(function(e){var i=JO(n.storeObject,e,r);return void 0===i&&t!==n.storeObject&&jN.call(t,e[0])&&(i=JO(t,e,$O)),__DEV__?(0,UT.kG)(void 0!==i,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):(0,UT.kG)(void 0!==i,2),i}));return"".concat(n.typename,":").concat(JSON.stringify(i))})}function WO(e){var t=QO(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,i=n.variables,a=n.fieldName,o=HO(e,(function(e){var n=e[0],a=n.charAt(0);if("@"!==a)if("$"!==a){if(t)return JO(t,e)}else{var o=n.slice(1);if(i&&jN.call(i,o)){var u=e.slice(0);return u[0]=o,JO(i,u)}}else if(r&&(0,SN.O)(r.directives)){var s=n.slice(1),c=r.directives.find((function(e){return e.name.value===s})),l=c&&kZ(c,i);return l&&JO(l,e.slice(1))}})),u=JSON.stringify(o);return(t||"{}"!==u)&&(a+=":"+u),a})}function HO(e,t){var n=new CN;return YO(e).reduce((function(e,r){var i,a=t(r);if(void 0!==a){for(var o=r.length-1;o>=0;--o)(i={})[r[o]]=a,a=i;e=n.merge(e,a)}return e}),Object.create(null))}function YO(e){var t=QO(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,i){VN(t)?(YO(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),VN(e[i+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function $O(e,t){return e[t]}function JO(e,t,n){return n=n||$O,XO(t.reduce((function e(t,r){return VN(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function XO(e){return(0,cZ.s)(e)?VN(e)?e.map(XO):HO(Object.keys(e).sort(),(function(t){return JO(e,t)})):e}function eA(e){return void 0!==e.args?e.args:e.field?kZ(e.field,e.variables):null}mZ.setStringify(XN);var tA=function(){},nA=function(e,t){return t.fieldName},rA=function(e,t,n){return(0,n.mergeObjects)(e,t)},iA=function(e,t){return t},aA=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,ub.pi)({dataIdFromObject:qN},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,i=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var a,o=t&&t.storeObject||e,u=(0,ub.pi)((0,ub.pi)({},t),{typename:i,storeObject:o,readField:t&&t.readField||function(){var e=uA(arguments,o);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),s=i&&this.getTypePolicy(i),c=s&&s.keyFn||this.config.dataIdFromObject;c;){var l=c(e,u);if(!VN(l)){a=l;break}c=KO(l)}return a=a?String(a):void 0,u.keyObject?[a,u.keyObject]:[a]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=r.queryType,a=r.mutationType,o=r.subscriptionType,u=(0,ub._T)(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),a&&t.setRootTypename("Mutation",n),o&&t.setRootTypename("Subscription",n),jN.call(t.toBeAdded,n)?t.toBeAdded[n].push(u):t.toBeAdded[n]=[u]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,a=t.fields;function o(e,t){e.merge="function"===typeof t?t:!0===t?rA:!1===t?iA:e.merge}o(r,t.merge),r.keyFn=!1===i?tA:VN(i)?KO(i):"function"===typeof i?i:r.keyFn,a&&Object.keys(a).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=a[t];if("function"===typeof i)r.read=i;else{var u=i.keyArgs,s=i.read,c=i.merge;r.keyFn=!1===u?nA:VN(u)?WO(u):"function"===typeof u?u:r.keyFn,"function"===typeof s&&(r.read=s),o(r,c)}r.read&&r.merge&&(r.keyFn=r.keyFn||nA)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?(0,UT.kG)(!r||r===e,"Cannot change root ".concat(e," __typename more than once")):(0,UT.kG)(!r||r===e,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(GN);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!jN.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),i=r.fields,a=(0,ub._T)(r,["fields"]);Object.assign(n,a),Object.assign(n.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var a=e.typeCondition.name.value;if(t===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a))for(var o=this.getSupertypeSet(t,!0),u=[o],s=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&u.indexOf(t)<0&&u.push(t)},c=!(!n||!this.fuzzySubtypes.size),l=!1,f=0;f<u.length;++f){var h=u[f];if(h.has(a))return o.has(a)||(l&&__DEV__&&UT.kG.warn("Inferring subtype ".concat(t," of supertype ").concat(a)),o.add(a)),!0;h.forEach(s),c&&f===u.length-1&&KN(e.selectionSet,n,r)&&(c=!1,l=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&s(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),a=i&&i.keyFn;if(a&&n)for(var o={typename:n,fieldName:r,field:e.field||null,variables:e.variables},u=eA(e);a;){var s=a(u,o);if(!VN(s)){t=s||r;break}a=WO(s)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,a=r.value;return vZ(n[e.name.value],i,a,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return vZ(r,n,i,t)}))),mZ(e.name.value,r,n)}(e.field,e.variables):mZ(r,eA(e))),!1===t?r:r===QN(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),a=QN(i),o=t.store.getFieldValue(n,i),u=this.getFieldPolicy(e.typename,a,!1),s=u&&u.read;if(s){var c=oA(this,n,e,t,t.store.getStorage(pZ(n)?n.__ref:n,i));return fO.withValue(this.cache,s,[o,c])}return o}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var a=n.field,o=n.typename,u=n.merge;return u===rA?sA(r.store)(e,t):u===iA?t:(r.overwrite&&(e=void 0),u(e,t,oA(this,void 0,{typename:o,fieldName:a.name.value,field:a,variables:r.variables},r,i||Object.create(null))))},e}();function oA(e,t,n,r,i){var a=e.getStoreFieldName(n),o=QN(a),u=n.variables||r.variables,s=r.store,c=s.toReference,l=s.canRead;return{args:eA(n),field:n.field||null,fieldName:o,storeFieldName:a,variables:u,isReference:pZ,toReference:c,storage:i,cache:e.cache,canRead:l,readField:function(){return e.readField(uA(arguments,t,u),r)},mergeObjects:sA(r.store)}}function uA(e,t,n){var r,i=e[0],a=e[1],o=e.length;return"string"===typeof i?r={fieldName:i,from:o>1?a:t}:(r=(0,ub.pi)({},i),jN.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&UT.kG.warn("Undefined 'from' passed to readField with arguments ".concat(function(e){var t=vC("stringifyForDisplay");return JSON.stringify(e,(function(e,n){return void 0===n?t:n})).split(JSON.stringify(t)).join("<undefined>")}(Array.from(e)))),void 0===r.variables&&(r.variables=n),r}function sA(e){return function(t,n){if(VN(t)||VN(n))throw __DEV__?new UT.ej("Cannot automatically merge arrays"):new UT.ej(4);if((0,cZ.s)(t)&&(0,cZ.s)(n)){var r=e.getFieldValue(t,"__typename"),i=e.getFieldValue(n,"__typename");if(r&&i&&r!==i)return n;if(pZ(t)&&WN(n))return e.merge(t.__ref,n),t;if(WN(t)&&pZ(n))return e.merge(t,n.__ref),n;if(WN(t)&&WN(n))return(0,ub.pi)((0,ub.pi)({},t),n)}return n}}function cA(e,t,n){var r="".concat(t).concat(n),i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:(0,ub.pi)((0,ub.pi)({},e),{clientOnly:t,deferred:n})),i}var lA=function(){function e(e,t,n){this.cache=e,this.reader=t,this.fragments=n}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,i=t.result,a=t.dataId,o=t.variables,u=t.overwrite,s=IZ(r),c=new CN;o=(0,ub.pi)((0,ub.pi)({},OZ(s)),o);var l=(0,ub.pi)((0,ub.pi)({store:e,written:Object.create(null),merge:function(e,t){return c.merge(e,t)},variables:o,varString:XN(o)},HN(r,this.fragments)),{overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:i||Object.create(null),dataId:a,selectionSet:s.selectionSet,mergeTree:{map:new Map},context:l});if(!pZ(f))throw __DEV__?new UT.ej("Could not identify object ".concat(JSON.stringify(i))):new UT.ej(7);return l.incomingById.forEach((function(t,r){var i=t.storeObject,a=t.mergeTree,o=t.fieldNodeSet,u=dZ(r);if(a&&a.map.size){var s=n.applyMerges(a,u,i,l);if(pZ(s))return;i=s}if(__DEV__&&!l.overwrite){var c=Object.create(null);o.forEach((function(e){e.selectionSet&&(c[e.name.value]=!0)}));Object.keys(i).forEach((function(e){(function(e){return!0===c[QN(e)]})(e)&&!function(e){var t=a&&a.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"===typeof t&&t},a=i(e);if(!a)return;var o=i(t);if(!o)return;if(pZ(a))return;if((0,_N.D)(a,o))return;if(Object.keys(a).every((function(e){return void 0!==r.getFieldValue(o,e)})))return;var u=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),s=QN(n),c="".concat(u,".").concat(s);if(yA.has(c))return;yA.add(c);var l=[];VN(a)||VN(o)||[a,o].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!==typeof t||l.includes(t)||l.push(t)}));__DEV__&&UT.kG.warn("Cache data may be lost when replacing the ".concat(s," field of a ").concat(u," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(l.length?"either ensure all objects of type "+l.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(a).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(o).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}(u,i,e,l.store)}))}e.merge(r,i)})),e.retain(f.__ref),f},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,a=e.context,o=e.mergeTree,u=this.cache.policies,s=Object.create(null),c=n&&u.rootTypenamesById[n]||xZ(r,i,a.fragmentMap)||n&&a.store.get(n,"__typename");"string"===typeof c&&(s.__typename=c);var l=function(){var e=uA(arguments,s,a.variables);if(pZ(e.from)){var t=a.incomingById.get(e.from.__ref);if(t){var n=u.readField((0,ub.pi)((0,ub.pi)({},e),{from:t.storeObject}),a);if(void 0!==n)return n}}return u.readField(e,a)},f=new Set;this.flattenFields(i,r,a,c).forEach((function(e,n){var i,a=wZ(n),h=r[a];if(f.add(n),void 0!==h){var d=u.getStoreFieldName({typename:c,fieldName:n.name.value,field:n,variables:e.variables}),p=hA(o,d),v=t.processFieldValue(h,n,n.selectionSet?cA(e,!1,!1):e,p),y=void 0;n.selectionSet&&(pZ(v)||WN(v))&&(y=l("__typename",v));var m=u.getMergeFunction(c,n.name.value,y);m?p.info={field:n,typename:c,merge:m}:vA(o,d),s=e.merge(s,((i={})[d]=v,i))}else!__DEV__||e.clientOnly||e.deferred||lC.added(n)||u.getReadFunction(c,n.name.value)||__DEV__&&UT.kG.error("Missing field '".concat(wZ(n),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))}));try{var h=u.identify(r,{typename:c,selectionSet:i,fragmentMap:a.fragmentMap,storeObject:s,readField:l}),d=h[0],p=h[1];n=n||d,p&&(s=a.merge(s,p))}catch(g){if(!n)throw g}if("string"===typeof n){var v=dZ(n),y=a.written[n]||(a.written[n]=[]);if(y.indexOf(i)>=0)return v;if(y.push(i),this.reader&&this.reader.isFresh(r,v,i,a))return v;var m=a.incomingById.get(n);return m?(m.storeObject=a.merge(m.storeObject,s),m.mergeTree=dA(m.mergeTree,o),f.forEach((function(e){return m.fieldNodeSet.add(e)}))):a.incomingById.set(n,{storeObject:s,mergeTree:pA(o)?void 0:o,fieldNodeSet:f}),v}return s},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?VN(e)?e.map((function(e,a){var o=i.processFieldValue(e,t,n,hA(r,a));return vA(r,a),o})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?EC(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=xZ(t,e,n.fragmentMap));var i=new Map,a=this.cache.policies,o=new MN(!1);return function e(u,s){var c=o.lookup(u,s.clientOnly,s.deferred);c.visited||(c.visited=!0,u.selections.forEach((function(o){if(GZ(o,n.variables)){var u=s.clientOnly,c=s.deferred;if(u&&c||!(0,SN.O)(o.directives)||o.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(u=!0),"defer"===t){var r=kZ(e,n.variables);r&&!1===r.if||(c=!0)}})),EZ(o)){var l=i.get(o);l&&(u=u&&l.clientOnly,c=c&&l.deferred),i.set(o,cA(n,u,c))}else{var f=hZ(o,n.lookupFragment);if(!f&&o.kind===VZ.h.FRAGMENT_SPREAD)throw __DEV__?new UT.ej("No fragment named ".concat(o.name.value)):new UT.ej(8);f&&a.fragmentMatches(f,r,t,n.variables)&&e(f.selectionSet,cA(n,u,c))}}})))}(e,n),i},e.prototype.applyMerges=function(e,t,n,r,i){var a,o=this;if(e.map.size&&!pZ(n)){var u,s=VN(n)||!pZ(t)&&!WN(t)?void 0:t,c=n;s&&!i&&(i=[pZ(s)?s.__ref:s]);var l=function(e,t){return VN(e)?"number"===typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=l(s,t),a=l(c,t);if(void 0!==a){i&&i.push(t);var f=o.applyMerges(e,n,a,r,i);f!==a&&(u=u||new Map).set(t,f),i&&(0,UT.kG)(i.pop()===t)}})),u&&(n=VN(c)?c.slice(0):(0,ub.pi)({},c),u.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(a=r.store).getStorage.apply(a,i)):n},e}(),fA=[];function hA(e,t){var n=e.map;return n.has(t)||n.set(t,fA.pop()||{map:new Map}),n.get(t)}function dA(e,t){if(e===t||!t||pA(t))return e;if(!e||pA(e))return t;var n=e.info&&t.info?(0,ub.pi)((0,ub.pi)({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var a=new Set(t.map.keys());e.map.forEach((function(e,n){i.map.set(n,dA(e,t.map.get(n))),a.delete(n)})),a.forEach((function(n){i.map.set(n,dA(t.map.get(n),e.map.get(n)))}))}return i}function pA(e){return!e||!(e.info||e.map.size)}function vA(e,t){var n=e.map,r=n.get(t);r&&pA(r)&&(fA.push(r),n.delete(t))}var yA=new Set;var mA=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=vO,n.txCount=0,n.config=function(e){return(0,FN.o)(BN,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new aA({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return(0,ub.ZT)(t,e),t.prototype.init=function(){var e=this.data=new RO.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new lA(this,this.storeReader=new BO({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:zN(this.config),canon:e?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=lO((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(VO(n)){var r=e.optimistic,i=e.id,a=e.variables;return n.makeCacheKey(e.query,e.callback,XN({optimistic:r,id:i,variables:a}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore((0,ub.pi)((0,ub.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof NO)return null;throw r}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(jN.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,ub.pi)((0,ub.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,n=this;return this.watches.size||dO(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&pO(n),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){XN.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(pZ(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(t){__DEV__&&UT.kG.warn(t)}},t.prototype.evict=function(e){if(!e.id){if(jN.call(e,"id"))return!1;e=(0,ub.pi)((0,ub.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),XN.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),pO(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,i=e.optimistic,a=void 0===i||i,o=e.removeOptimistic,u=e.onWatchUpdated,s=function(e){var i=n,a=i.data,o=i.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=a,n.optimisticData=o}},c=new Set;return u&&!this.txCount&&this.broadcastWatches((0,ub.pi)((0,ub.pi)({},e),{onWatchUpdated:function(e){return c.add(e),!1}})),"string"===typeof a?this.optimisticData=this.optimisticData.addLayer(a,s):!1===a?s(this.data):s(),"string"===typeof o&&(this.optimisticData=this.optimisticData.removeLayer(o)),u&&c.size?(this.broadcastWatches((0,ub.pi)((0,ub.pi)({},e),{onWatchUpdated:function(e,t){var n=u.call(this,e,t);return!1!==n&&c.delete(e),n}})),c.size&&c.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=lC(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.transformForLink=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"===typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&(0,_N.D)(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(ZO),gA=n(9819),bA=function(e){var t=e.client,n=e.children,r=(0,gA.K)();return o.createElement(r.Consumer,null,(function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),__DEV__?(0,UT.kG)(e.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):(0,UT.kG)(e.client,28),o.createElement(r.Provider,{value:e},n)}))},kA=new TO({uri:"http://".concat(m.o6,"/graphql"),cache:new mA});r.createRoot(document.getElementById("root")).render((0,v.jsx)(bA,{client:kA,children:(0,v.jsx)(u.zt,{store:jT,children:(0,v.jsx)(U,{})})}))}()}();
//# sourceMappingURL=main.70335a3c.js.map